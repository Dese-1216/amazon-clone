function GM(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(n,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();function Yb(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var eE={exports:{}},rf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pI;function KM(){if(pI)return rf;pI=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,s,o){var u=null;if(o!==void 0&&(u=""+o),s.key!==void 0&&(u=""+s.key),"key"in s){o={};for(var h in s)h!=="key"&&(o[h]=s[h])}else o=s;return s=o.ref,{$$typeof:n,type:r,key:u,ref:s!==void 0?s:null,props:o}}return rf.Fragment=e,rf.jsx=t,rf.jsxs=t,rf}var mI;function WM(){return mI||(mI=1,eE.exports=KM()),eE.exports}var z=WM(),tE={exports:{}},Ue={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gI;function QM(){if(gI)return Ue;gI=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.iterator;function v(U){return U===null||typeof U!="object"?null:(U=_&&U[_]||U["@@iterator"],typeof U=="function"?U:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,I={};function x(U,le,me){this.props=U,this.context=le,this.refs=I,this.updater=me||T}x.prototype.isReactComponent={},x.prototype.setState=function(U,le){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,le,"setState")},x.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function H(){}H.prototype=x.prototype;function V(U,le,me){this.props=U,this.context=le,this.refs=I,this.updater=me||T}var F=V.prototype=new H;F.constructor=V,w(F,x.prototype),F.isPureReactComponent=!0;var W=Array.isArray,j={H:null,A:null,T:null,S:null,V:null},$=Object.prototype.hasOwnProperty;function N(U,le,me,_e,ye,De){return me=De.ref,{$$typeof:n,type:U,key:le,ref:me!==void 0?me:null,props:De}}function C(U,le){return N(U.type,le,void 0,void 0,void 0,U.props)}function P(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function L(U){var le={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(me){return le[me]})}var O=/\/+/g;function b(U,le){return typeof U=="object"&&U!==null&&U.key!=null?L(""+U.key):le.toString(36)}function R(){}function G(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(R,R):(U.status="pending",U.then(function(le){U.status==="pending"&&(U.status="fulfilled",U.value=le)},function(le){U.status==="pending"&&(U.status="rejected",U.reason=le)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function M(U,le,me,_e,ye){var De=typeof U;(De==="undefined"||De==="boolean")&&(U=null);var Ce=!1;if(U===null)Ce=!0;else switch(De){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(U.$$typeof){case n:case e:Ce=!0;break;case g:return Ce=U._init,M(Ce(U._payload),le,me,_e,ye)}}if(Ce)return ye=ye(U),Ce=_e===""?"."+b(U,0):_e,W(ye)?(me="",Ce!=null&&(me=Ce.replace(O,"$&/")+"/"),M(ye,le,me,"",function(yr){return yr})):ye!=null&&(P(ye)&&(ye=C(ye,me+(ye.key==null||U&&U.key===ye.key?"":(""+ye.key).replace(O,"$&/")+"/")+Ce)),le.push(ye)),1;Ce=0;var nn=_e===""?".":_e+":";if(W(U))for(var Ye=0;Ye<U.length;Ye++)_e=U[Ye],De=nn+b(_e,Ye),Ce+=M(_e,le,me,De,ye);else if(Ye=v(U),typeof Ye=="function")for(U=Ye.call(U),Ye=0;!(_e=U.next()).done;)_e=_e.value,De=nn+b(_e,Ye++),Ce+=M(_e,le,me,De,ye);else if(De==="object"){if(typeof U.then=="function")return M(G(U),le,me,_e,ye);throw le=String(U),Error("Objects are not valid as a React child (found: "+(le==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":le)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function q(U,le,me){if(U==null)return U;var _e=[],ye=0;return M(U,_e,"","",function(De){return le.call(me,De,ye++)}),_e}function J(U){if(U._status===-1){var le=U._result;le=le(),le.then(function(me){(U._status===0||U._status===-1)&&(U._status=1,U._result=me)},function(me){(U._status===0||U._status===-1)&&(U._status=2,U._result=me)}),U._status===-1&&(U._status=0,U._result=le)}if(U._status===1)return U._result.default;throw U._result}var ne=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var le=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(le))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)};function we(){}return Ue.Children={map:q,forEach:function(U,le,me){q(U,function(){le.apply(this,arguments)},me)},count:function(U){var le=0;return q(U,function(){le++}),le},toArray:function(U){return q(U,function(le){return le})||[]},only:function(U){if(!P(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Ue.Component=x,Ue.Fragment=t,Ue.Profiler=s,Ue.PureComponent=V,Ue.StrictMode=r,Ue.Suspense=d,Ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,Ue.__COMPILER_RUNTIME={__proto__:null,c:function(U){return j.H.useMemoCache(U)}},Ue.cache=function(U){return function(){return U.apply(null,arguments)}},Ue.cloneElement=function(U,le,me){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var _e=w({},U.props),ye=U.key,De=void 0;if(le!=null)for(Ce in le.ref!==void 0&&(De=void 0),le.key!==void 0&&(ye=""+le.key),le)!$.call(le,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&le.ref===void 0||(_e[Ce]=le[Ce]);var Ce=arguments.length-2;if(Ce===1)_e.children=me;else if(1<Ce){for(var nn=Array(Ce),Ye=0;Ye<Ce;Ye++)nn[Ye]=arguments[Ye+2];_e.children=nn}return N(U.type,ye,void 0,void 0,De,_e)},Ue.createContext=function(U){return U={$$typeof:u,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:o,_context:U},U},Ue.createElement=function(U,le,me){var _e,ye={},De=null;if(le!=null)for(_e in le.key!==void 0&&(De=""+le.key),le)$.call(le,_e)&&_e!=="key"&&_e!=="__self"&&_e!=="__source"&&(ye[_e]=le[_e]);var Ce=arguments.length-2;if(Ce===1)ye.children=me;else if(1<Ce){for(var nn=Array(Ce),Ye=0;Ye<Ce;Ye++)nn[Ye]=arguments[Ye+2];ye.children=nn}if(U&&U.defaultProps)for(_e in Ce=U.defaultProps,Ce)ye[_e]===void 0&&(ye[_e]=Ce[_e]);return N(U,De,void 0,void 0,null,ye)},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(U){return{$$typeof:h,render:U}},Ue.isValidElement=P,Ue.lazy=function(U){return{$$typeof:g,_payload:{_status:-1,_result:U},_init:J}},Ue.memo=function(U,le){return{$$typeof:f,type:U,compare:le===void 0?null:le}},Ue.startTransition=function(U){var le=j.T,me={};j.T=me;try{var _e=U(),ye=j.S;ye!==null&&ye(me,_e),typeof _e=="object"&&_e!==null&&typeof _e.then=="function"&&_e.then(we,ne)}catch(De){ne(De)}finally{j.T=le}},Ue.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},Ue.use=function(U){return j.H.use(U)},Ue.useActionState=function(U,le,me){return j.H.useActionState(U,le,me)},Ue.useCallback=function(U,le){return j.H.useCallback(U,le)},Ue.useContext=function(U){return j.H.useContext(U)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(U,le){return j.H.useDeferredValue(U,le)},Ue.useEffect=function(U,le,me){var _e=j.H;if(typeof me=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return _e.useEffect(U,le)},Ue.useId=function(){return j.H.useId()},Ue.useImperativeHandle=function(U,le,me){return j.H.useImperativeHandle(U,le,me)},Ue.useInsertionEffect=function(U,le){return j.H.useInsertionEffect(U,le)},Ue.useLayoutEffect=function(U,le){return j.H.useLayoutEffect(U,le)},Ue.useMemo=function(U,le){return j.H.useMemo(U,le)},Ue.useOptimistic=function(U,le){return j.H.useOptimistic(U,le)},Ue.useReducer=function(U,le,me){return j.H.useReducer(U,le,me)},Ue.useRef=function(U){return j.H.useRef(U)},Ue.useState=function(U){return j.H.useState(U)},Ue.useSyncExternalStore=function(U,le,me){return j.H.useSyncExternalStore(U,le,me)},Ue.useTransition=function(){return j.H.useTransition()},Ue.version="19.1.1",Ue}var yI;function ao(){return yI||(yI=1,tE.exports=QM()),tE.exports}var Q=ao();const Qe=Yb(Q),zE=GM({__proto__:null,default:Qe},[Q]);var nE={exports:{}},sf={},rE={exports:{}},iE={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _I;function YM(){return _I||(_I=1,(function(n){function e(q,J){var ne=q.length;q.push(J);e:for(;0<ne;){var we=ne-1>>>1,U=q[we];if(0<s(U,J))q[we]=J,q[ne]=U,ne=we;else break e}}function t(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var J=q[0],ne=q.pop();if(ne!==J){q[0]=ne;e:for(var we=0,U=q.length,le=U>>>1;we<le;){var me=2*(we+1)-1,_e=q[me],ye=me+1,De=q[ye];if(0>s(_e,ne))ye<U&&0>s(De,_e)?(q[we]=De,q[ye]=ne,we=ye):(q[we]=_e,q[me]=ne,we=me);else if(ye<U&&0>s(De,ne))q[we]=De,q[ye]=ne,we=ye;else break e}}return J}function s(q,J){var ne=q.sortIndex-J.sortIndex;return ne!==0?ne:q.id-J.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var d=[],f=[],g=1,_=null,v=3,T=!1,w=!1,I=!1,x=!1,H=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function W(q){for(var J=t(f);J!==null;){if(J.callback===null)r(f);else if(J.startTime<=q)r(f),J.sortIndex=J.expirationTime,e(d,J);else break;J=t(f)}}function j(q){if(I=!1,W(q),!w)if(t(d)!==null)w=!0,$||($=!0,b());else{var J=t(f);J!==null&&M(j,J.startTime-q)}}var $=!1,N=-1,C=5,P=-1;function L(){return x?!0:!(n.unstable_now()-P<C)}function O(){if(x=!1,$){var q=n.unstable_now();P=q;var J=!0;try{e:{w=!1,I&&(I=!1,V(N),N=-1),T=!0;var ne=v;try{t:{for(W(q),_=t(d);_!==null&&!(_.expirationTime>q&&L());){var we=_.callback;if(typeof we=="function"){_.callback=null,v=_.priorityLevel;var U=we(_.expirationTime<=q);if(q=n.unstable_now(),typeof U=="function"){_.callback=U,W(q),J=!0;break t}_===t(d)&&r(d),W(q)}else r(d);_=t(d)}if(_!==null)J=!0;else{var le=t(f);le!==null&&M(j,le.startTime-q),J=!1}}break e}finally{_=null,v=ne,T=!1}J=void 0}}finally{J?b():$=!1}}}var b;if(typeof F=="function")b=function(){F(O)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,G=R.port2;R.port1.onmessage=O,b=function(){G.postMessage(null)}}else b=function(){H(O,0)};function M(q,J){N=H(function(){q(n.unstable_now())},J)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(q){q.callback=null},n.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<q?Math.floor(1e3/q):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_next=function(q){switch(v){case 1:case 2:case 3:var J=3;break;default:J=v}var ne=v;v=J;try{return q()}finally{v=ne}},n.unstable_requestPaint=function(){x=!0},n.unstable_runWithPriority=function(q,J){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ne=v;v=q;try{return J()}finally{v=ne}},n.unstable_scheduleCallback=function(q,J,ne){var we=n.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?we+ne:we):ne=we,q){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=ne+U,q={id:g++,callback:J,priorityLevel:q,startTime:ne,expirationTime:U,sortIndex:-1},ne>we?(q.sortIndex=ne,e(f,q),t(d)===null&&q===t(f)&&(I?(V(N),N=-1):I=!0,M(j,ne-we))):(q.sortIndex=U,e(d,q),w||T||(w=!0,$||($=!0,b()))),q},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(q){var J=v;return function(){var ne=v;v=J;try{return q.apply(this,arguments)}finally{v=ne}}}})(iE)),iE}var vI;function XM(){return vI||(vI=1,rE.exports=YM()),rE.exports}var sE={exports:{}},jn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EI;function JM(){if(EI)return jn;EI=1;var n=ao();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(d,f,g){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:_==null?null:""+_,children:d,containerInfo:f,implementation:g}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return jn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,jn.createPortal=function(d,f){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return o(d,f,null,g)},jn.flushSync=function(d){var f=u.T,g=r.p;try{if(u.T=null,r.p=2,d)return d()}finally{u.T=f,r.p=g,r.d.f()}},jn.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(d,f))},jn.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},jn.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var g=f.as,_=h(g,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,T=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;g==="style"?r.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:_,integrity:v,fetchPriority:T}):g==="script"&&r.d.X(d,{crossOrigin:_,integrity:v,fetchPriority:T,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},jn.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var g=h(f.as,f.crossOrigin);r.d.M(d,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(d)},jn.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var g=f.as,_=h(g,f.crossOrigin);r.d.L(d,g,{crossOrigin:_,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},jn.preloadModule=function(d,f){if(typeof d=="string")if(f){var g=h(f.as,f.crossOrigin);r.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(d)},jn.requestFormReset=function(d){r.d.r(d)},jn.unstable_batchedUpdates=function(d,f){return d(f)},jn.useFormState=function(d,f,g){return u.H.useFormState(d,f,g)},jn.useFormStatus=function(){return u.H.useHostTransitionStatus()},jn.version="19.1.1",jn}var bI;function ZM(){if(bI)return sE.exports;bI=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),sE.exports=JM(),sE.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wI;function eV(){if(wI)return sf;wI=1;var n=XM(),e=ao(),t=ZM();function r(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var a=i,l=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(l=a.return),i=a.return;while(i)}return a.tag===3?l:null}function u(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function h(i){if(o(i)!==i)throw Error(r(188))}function d(i){var a=i.alternate;if(!a){if(a=o(i),a===null)throw Error(r(188));return a!==i?null:i}for(var l=i,c=a;;){var m=l.return;if(m===null)break;var y=m.alternate;if(y===null){if(c=m.return,c!==null){l=c;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===l)return h(m),i;if(y===c)return h(m),a;y=y.sibling}throw Error(r(188))}if(l.return!==c.return)l=m,c=y;else{for(var A=!1,D=m.child;D;){if(D===l){A=!0,l=m,c=y;break}if(D===c){A=!0,c=m,l=y;break}D=D.sibling}if(!A){for(D=y.child;D;){if(D===l){A=!0,l=y,c=m;break}if(D===c){A=!0,c=y,l=m;break}D=D.sibling}if(!A)throw Error(r(189))}}if(l.alternate!==c)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:a}function f(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=f(i),a!==null)return a;i=i.sibling}return null}var g=Object.assign,_=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),V=Symbol.for("react.consumer"),F=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function b(i){return i===null||typeof i!="object"?null:(i=O&&i[O]||i["@@iterator"],typeof i=="function"?i:null)}var R=Symbol.for("react.client.reference");function G(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===R?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case w:return"Fragment";case x:return"Profiler";case I:return"StrictMode";case j:return"Suspense";case $:return"SuspenseList";case P:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case T:return"Portal";case F:return(i.displayName||"Context")+".Provider";case V:return(i._context.displayName||"Context")+".Consumer";case W:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case N:return a=i.displayName||null,a!==null?a:G(i.type)||"Memo";case C:a=i._payload,i=i._init;try{return G(i(a))}catch{}}return null}var M=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},we=[],U=-1;function le(i){return{current:i}}function me(i){0>U||(i.current=we[U],we[U]=null,U--)}function _e(i,a){U++,we[U]=i.current,i.current=a}var ye=le(null),De=le(null),Ce=le(null),nn=le(null);function Ye(i,a){switch(_e(Ce,a),_e(De,i),_e(ye,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?zA(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=zA(a),i=qA(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}me(ye),_e(ye,i)}function yr(){me(ye),me(De),me(Ce)}function go(i){i.memoizedState!==null&&_e(nn,i);var a=ye.current,l=qA(a,i.type);a!==l&&(_e(De,i),_e(ye,l))}function is(i){De.current===i&&(me(ye),me(De)),nn.current===i&&(me(nn),Jh._currentValue=ne)}var Mr=Object.prototype.hasOwnProperty,Ln=n.unstable_scheduleCallback,_i=n.unstable_cancelCallback,Zc=n.unstable_shouldYield,yo=n.unstable_requestPaint,Un=n.unstable_now,Fl=n.unstable_getCurrentPriorityLevel,Ht=n.unstable_ImmediatePriority,$t=n.unstable_UserBlockingPriority,$e=n.unstable_NormalPriority,gt=n.unstable_LowPriority,Cn=n.unstable_IdlePriority,Ks=n.log,ar=n.unstable_setDisableYieldValue,Qn=null,yt=null;function rn(i){if(typeof Ks=="function"&&ar(i),yt&&typeof yt.setStrictMode=="function")try{yt.setStrictMode(Qn,i)}catch{}}var pn=Math.clz32?Math.clz32:lp,i_=Math.log,op=Math.LN2;function lp(i){return i>>>=0,i===0?32:31-(i_(i)/op|0)|0}var vi=256,Ws=4194304;function Zr(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Vr(i,a,l){var c=i.pendingLanes;if(c===0)return 0;var m=0,y=i.suspendedLanes,A=i.pingedLanes;i=i.warmLanes;var D=c&134217727;return D!==0?(c=D&~y,c!==0?m=Zr(c):(A&=D,A!==0?m=Zr(A):l||(l=D&~i,l!==0&&(m=Zr(l))))):(D=c&~y,D!==0?m=Zr(D):A!==0?m=Zr(A):l||(l=c&~i,l!==0&&(m=Zr(l)))),m===0?0:a!==0&&a!==m&&(a&y)===0&&(y=m&-m,l=a&-a,y>=l||y===32&&(l&4194048)!==0)?a:m}function Qs(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function jl(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eh(){var i=vi;return vi<<=1,(vi&4194048)===0&&(vi=256),i}function Ys(){var i=Ws;return Ws<<=1,(Ws&62914560)===0&&(Ws=4194304),i}function zl(i){for(var a=[],l=0;31>l;l++)a.push(i);return a}function Gt(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function up(i,a,l,c,m,y){var A=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var D=i.entanglements,B=i.expirationTimes,te=i.hiddenUpdates;for(l=A&~l;0<l;){var ce=31-pn(l),fe=1<<ce;D[ce]=0,B[ce]=-1;var re=te[ce];if(re!==null)for(te[ce]=null,ce=0;ce<re.length;ce++){var ie=re[ce];ie!==null&&(ie.lane&=-536870913)}l&=~fe}c!==0&&Xs(i,c,0),y!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=y&~(A&~a))}function Xs(i,a,l){i.pendingLanes|=a,i.suspendedLanes&=~a;var c=31-pn(a);i.entangledLanes|=a,i.entanglements[c]=i.entanglements[c]|1073741824|l&4194090}function Js(i,a){var l=i.entangledLanes|=a;for(i=i.entanglements;l;){var c=31-pn(l),m=1<<c;m&a|i[c]&a&&(i[c]|=a),l&=~m}}function th(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function nh(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function ss(){var i=J.p;return i!==0?i:(i=window.event,i===void 0?32:lI(i.type))}function s_(i,a){var l=J.p;try{return J.p=i,a()}finally{J.p=l}}var Ei=Math.random().toString(36).slice(2),Kt="__reactFiber$"+Ei,Pn="__reactProps$"+Ei,as="__reactContainer$"+Ei,_o="__reactEvents$"+Ei,vo="__reactListeners$"+Ei,a_="__reactHandles$"+Ei,ei="__reactResources$"+Ei,Zs="__reactMarker$"+Ei;function ql(i){delete i[Kt],delete i[Pn],delete i[_o],delete i[vo],delete i[a_]}function bi(i){var a=i[Kt];if(a)return a;for(var l=i.parentNode;l;){if(a=l[as]||l[Kt]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(i=KA(i);i!==null;){if(l=i[Kt])return l;i=KA(i)}return a}i=l,l=i.parentNode}return null}function wi(i){if(i=i[Kt]||i[as]){var a=i.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return i}return null}function ea(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(r(33))}function ta(i){var a=i[ei];return a||(a=i[ei]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Wt(i){i[Zs]=!0}var cp=new Set,Eo={};function Ti(i,a){Si(i,a),Si(i+"Capture",a)}function Si(i,a){for(Eo[i]=a,i=0;i<a.length;i++)cp.add(a[i])}var bo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ai={},Hl={};function o_(i){return Mr.call(Hl,i)?!0:Mr.call(Ai,i)?!1:bo.test(i)?Hl[i]=!0:(Ai[i]=!0,!1)}function wo(i,a,l){if(o_(a))if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+l)}}function To(i,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+l)}}function Lr(i,a,l,c){if(c===null)i.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(a,l,""+c)}}var So,$l;function os(i){if(So===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);So=a&&a[1]||"",$l=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+So+i+$l}var Gl=!1;function Kl(i,a){if(!i||Gl)return"";Gl=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(ie){var re=ie}Reflect.construct(i,[],fe)}else{try{fe.call()}catch(ie){re=ie}i.call(fe.prototype)}}else{try{throw Error()}catch(ie){re=ie}(fe=i())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(ie){if(ie&&re&&typeof ie.stack=="string")return[ie.stack,re.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),A=y[0],D=y[1];if(A&&D){var B=A.split(`
`),te=D.split(`
`);for(m=c=0;c<B.length&&!B[c].includes("DetermineComponentFrameRoot");)c++;for(;m<te.length&&!te[m].includes("DetermineComponentFrameRoot");)m++;if(c===B.length||m===te.length)for(c=B.length-1,m=te.length-1;1<=c&&0<=m&&B[c]!==te[m];)m--;for(;1<=c&&0<=m;c--,m--)if(B[c]!==te[m]){if(c!==1||m!==1)do if(c--,m--,0>m||B[c]!==te[m]){var ce=`
`+B[c].replace(" at new "," at ");return i.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",i.displayName)),ce}while(1<=c&&0<=m);break}}}finally{Gl=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?os(l):""}function l_(i){switch(i.tag){case 26:case 27:case 5:return os(i.type);case 16:return os("Lazy");case 13:return os("Suspense");case 19:return os("SuspenseList");case 0:case 15:return Kl(i.type,!1);case 11:return Kl(i.type.render,!1);case 1:return Kl(i.type,!0);case 31:return os("Activity");default:return""}}function ti(i){try{var a="";do a+=l_(i),i=i.return;while(i);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Dt(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function na(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ao(i){var a=na(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),c=""+i[a];if(!i.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,y=l.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return m.call(this)},set:function(A){c=""+A,y.call(this,A)}}),Object.defineProperty(i,a,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(A){c=""+A},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function ra(i){i._valueTracker||(i._valueTracker=Ao(i))}function ct(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var l=a.getValue(),c="";return i&&(c=na(i)?i.checked?"true":"false":i.value),i=c,i!==l?(a.setValue(i),!0):!1}function ls(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Io=/[\n"\\]/g;function En(i){return i.replace(Io,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function rh(i,a,l,c,m,y,A,D){i.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.type=A:i.removeAttribute("type"),a!=null?A==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+Dt(a)):i.value!==""+Dt(a)&&(i.value=""+Dt(a)):A!=="submit"&&A!=="reset"||i.removeAttribute("value"),a!=null?sh(i,A,Dt(a)):l!=null?sh(i,A,Dt(l)):c!=null&&i.removeAttribute("value"),m==null&&y!=null&&(i.defaultChecked=!!y),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?i.name=""+Dt(D):i.removeAttribute("name")}function ih(i,a,l,c,m,y,A,D){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),a!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||a!=null))return;l=l!=null?""+Dt(l):"",a=a!=null?""+Dt(a):l,D||a===i.value||(i.value=a),i.defaultValue=a}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=D?i.checked:!!c,i.defaultChecked=!!c,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(i.name=A)}function sh(i,a,l){a==="number"&&ls(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function ia(i,a,l,c){if(i=i.options,a){a={};for(var m=0;m<l.length;m++)a["$"+l[m]]=!0;for(l=0;l<i.length;l++)m=a.hasOwnProperty("$"+i[l].value),i[l].selected!==m&&(i[l].selected=m),m&&c&&(i[l].defaultSelected=!0)}else{for(l=""+Dt(l),a=null,m=0;m<i.length;m++){if(i[m].value===l){i[m].selected=!0,c&&(i[m].defaultSelected=!0);return}a!==null||i[m].disabled||(a=i[m])}a!==null&&(a.selected=!0)}}function hp(i,a,l){if(a!=null&&(a=""+Dt(a),a!==i.value&&(i.value=a),l==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=l!=null?""+Dt(l):""}function fp(i,a,l,c){if(a==null){if(c!=null){if(l!=null)throw Error(r(92));if(M(c)){if(1<c.length)throw Error(r(93));c=c[0]}l=c}l==null&&(l=""),a=l}l=Dt(a),i.defaultValue=l,c=i.textContent,c===l&&c!==""&&c!==null&&(i.value=c)}function Ur(i,a){if(a){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=a;return}}i.textContent=a}var us=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ah(i,a,l){var c=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":c?i.setProperty(a,l):typeof l!="number"||l===0||us.has(a)?a==="float"?i.cssFloat=l:i[a]=(""+l).trim():i[a]=l+"px"}function oh(i,a,l){if(a!=null&&typeof a!="object")throw Error(r(62));if(i=i.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var m in a)c=a[m],a.hasOwnProperty(m)&&l[m]!==c&&ah(i,m,c)}else for(var y in a)a.hasOwnProperty(y)&&ah(i,y,a[y])}function Wl(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),pp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ni(i){return pp.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var lh=null;function uh(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var sa=null,Yn=null;function mp(i){var a=wi(i);if(a&&(i=a.stateNode)){var l=i[Pn]||null;e:switch(i=a.stateNode,a.type){case"input":if(rh(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+En(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var c=l[a];if(c!==i&&c.form===i.form){var m=c[Pn]||null;if(!m)throw Error(r(90));rh(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<l.length;a++)c=l[a],c.form===i.form&&ct(c)}break e;case"textarea":hp(i,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&ia(i,!!l.multiple,a,!1)}}}var Ro=!1;function Co(i,a,l){if(Ro)return i(a,l);Ro=!0;try{var c=i(a);return c}finally{if(Ro=!1,(sa!==null||Yn!==null)&&(im(),sa&&(a=sa,i=Yn,Yn=sa=null,mp(a),i)))for(a=0;a<i.length;a++)mp(i[a])}}function aa(i,a){var l=i.stateNode;if(l===null)return null;var c=l[Pn]||null;if(c===null)return null;l=c[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,a,typeof l));return l}var Xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cs=!1;if(Xn)try{var oa={};Object.defineProperty(oa,"passive",{get:function(){cs=!0}}),window.addEventListener("test",oa,oa),window.removeEventListener("test",oa,oa)}catch{cs=!1}var Br=null,_t=null,Ql=null;function gp(){if(Ql)return Ql;var i,a=_t,l=a.length,c,m="value"in Br?Br.value:Br.textContent,y=m.length;for(i=0;i<l&&a[i]===m[i];i++);var A=l-i;for(c=1;c<=A&&a[l-c]===m[y-c];c++);return Ql=m.slice(i,1<c?1-c:void 0)}function Po(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function xo(){return!0}function ch(){return!1}function mn(i){function a(l,c,m,y,A){this._reactName=l,this._targetInst=m,this.type=c,this.nativeEvent=y,this.target=A,this.currentTarget=null;for(var D in i)i.hasOwnProperty(D)&&(l=i[D],this[D]=l?l(y):y[D]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?xo:ch,this.isPropagationStopped=ch,this}return g(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=xo)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=xo)},persist:function(){},isPersistent:xo}),a}var Bn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oo=mn(Bn),Do=g({},Bn,{view:0,detail:0}),No=mn(Do),Yl,ko,Ii,Mo=g({},Do,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zl,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ii&&(Ii&&i.type==="mousemove"?(Yl=i.screenX-Ii.screenX,ko=i.screenY-Ii.screenY):ko=Yl=0,Ii=i),Yl)},movementY:function(i){return"movementY"in i?i.movementY:ko}}),Vo=mn(Mo),u_=g({},Mo,{dataTransfer:0}),yp=mn(u_),Lo=g({},Do,{relatedTarget:0}),Xl=mn(Lo),_p=g({},Bn,{animationName:0,elapsedTime:0,pseudoElement:0}),hh=mn(_p),fh=g({},Bn,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),vp=mn(fh),Jl=g({},Bn,{data:0}),dh=mn(Jl),Ep={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hs={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wp(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=bp[i])?!!a[i]:!1}function Zl(){return wp}var Tp=g({},Do,{key:function(i){if(i.key){var a=Ep[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=Po(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?hs[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zl,charCode:function(i){return i.type==="keypress"?Po(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Po(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),eu=mn(Tp),Jn=g({},Mo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ph=mn(Jn),Sp=g({},Do,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zl}),la=mn(Sp),p=g({},Bn,{propertyName:0,elapsedTime:0,pseudoElement:0}),E=mn(p),S=g({},Mo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),k=mn(S),ee=g({},Bn,{newState:0,oldState:0}),ae=mn(ee),ve=[9,13,27,32],Me=Xn&&"CompositionEvent"in window,wt=null;Xn&&"documentMode"in document&&(wt=document.documentMode);var rt=Xn&&"TextEvent"in window&&!wt,Qt=Xn&&(!Me||wt&&8<wt&&11>=wt),_r=" ",Ri=!1;function ri(i,a){switch(i){case"keyup":return ve.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ii(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var si=!1;function mh(i,a){switch(i){case"compositionend":return ii(a);case"keypress":return a.which!==32?null:(Ri=!0,_r);case"textInput":return i=a.data,i===_r&&Ri?null:i;default:return null}}function vk(i,a){if(si)return i==="compositionend"||!Me&&ri(i,a)?(i=gp(),Ql=_t=Br=null,si=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Qt&&a.locale!=="ko"?null:a.data;default:return null}}var Ek={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nT(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!Ek[i.type]:a==="textarea"}function rT(i,a,l,c){sa?Yn?Yn.push(c):Yn=[c]:sa=c,a=cm(a,"onChange"),0<a.length&&(l=new Oo("onChange","change",null,l,c),i.push({event:l,listeners:a}))}var gh=null,yh=null;function bk(i){LA(i,0)}function Ap(i){var a=ea(i);if(ct(a))return i}function iT(i,a){if(i==="change")return a}var sT=!1;if(Xn){var c_;if(Xn){var h_="oninput"in document;if(!h_){var aT=document.createElement("div");aT.setAttribute("oninput","return;"),h_=typeof aT.oninput=="function"}c_=h_}else c_=!1;sT=c_&&(!document.documentMode||9<document.documentMode)}function oT(){gh&&(gh.detachEvent("onpropertychange",lT),yh=gh=null)}function lT(i){if(i.propertyName==="value"&&Ap(yh)){var a=[];rT(a,yh,i,uh(i)),Co(bk,a)}}function wk(i,a,l){i==="focusin"?(oT(),gh=a,yh=l,gh.attachEvent("onpropertychange",lT)):i==="focusout"&&oT()}function Tk(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ap(yh)}function Sk(i,a){if(i==="click")return Ap(a)}function Ak(i,a){if(i==="input"||i==="change")return Ap(a)}function Ik(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var vr=typeof Object.is=="function"?Object.is:Ik;function _h(i,a){if(vr(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var l=Object.keys(i),c=Object.keys(a);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var m=l[c];if(!Mr.call(a,m)||!vr(i[m],a[m]))return!1}return!0}function uT(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function cT(i,a){var l=uT(i);i=0;for(var c;l;){if(l.nodeType===3){if(c=i+l.textContent.length,i<=a&&c>=a)return{node:l,offset:a-i};i=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=uT(l)}}function hT(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?hT(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function fT(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=ls(i.document);a instanceof i.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)i=a.contentWindow;else break;a=ls(i.document)}return a}function f_(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var Rk=Xn&&"documentMode"in document&&11>=document.documentMode,tu=null,d_=null,vh=null,p_=!1;function dT(i,a,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;p_||tu==null||tu!==ls(c)||(c=tu,"selectionStart"in c&&f_(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),vh&&_h(vh,c)||(vh=c,c=cm(d_,"onSelect"),0<c.length&&(a=new Oo("onSelect","select",null,a,l),i.push({event:a,listeners:c}),a.target=tu)))}function Uo(i,a){var l={};return l[i.toLowerCase()]=a.toLowerCase(),l["Webkit"+i]="webkit"+a,l["Moz"+i]="moz"+a,l}var nu={animationend:Uo("Animation","AnimationEnd"),animationiteration:Uo("Animation","AnimationIteration"),animationstart:Uo("Animation","AnimationStart"),transitionrun:Uo("Transition","TransitionRun"),transitionstart:Uo("Transition","TransitionStart"),transitioncancel:Uo("Transition","TransitionCancel"),transitionend:Uo("Transition","TransitionEnd")},m_={},pT={};Xn&&(pT=document.createElement("div").style,"AnimationEvent"in window||(delete nu.animationend.animation,delete nu.animationiteration.animation,delete nu.animationstart.animation),"TransitionEvent"in window||delete nu.transitionend.transition);function Bo(i){if(m_[i])return m_[i];if(!nu[i])return i;var a=nu[i],l;for(l in a)if(a.hasOwnProperty(l)&&l in pT)return m_[i]=a[l];return i}var mT=Bo("animationend"),gT=Bo("animationiteration"),yT=Bo("animationstart"),Ck=Bo("transitionrun"),Pk=Bo("transitionstart"),xk=Bo("transitioncancel"),_T=Bo("transitionend"),vT=new Map,g_="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");g_.push("scrollEnd");function ai(i,a){vT.set(i,a),Ti(a,[i])}var ET=new WeakMap;function Fr(i,a){if(typeof i=="object"&&i!==null){var l=ET.get(i);return l!==void 0?l:(a={value:i,source:a,stack:ti(a)},ET.set(i,a),a)}return{value:i,source:a,stack:ti(a)}}var jr=[],ru=0,y_=0;function Ip(){for(var i=ru,a=y_=ru=0;a<i;){var l=jr[a];jr[a++]=null;var c=jr[a];jr[a++]=null;var m=jr[a];jr[a++]=null;var y=jr[a];if(jr[a++]=null,c!==null&&m!==null){var A=c.pending;A===null?m.next=m:(m.next=A.next,A.next=m),c.pending=m}y!==0&&bT(l,m,y)}}function Rp(i,a,l,c){jr[ru++]=i,jr[ru++]=a,jr[ru++]=l,jr[ru++]=c,y_|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function __(i,a,l,c){return Rp(i,a,l,c),Cp(i)}function iu(i,a){return Rp(i,null,null,a),Cp(i)}function bT(i,a,l){i.lanes|=l;var c=i.alternate;c!==null&&(c.lanes|=l);for(var m=!1,y=i.return;y!==null;)y.childLanes|=l,c=y.alternate,c!==null&&(c.childLanes|=l),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(m=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,m&&a!==null&&(m=31-pn(l),i=y.hiddenUpdates,c=i[m],c===null?i[m]=[a]:c.push(a),a.lane=l|536870912),y):null}function Cp(i){if(50<Hh)throw Hh=0,Sv=null,Error(r(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var su={};function Ok(i,a,l,c){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Er(i,a,l,c){return new Ok(i,a,l,c)}function v_(i){return i=i.prototype,!(!i||!i.isReactComponent)}function fs(i,a){var l=i.alternate;return l===null?(l=Er(i.tag,a,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=a,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,a=i.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function wT(i,a){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,a=l.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function Pp(i,a,l,c,m,y){var A=0;if(c=i,typeof i=="function")v_(i)&&(A=1);else if(typeof i=="string")A=NM(i,l,ye.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case P:return i=Er(31,l,a,m),i.elementType=P,i.lanes=y,i;case w:return Fo(l.children,m,y,a);case I:A=8,m|=24;break;case x:return i=Er(12,l,a,m|2),i.elementType=x,i.lanes=y,i;case j:return i=Er(13,l,a,m),i.elementType=j,i.lanes=y,i;case $:return i=Er(19,l,a,m),i.elementType=$,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case H:case F:A=10;break e;case V:A=9;break e;case W:A=11;break e;case N:A=14;break e;case C:A=16,c=null;break e}A=29,l=Error(r(130,i===null?"null":typeof i,"")),c=null}return a=Er(A,l,a,m),a.elementType=i,a.type=c,a.lanes=y,a}function Fo(i,a,l,c){return i=Er(7,i,c,a),i.lanes=l,i}function E_(i,a,l){return i=Er(6,i,null,a),i.lanes=l,i}function b_(i,a,l){return a=Er(4,i.children!==null?i.children:[],i.key,a),a.lanes=l,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var au=[],ou=0,xp=null,Op=0,zr=[],qr=0,jo=null,ds=1,ps="";function zo(i,a){au[ou++]=Op,au[ou++]=xp,xp=i,Op=a}function TT(i,a,l){zr[qr++]=ds,zr[qr++]=ps,zr[qr++]=jo,jo=i;var c=ds;i=ps;var m=32-pn(c)-1;c&=~(1<<m),l+=1;var y=32-pn(a)+m;if(30<y){var A=m-m%5;y=(c&(1<<A)-1).toString(32),c>>=A,m-=A,ds=1<<32-pn(a)+m|l<<m|c,ps=y+i}else ds=1<<y|l<<m|c,ps=i}function w_(i){i.return!==null&&(zo(i,1),TT(i,1,0))}function T_(i){for(;i===xp;)xp=au[--ou],au[ou]=null,Op=au[--ou],au[ou]=null;for(;i===jo;)jo=zr[--qr],zr[qr]=null,ps=zr[--qr],zr[qr]=null,ds=zr[--qr],zr[qr]=null}var Zn=null,Lt=null,Ze=!1,qo=null,Ci=!1,S_=Error(r(519));function Ho(i){var a=Error(r(418,""));throw wh(Fr(a,i)),S_}function ST(i){var a=i.stateNode,l=i.type,c=i.memoizedProps;switch(a[Kt]=i,a[Pn]=c,l){case"dialog":ze("cancel",a),ze("close",a);break;case"iframe":case"object":case"embed":ze("load",a);break;case"video":case"audio":for(l=0;l<Gh.length;l++)ze(Gh[l],a);break;case"source":ze("error",a);break;case"img":case"image":case"link":ze("error",a),ze("load",a);break;case"details":ze("toggle",a);break;case"input":ze("invalid",a),ih(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),ra(a);break;case"select":ze("invalid",a);break;case"textarea":ze("invalid",a),fp(a,c.value,c.defaultValue,c.children),ra(a)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||c.suppressHydrationWarning===!0||jA(a.textContent,l)?(c.popover!=null&&(ze("beforetoggle",a),ze("toggle",a)),c.onScroll!=null&&ze("scroll",a),c.onScrollEnd!=null&&ze("scrollend",a),c.onClick!=null&&(a.onclick=hm),a=!0):a=!1,a||Ho(i)}function AT(i){for(Zn=i.return;Zn;)switch(Zn.tag){case 5:case 13:Ci=!1;return;case 27:case 3:Ci=!0;return;default:Zn=Zn.return}}function Eh(i){if(i!==Zn)return!1;if(!Ze)return AT(i),Ze=!0,!1;var a=i.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||Fv(i.type,i.memoizedProps)),l=!l),l&&Lt&&Ho(i),AT(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(a===0){Lt=li(i.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;i=i.nextSibling}Lt=null}}else a===27?(a=Lt,Sa(i.type)?(i=Hv,Hv=null,Lt=i):Lt=a):Lt=Zn?li(i.stateNode.nextSibling):null;return!0}function bh(){Lt=Zn=null,Ze=!1}function IT(){var i=qo;return i!==null&&(ur===null?ur=i:ur.push.apply(ur,i),qo=null),i}function wh(i){qo===null?qo=[i]:qo.push(i)}var A_=le(null),$o=null,ms=null;function ua(i,a,l){_e(A_,a._currentValue),a._currentValue=l}function gs(i){i._currentValue=A_.current,me(A_)}function I_(i,a,l){for(;i!==null;){var c=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),i===l)break;i=i.return}}function R_(i,a,l,c){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var y=m.dependencies;if(y!==null){var A=m.child;y=y.firstContext;e:for(;y!==null;){var D=y;y=m;for(var B=0;B<a.length;B++)if(D.context===a[B]){y.lanes|=l,D=y.alternate,D!==null&&(D.lanes|=l),I_(y.return,l,i),c||(A=null);break e}y=D.next}}else if(m.tag===18){if(A=m.return,A===null)throw Error(r(341));A.lanes|=l,y=A.alternate,y!==null&&(y.lanes|=l),I_(A,l,i),A=null}else A=m.child;if(A!==null)A.return=m;else for(A=m;A!==null;){if(A===i){A=null;break}if(m=A.sibling,m!==null){m.return=A.return,A=m;break}A=A.return}m=A}}function Th(i,a,l,c){i=null;for(var m=a,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var A=m.alternate;if(A===null)throw Error(r(387));if(A=A.memoizedProps,A!==null){var D=m.type;vr(m.pendingProps.value,A.value)||(i!==null?i.push(D):i=[D])}}else if(m===nn.current){if(A=m.alternate,A===null)throw Error(r(387));A.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(Jh):i=[Jh])}m=m.return}i!==null&&R_(a,i,l,c),a.flags|=262144}function Dp(i){for(i=i.firstContext;i!==null;){if(!vr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Go(i){$o=i,ms=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Fn(i){return RT($o,i)}function Np(i,a){return $o===null&&Go(i),RT(i,a)}function RT(i,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},ms===null){if(i===null)throw Error(r(308));ms=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else ms=ms.next=a;return l}var Dk=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(l,c){i.push(c)}};this.abort=function(){a.aborted=!0,i.forEach(function(l){return l()})}},Nk=n.unstable_scheduleCallback,kk=n.unstable_NormalPriority,gn={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function C_(){return{controller:new Dk,data:new Map,refCount:0}}function Sh(i){i.refCount--,i.refCount===0&&Nk(kk,function(){i.controller.abort()})}var Ah=null,P_=0,lu=0,uu=null;function Mk(i,a){if(Ah===null){var l=Ah=[];P_=0,lu=Ov(),uu={status:"pending",value:void 0,then:function(c){l.push(c)}}}return P_++,a.then(CT,CT),a}function CT(){if(--P_===0&&Ah!==null){uu!==null&&(uu.status="fulfilled");var i=Ah;Ah=null,lu=0,uu=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function Vk(i,a){var l=[],c={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return i.then(function(){c.status="fulfilled",c.value=a;for(var m=0;m<l.length;m++)(0,l[m])(a)},function(m){for(c.status="rejected",c.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),c}var PT=q.S;q.S=function(i,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&Mk(i,a),PT!==null&&PT(i,a)};var Ko=le(null);function x_(){var i=Ko.current;return i!==null?i:vt.pooledCache}function kp(i,a){a===null?_e(Ko,Ko.current):_e(Ko,a.pool)}function xT(){var i=x_();return i===null?null:{parent:gn._currentValue,pool:i}}var Ih=Error(r(460)),OT=Error(r(474)),Mp=Error(r(542)),O_={then:function(){}};function DT(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Vp(){}function NT(i,a,l){switch(l=i[l],l===void 0?i.push(a):l!==a&&(a.then(Vp,Vp),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,MT(i),i;default:if(typeof a.status=="string")a.then(Vp,Vp);else{if(i=vt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=a,i.status="pending",i.then(function(c){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=c}},function(c){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,MT(i),i}throw Rh=a,Ih}}var Rh=null;function kT(){if(Rh===null)throw Error(r(459));var i=Rh;return Rh=null,i}function MT(i){if(i===Ih||i===Mp)throw Error(r(483))}var ca=!1;function D_(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function N_(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ha(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function fa(i,a,l){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(it&2)!==0){var m=c.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),c.pending=a,a=Cp(i),bT(i,null,l),a}return Rp(i,c,a,l),Cp(i)}function Ch(i,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var c=a.lanes;c&=i.pendingLanes,l|=c,a.lanes=l,Js(i,l)}}function k_(i,a){var l=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var m=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var A={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?m=y=A:y=y.next=A,l=l.next}while(l!==null);y===null?m=y=a:y=y.next=a}else m=y=a;l={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=a:i.next=a,l.lastBaseUpdate=a}var M_=!1;function Ph(){if(M_){var i=uu;if(i!==null)throw i}}function xh(i,a,l,c){M_=!1;var m=i.updateQueue;ca=!1;var y=m.firstBaseUpdate,A=m.lastBaseUpdate,D=m.shared.pending;if(D!==null){m.shared.pending=null;var B=D,te=B.next;B.next=null,A===null?y=te:A.next=te,A=B;var ce=i.alternate;ce!==null&&(ce=ce.updateQueue,D=ce.lastBaseUpdate,D!==A&&(D===null?ce.firstBaseUpdate=te:D.next=te,ce.lastBaseUpdate=B))}if(y!==null){var fe=m.baseState;A=0,ce=te=B=null,D=y;do{var re=D.lane&-536870913,ie=re!==D.lane;if(ie?(Ke&re)===re:(c&re)===re){re!==0&&re===lu&&(M_=!0),ce!==null&&(ce=ce.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var Ne=i,xe=D;re=a;var dt=l;switch(xe.tag){case 1:if(Ne=xe.payload,typeof Ne=="function"){fe=Ne.call(dt,fe,re);break e}fe=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=xe.payload,re=typeof Ne=="function"?Ne.call(dt,fe,re):Ne,re==null)break e;fe=g({},fe,re);break e;case 2:ca=!0}}re=D.callback,re!==null&&(i.flags|=64,ie&&(i.flags|=8192),ie=m.callbacks,ie===null?m.callbacks=[re]:ie.push(re))}else ie={lane:re,tag:D.tag,payload:D.payload,callback:D.callback,next:null},ce===null?(te=ce=ie,B=fe):ce=ce.next=ie,A|=re;if(D=D.next,D===null){if(D=m.shared.pending,D===null)break;ie=D,D=ie.next,ie.next=null,m.lastBaseUpdate=ie,m.shared.pending=null}}while(!0);ce===null&&(B=fe),m.baseState=B,m.firstBaseUpdate=te,m.lastBaseUpdate=ce,y===null&&(m.shared.lanes=0),Ea|=A,i.lanes=A,i.memoizedState=fe}}function VT(i,a){if(typeof i!="function")throw Error(r(191,i));i.call(a)}function LT(i,a){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)VT(l[i],a)}var cu=le(null),Lp=le(0);function UT(i,a){i=Ts,_e(Lp,i),_e(cu,a),Ts=i|a.baseLanes}function V_(){_e(Lp,Ts),_e(cu,cu.current)}function L_(){Ts=Lp.current,me(cu),me(Lp)}var da=0,Be=null,ht=null,sn=null,Up=!1,hu=!1,Wo=!1,Bp=0,Oh=0,fu=null,Lk=0;function Yt(){throw Error(r(321))}function U_(i,a){if(a===null)return!1;for(var l=0;l<a.length&&l<i.length;l++)if(!vr(i[l],a[l]))return!1;return!0}function B_(i,a,l,c,m,y){return da=y,Be=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,q.H=i===null||i.memoizedState===null?bS:wS,Wo=!1,y=l(c,m),Wo=!1,hu&&(y=FT(a,l,c,m)),BT(i),y}function BT(i){q.H=$p;var a=ht!==null&&ht.next!==null;if(da=0,sn=ht=Be=null,Up=!1,Oh=0,fu=null,a)throw Error(r(300));i===null||bn||(i=i.dependencies,i!==null&&Dp(i)&&(bn=!0))}function FT(i,a,l,c){Be=i;var m=0;do{if(hu&&(fu=null),Oh=0,hu=!1,25<=m)throw Error(r(301));if(m+=1,sn=ht=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}q.H=Hk,y=a(l,c)}while(hu);return y}function Uk(){var i=q.H,a=i.useState()[0];return a=typeof a.then=="function"?Dh(a):a,i=i.useState()[0],(ht!==null?ht.memoizedState:null)!==i&&(Be.flags|=1024),a}function F_(){var i=Bp!==0;return Bp=0,i}function j_(i,a,l){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~l}function z_(i){if(Up){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}Up=!1}da=0,sn=ht=Be=null,hu=!1,Oh=Bp=0,fu=null}function or(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sn===null?Be.memoizedState=sn=i:sn=sn.next=i,sn}function an(){if(ht===null){var i=Be.alternate;i=i!==null?i.memoizedState:null}else i=ht.next;var a=sn===null?Be.memoizedState:sn.next;if(a!==null)sn=a,ht=i;else{if(i===null)throw Be.alternate===null?Error(r(467)):Error(r(310));ht=i,i={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},sn===null?Be.memoizedState=sn=i:sn=sn.next=i}return sn}function q_(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Dh(i){var a=Oh;return Oh+=1,fu===null&&(fu=[]),i=NT(fu,i,a),a=Be,(sn===null?a.memoizedState:sn.next)===null&&(a=a.alternate,q.H=a===null||a.memoizedState===null?bS:wS),i}function Fp(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Dh(i);if(i.$$typeof===F)return Fn(i)}throw Error(r(438,String(i)))}function H_(i){var a=null,l=Be.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var c=Be.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=q_(),Be.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(i),c=0;c<i;c++)l[c]=L;return a.index++,l}function ys(i,a){return typeof a=="function"?a(i):a}function jp(i){var a=an();return $_(a,ht,i)}function $_(i,a,l){var c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=l;var m=i.baseQueue,y=c.pending;if(y!==null){if(m!==null){var A=m.next;m.next=y.next,y.next=A}a.baseQueue=m=y,c.pending=null}if(y=i.baseState,m===null)i.memoizedState=y;else{a=m.next;var D=A=null,B=null,te=a,ce=!1;do{var fe=te.lane&-536870913;if(fe!==te.lane?(Ke&fe)===fe:(da&fe)===fe){var re=te.revertLane;if(re===0)B!==null&&(B=B.next={lane:0,revertLane:0,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),fe===lu&&(ce=!0);else if((da&re)===re){te=te.next,re===lu&&(ce=!0);continue}else fe={lane:0,revertLane:te.revertLane,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},B===null?(D=B=fe,A=y):B=B.next=fe,Be.lanes|=re,Ea|=re;fe=te.action,Wo&&l(y,fe),y=te.hasEagerState?te.eagerState:l(y,fe)}else re={lane:fe,revertLane:te.revertLane,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},B===null?(D=B=re,A=y):B=B.next=re,Be.lanes|=fe,Ea|=fe;te=te.next}while(te!==null&&te!==a);if(B===null?A=y:B.next=D,!vr(y,i.memoizedState)&&(bn=!0,ce&&(l=uu,l!==null)))throw l;i.memoizedState=y,i.baseState=A,i.baseQueue=B,c.lastRenderedState=y}return m===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function G_(i){var a=an(),l=a.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var c=l.dispatch,m=l.pending,y=a.memoizedState;if(m!==null){l.pending=null;var A=m=m.next;do y=i(y,A.action),A=A.next;while(A!==m);vr(y,a.memoizedState)||(bn=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),l.lastRenderedState=y}return[y,c]}function jT(i,a,l){var c=Be,m=an(),y=Ze;if(y){if(l===void 0)throw Error(r(407));l=l()}else l=a();var A=!vr((ht||m).memoizedState,l);A&&(m.memoizedState=l,bn=!0),m=m.queue;var D=HT.bind(null,c,m,i);if(Nh(2048,8,D,[i]),m.getSnapshot!==a||A||sn!==null&&sn.memoizedState.tag&1){if(c.flags|=2048,du(9,zp(),qT.bind(null,c,m,l,a),null),vt===null)throw Error(r(349));y||(da&124)!==0||zT(c,a,l)}return l}function zT(i,a,l){i.flags|=16384,i={getSnapshot:a,value:l},a=Be.updateQueue,a===null?(a=q_(),Be.updateQueue=a,a.stores=[i]):(l=a.stores,l===null?a.stores=[i]:l.push(i))}function qT(i,a,l,c){a.value=l,a.getSnapshot=c,$T(a)&&GT(i)}function HT(i,a,l){return l(function(){$T(a)&&GT(i)})}function $T(i){var a=i.getSnapshot;i=i.value;try{var l=a();return!vr(i,l)}catch{return!0}}function GT(i){var a=iu(i,2);a!==null&&Ar(a,i,2)}function K_(i){var a=or();if(typeof i=="function"){var l=i;if(i=l(),Wo){rn(!0);try{l()}finally{rn(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:i},a}function KT(i,a,l,c){return i.baseState=l,$_(i,ht,typeof c=="function"?c:ys)}function Bk(i,a,l,c,m){if(Hp(i))throw Error(r(485));if(i=a.action,i!==null){var y={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){y.listeners.push(A)}};q.T!==null?l(!0):y.isTransition=!1,c(y),l=a.pending,l===null?(y.next=a.pending=y,WT(a,y)):(y.next=l.next,a.pending=l.next=y)}}function WT(i,a){var l=a.action,c=a.payload,m=i.state;if(a.isTransition){var y=q.T,A={};q.T=A;try{var D=l(m,c),B=q.S;B!==null&&B(A,D),QT(i,a,D)}catch(te){W_(i,a,te)}finally{q.T=y}}else try{y=l(m,c),QT(i,a,y)}catch(te){W_(i,a,te)}}function QT(i,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){YT(i,a,c)},function(c){return W_(i,a,c)}):YT(i,a,l)}function YT(i,a,l){a.status="fulfilled",a.value=l,XT(a),i.state=l,a=i.pending,a!==null&&(l=a.next,l===a?i.pending=null:(l=l.next,a.next=l,WT(i,l)))}function W_(i,a,l){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=l,XT(a),a=a.next;while(a!==c)}i.action=null}function XT(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function JT(i,a){return a}function ZT(i,a){if(Ze){var l=vt.formState;if(l!==null){e:{var c=Be;if(Ze){if(Lt){t:{for(var m=Lt,y=Ci;m.nodeType!==8;){if(!y){m=null;break t}if(m=li(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){Lt=li(m.nextSibling),c=m.data==="F!";break e}}Ho(c)}c=!1}c&&(a=l[0])}}return l=or(),l.memoizedState=l.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:JT,lastRenderedState:a},l.queue=c,l=_S.bind(null,Be,c),c.dispatch=l,c=K_(!1),y=Z_.bind(null,Be,!1,c.queue),c=or(),m={state:a,dispatch:null,action:i,pending:null},c.queue=m,l=Bk.bind(null,Be,m,y,l),m.dispatch=l,c.memoizedState=i,[a,l,!1]}function eS(i){var a=an();return tS(a,ht,i)}function tS(i,a,l){if(a=$_(i,a,JT)[0],i=jp(ys)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=Dh(a)}catch(A){throw A===Ih?Mp:A}else c=a;a=an();var m=a.queue,y=m.dispatch;return l!==a.memoizedState&&(Be.flags|=2048,du(9,zp(),Fk.bind(null,m,l),null)),[c,y,i]}function Fk(i,a){i.action=a}function nS(i){var a=an(),l=ht;if(l!==null)return tS(a,l,i);an(),a=a.memoizedState,l=an();var c=l.queue.dispatch;return l.memoizedState=i,[a,c,!1]}function du(i,a,l,c){return i={tag:i,create:l,deps:c,inst:a,next:null},a=Be.updateQueue,a===null&&(a=q_(),Be.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=i.next=i:(c=l.next,l.next=i,i.next=c,a.lastEffect=i),i}function zp(){return{destroy:void 0,resource:void 0}}function rS(){return an().memoizedState}function qp(i,a,l,c){var m=or();c=c===void 0?null:c,Be.flags|=i,m.memoizedState=du(1|a,zp(),l,c)}function Nh(i,a,l,c){var m=an();c=c===void 0?null:c;var y=m.memoizedState.inst;ht!==null&&c!==null&&U_(c,ht.memoizedState.deps)?m.memoizedState=du(a,y,l,c):(Be.flags|=i,m.memoizedState=du(1|a,y,l,c))}function iS(i,a){qp(8390656,8,i,a)}function sS(i,a){Nh(2048,8,i,a)}function aS(i,a){return Nh(4,2,i,a)}function oS(i,a){return Nh(4,4,i,a)}function lS(i,a){if(typeof a=="function"){i=i();var l=a(i);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function uS(i,a,l){l=l!=null?l.concat([i]):null,Nh(4,4,lS.bind(null,a,i),l)}function Q_(){}function cS(i,a){var l=an();a=a===void 0?null:a;var c=l.memoizedState;return a!==null&&U_(a,c[1])?c[0]:(l.memoizedState=[i,a],i)}function hS(i,a){var l=an();a=a===void 0?null:a;var c=l.memoizedState;if(a!==null&&U_(a,c[1]))return c[0];if(c=i(),Wo){rn(!0);try{i()}finally{rn(!1)}}return l.memoizedState=[c,a],c}function Y_(i,a,l){return l===void 0||(da&1073741824)!==0?i.memoizedState=a:(i.memoizedState=l,i=pA(),Be.lanes|=i,Ea|=i,l)}function fS(i,a,l,c){return vr(l,a)?l:cu.current!==null?(i=Y_(i,l,c),vr(i,a)||(bn=!0),i):(da&42)===0?(bn=!0,i.memoizedState=l):(i=pA(),Be.lanes|=i,Ea|=i,a)}function dS(i,a,l,c,m){var y=J.p;J.p=y!==0&&8>y?y:8;var A=q.T,D={};q.T=D,Z_(i,!1,a,l);try{var B=m(),te=q.S;if(te!==null&&te(D,B),B!==null&&typeof B=="object"&&typeof B.then=="function"){var ce=Vk(B,c);kh(i,a,ce,Sr(i))}else kh(i,a,c,Sr(i))}catch(fe){kh(i,a,{then:function(){},status:"rejected",reason:fe},Sr())}finally{J.p=y,q.T=A}}function jk(){}function X_(i,a,l,c){if(i.tag!==5)throw Error(r(476));var m=pS(i).queue;dS(i,m,a,ne,l===null?jk:function(){return mS(i),l(c)})}function pS(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:ne},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:l},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function mS(i){var a=pS(i).next.queue;kh(i,a,{},Sr())}function J_(){return Fn(Jh)}function gS(){return an().memoizedState}function yS(){return an().memoizedState}function zk(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var l=Sr();i=ha(l);var c=fa(a,i,l);c!==null&&(Ar(c,a,l),Ch(c,a,l)),a={cache:C_()},i.payload=a;return}a=a.return}}function qk(i,a,l){var c=Sr();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Hp(i)?vS(a,l):(l=__(i,a,l,c),l!==null&&(Ar(l,i,c),ES(l,a,c)))}function _S(i,a,l){var c=Sr();kh(i,a,l,c)}function kh(i,a,l,c){var m={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Hp(i))vS(a,m);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var A=a.lastRenderedState,D=y(A,l);if(m.hasEagerState=!0,m.eagerState=D,vr(D,A))return Rp(i,a,m,0),vt===null&&Ip(),!1}catch{}finally{}if(l=__(i,a,m,c),l!==null)return Ar(l,i,c),ES(l,a,c),!0}return!1}function Z_(i,a,l,c){if(c={lane:2,revertLane:Ov(),action:c,hasEagerState:!1,eagerState:null,next:null},Hp(i)){if(a)throw Error(r(479))}else a=__(i,l,c,2),a!==null&&Ar(a,i,2)}function Hp(i){var a=i.alternate;return i===Be||a!==null&&a===Be}function vS(i,a){hu=Up=!0;var l=i.pending;l===null?a.next=a:(a.next=l.next,l.next=a),i.pending=a}function ES(i,a,l){if((l&4194048)!==0){var c=a.lanes;c&=i.pendingLanes,l|=c,a.lanes=l,Js(i,l)}}var $p={readContext:Fn,use:Fp,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useLayoutEffect:Yt,useInsertionEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useSyncExternalStore:Yt,useId:Yt,useHostTransitionStatus:Yt,useFormState:Yt,useActionState:Yt,useOptimistic:Yt,useMemoCache:Yt,useCacheRefresh:Yt},bS={readContext:Fn,use:Fp,useCallback:function(i,a){return or().memoizedState=[i,a===void 0?null:a],i},useContext:Fn,useEffect:iS,useImperativeHandle:function(i,a,l){l=l!=null?l.concat([i]):null,qp(4194308,4,lS.bind(null,a,i),l)},useLayoutEffect:function(i,a){return qp(4194308,4,i,a)},useInsertionEffect:function(i,a){qp(4,2,i,a)},useMemo:function(i,a){var l=or();a=a===void 0?null:a;var c=i();if(Wo){rn(!0);try{i()}finally{rn(!1)}}return l.memoizedState=[c,a],c},useReducer:function(i,a,l){var c=or();if(l!==void 0){var m=l(a);if(Wo){rn(!0);try{l(a)}finally{rn(!1)}}}else m=a;return c.memoizedState=c.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},c.queue=i,i=i.dispatch=qk.bind(null,Be,i),[c.memoizedState,i]},useRef:function(i){var a=or();return i={current:i},a.memoizedState=i},useState:function(i){i=K_(i);var a=i.queue,l=_S.bind(null,Be,a);return a.dispatch=l,[i.memoizedState,l]},useDebugValue:Q_,useDeferredValue:function(i,a){var l=or();return Y_(l,i,a)},useTransition:function(){var i=K_(!1);return i=dS.bind(null,Be,i.queue,!0,!1),or().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,l){var c=Be,m=or();if(Ze){if(l===void 0)throw Error(r(407));l=l()}else{if(l=a(),vt===null)throw Error(r(349));(Ke&124)!==0||zT(c,a,l)}m.memoizedState=l;var y={value:l,getSnapshot:a};return m.queue=y,iS(HT.bind(null,c,y,i),[i]),c.flags|=2048,du(9,zp(),qT.bind(null,c,y,l,a),null),l},useId:function(){var i=or(),a=vt.identifierPrefix;if(Ze){var l=ps,c=ds;l=(c&~(1<<32-pn(c)-1)).toString(32)+l,a="«"+a+"R"+l,l=Bp++,0<l&&(a+="H"+l.toString(32)),a+="»"}else l=Lk++,a="«"+a+"r"+l.toString(32)+"»";return i.memoizedState=a},useHostTransitionStatus:J_,useFormState:ZT,useActionState:ZT,useOptimistic:function(i){var a=or();a.memoizedState=a.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=Z_.bind(null,Be,!0,l),l.dispatch=a,[i,a]},useMemoCache:H_,useCacheRefresh:function(){return or().memoizedState=zk.bind(null,Be)}},wS={readContext:Fn,use:Fp,useCallback:cS,useContext:Fn,useEffect:sS,useImperativeHandle:uS,useInsertionEffect:aS,useLayoutEffect:oS,useMemo:hS,useReducer:jp,useRef:rS,useState:function(){return jp(ys)},useDebugValue:Q_,useDeferredValue:function(i,a){var l=an();return fS(l,ht.memoizedState,i,a)},useTransition:function(){var i=jp(ys)[0],a=an().memoizedState;return[typeof i=="boolean"?i:Dh(i),a]},useSyncExternalStore:jT,useId:gS,useHostTransitionStatus:J_,useFormState:eS,useActionState:eS,useOptimistic:function(i,a){var l=an();return KT(l,ht,i,a)},useMemoCache:H_,useCacheRefresh:yS},Hk={readContext:Fn,use:Fp,useCallback:cS,useContext:Fn,useEffect:sS,useImperativeHandle:uS,useInsertionEffect:aS,useLayoutEffect:oS,useMemo:hS,useReducer:G_,useRef:rS,useState:function(){return G_(ys)},useDebugValue:Q_,useDeferredValue:function(i,a){var l=an();return ht===null?Y_(l,i,a):fS(l,ht.memoizedState,i,a)},useTransition:function(){var i=G_(ys)[0],a=an().memoizedState;return[typeof i=="boolean"?i:Dh(i),a]},useSyncExternalStore:jT,useId:gS,useHostTransitionStatus:J_,useFormState:nS,useActionState:nS,useOptimistic:function(i,a){var l=an();return ht!==null?KT(l,ht,i,a):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:H_,useCacheRefresh:yS},pu=null,Mh=0;function Gp(i){var a=Mh;return Mh+=1,pu===null&&(pu=[]),NT(pu,i,a)}function Vh(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function Kp(i,a){throw a.$$typeof===_?Error(r(525)):(i=Object.prototype.toString.call(a),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function TS(i){var a=i._init;return a(i._payload)}function SS(i){function a(Y,K){if(i){var Z=Y.deletions;Z===null?(Y.deletions=[K],Y.flags|=16):Z.push(K)}}function l(Y,K){if(!i)return null;for(;K!==null;)a(Y,K),K=K.sibling;return null}function c(Y){for(var K=new Map;Y!==null;)Y.key!==null?K.set(Y.key,Y):K.set(Y.index,Y),Y=Y.sibling;return K}function m(Y,K){return Y=fs(Y,K),Y.index=0,Y.sibling=null,Y}function y(Y,K,Z){return Y.index=Z,i?(Z=Y.alternate,Z!==null?(Z=Z.index,Z<K?(Y.flags|=67108866,K):Z):(Y.flags|=67108866,K)):(Y.flags|=1048576,K)}function A(Y){return i&&Y.alternate===null&&(Y.flags|=67108866),Y}function D(Y,K,Z,he){return K===null||K.tag!==6?(K=E_(Z,Y.mode,he),K.return=Y,K):(K=m(K,Z),K.return=Y,K)}function B(Y,K,Z,he){var Se=Z.type;return Se===w?ce(Y,K,Z.props.children,he,Z.key):K!==null&&(K.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===C&&TS(Se)===K.type)?(K=m(K,Z.props),Vh(K,Z),K.return=Y,K):(K=Pp(Z.type,Z.key,Z.props,null,Y.mode,he),Vh(K,Z),K.return=Y,K)}function te(Y,K,Z,he){return K===null||K.tag!==4||K.stateNode.containerInfo!==Z.containerInfo||K.stateNode.implementation!==Z.implementation?(K=b_(Z,Y.mode,he),K.return=Y,K):(K=m(K,Z.children||[]),K.return=Y,K)}function ce(Y,K,Z,he,Se){return K===null||K.tag!==7?(K=Fo(Z,Y.mode,he,Se),K.return=Y,K):(K=m(K,Z),K.return=Y,K)}function fe(Y,K,Z){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=E_(""+K,Y.mode,Z),K.return=Y,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case v:return Z=Pp(K.type,K.key,K.props,null,Y.mode,Z),Vh(Z,K),Z.return=Y,Z;case T:return K=b_(K,Y.mode,Z),K.return=Y,K;case C:var he=K._init;return K=he(K._payload),fe(Y,K,Z)}if(M(K)||b(K))return K=Fo(K,Y.mode,Z,null),K.return=Y,K;if(typeof K.then=="function")return fe(Y,Gp(K),Z);if(K.$$typeof===F)return fe(Y,Np(Y,K),Z);Kp(Y,K)}return null}function re(Y,K,Z,he){var Se=K!==null?K.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Se!==null?null:D(Y,K,""+Z,he);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case v:return Z.key===Se?B(Y,K,Z,he):null;case T:return Z.key===Se?te(Y,K,Z,he):null;case C:return Se=Z._init,Z=Se(Z._payload),re(Y,K,Z,he)}if(M(Z)||b(Z))return Se!==null?null:ce(Y,K,Z,he,null);if(typeof Z.then=="function")return re(Y,K,Gp(Z),he);if(Z.$$typeof===F)return re(Y,K,Np(Y,Z),he);Kp(Y,Z)}return null}function ie(Y,K,Z,he,Se){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return Y=Y.get(Z)||null,D(K,Y,""+he,Se);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case v:return Y=Y.get(he.key===null?Z:he.key)||null,B(K,Y,he,Se);case T:return Y=Y.get(he.key===null?Z:he.key)||null,te(K,Y,he,Se);case C:var Fe=he._init;return he=Fe(he._payload),ie(Y,K,Z,he,Se)}if(M(he)||b(he))return Y=Y.get(Z)||null,ce(K,Y,he,Se,null);if(typeof he.then=="function")return ie(Y,K,Z,Gp(he),Se);if(he.$$typeof===F)return ie(Y,K,Z,Np(K,he),Se);Kp(K,he)}return null}function Ne(Y,K,Z,he){for(var Se=null,Fe=null,Re=K,Oe=K=0,Tn=null;Re!==null&&Oe<Z.length;Oe++){Re.index>Oe?(Tn=Re,Re=null):Tn=Re.sibling;var Xe=re(Y,Re,Z[Oe],he);if(Xe===null){Re===null&&(Re=Tn);break}i&&Re&&Xe.alternate===null&&a(Y,Re),K=y(Xe,K,Oe),Fe===null?Se=Xe:Fe.sibling=Xe,Fe=Xe,Re=Tn}if(Oe===Z.length)return l(Y,Re),Ze&&zo(Y,Oe),Se;if(Re===null){for(;Oe<Z.length;Oe++)Re=fe(Y,Z[Oe],he),Re!==null&&(K=y(Re,K,Oe),Fe===null?Se=Re:Fe.sibling=Re,Fe=Re);return Ze&&zo(Y,Oe),Se}for(Re=c(Re);Oe<Z.length;Oe++)Tn=ie(Re,Y,Oe,Z[Oe],he),Tn!==null&&(i&&Tn.alternate!==null&&Re.delete(Tn.key===null?Oe:Tn.key),K=y(Tn,K,Oe),Fe===null?Se=Tn:Fe.sibling=Tn,Fe=Tn);return i&&Re.forEach(function(Pa){return a(Y,Pa)}),Ze&&zo(Y,Oe),Se}function xe(Y,K,Z,he){if(Z==null)throw Error(r(151));for(var Se=null,Fe=null,Re=K,Oe=K=0,Tn=null,Xe=Z.next();Re!==null&&!Xe.done;Oe++,Xe=Z.next()){Re.index>Oe?(Tn=Re,Re=null):Tn=Re.sibling;var Pa=re(Y,Re,Xe.value,he);if(Pa===null){Re===null&&(Re=Tn);break}i&&Re&&Pa.alternate===null&&a(Y,Re),K=y(Pa,K,Oe),Fe===null?Se=Pa:Fe.sibling=Pa,Fe=Pa,Re=Tn}if(Xe.done)return l(Y,Re),Ze&&zo(Y,Oe),Se;if(Re===null){for(;!Xe.done;Oe++,Xe=Z.next())Xe=fe(Y,Xe.value,he),Xe!==null&&(K=y(Xe,K,Oe),Fe===null?Se=Xe:Fe.sibling=Xe,Fe=Xe);return Ze&&zo(Y,Oe),Se}for(Re=c(Re);!Xe.done;Oe++,Xe=Z.next())Xe=ie(Re,Y,Oe,Xe.value,he),Xe!==null&&(i&&Xe.alternate!==null&&Re.delete(Xe.key===null?Oe:Xe.key),K=y(Xe,K,Oe),Fe===null?Se=Xe:Fe.sibling=Xe,Fe=Xe);return i&&Re.forEach(function($M){return a(Y,$M)}),Ze&&zo(Y,Oe),Se}function dt(Y,K,Z,he){if(typeof Z=="object"&&Z!==null&&Z.type===w&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case v:e:{for(var Se=Z.key;K!==null;){if(K.key===Se){if(Se=Z.type,Se===w){if(K.tag===7){l(Y,K.sibling),he=m(K,Z.props.children),he.return=Y,Y=he;break e}}else if(K.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===C&&TS(Se)===K.type){l(Y,K.sibling),he=m(K,Z.props),Vh(he,Z),he.return=Y,Y=he;break e}l(Y,K);break}else a(Y,K);K=K.sibling}Z.type===w?(he=Fo(Z.props.children,Y.mode,he,Z.key),he.return=Y,Y=he):(he=Pp(Z.type,Z.key,Z.props,null,Y.mode,he),Vh(he,Z),he.return=Y,Y=he)}return A(Y);case T:e:{for(Se=Z.key;K!==null;){if(K.key===Se)if(K.tag===4&&K.stateNode.containerInfo===Z.containerInfo&&K.stateNode.implementation===Z.implementation){l(Y,K.sibling),he=m(K,Z.children||[]),he.return=Y,Y=he;break e}else{l(Y,K);break}else a(Y,K);K=K.sibling}he=b_(Z,Y.mode,he),he.return=Y,Y=he}return A(Y);case C:return Se=Z._init,Z=Se(Z._payload),dt(Y,K,Z,he)}if(M(Z))return Ne(Y,K,Z,he);if(b(Z)){if(Se=b(Z),typeof Se!="function")throw Error(r(150));return Z=Se.call(Z),xe(Y,K,Z,he)}if(typeof Z.then=="function")return dt(Y,K,Gp(Z),he);if(Z.$$typeof===F)return dt(Y,K,Np(Y,Z),he);Kp(Y,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,K!==null&&K.tag===6?(l(Y,K.sibling),he=m(K,Z),he.return=Y,Y=he):(l(Y,K),he=E_(Z,Y.mode,he),he.return=Y,Y=he),A(Y)):l(Y,K)}return function(Y,K,Z,he){try{Mh=0;var Se=dt(Y,K,Z,he);return pu=null,Se}catch(Re){if(Re===Ih||Re===Mp)throw Re;var Fe=Er(29,Re,null,Y.mode);return Fe.lanes=he,Fe.return=Y,Fe}finally{}}}var mu=SS(!0),AS=SS(!1),Hr=le(null),Pi=null;function pa(i){var a=i.alternate;_e(yn,yn.current&1),_e(Hr,i),Pi===null&&(a===null||cu.current!==null||a.memoizedState!==null)&&(Pi=i)}function IS(i){if(i.tag===22){if(_e(yn,yn.current),_e(Hr,i),Pi===null){var a=i.alternate;a!==null&&a.memoizedState!==null&&(Pi=i)}}else ma()}function ma(){_e(yn,yn.current),_e(Hr,Hr.current)}function _s(i){me(Hr),Pi===i&&(Pi=null),me(yn)}var yn=le(0);function Wp(i){for(var a=i;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||qv(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function ev(i,a,l,c){a=i.memoizedState,l=l(c,a),l=l==null?a:g({},a,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var tv={enqueueSetState:function(i,a,l){i=i._reactInternals;var c=Sr(),m=ha(c);m.payload=a,l!=null&&(m.callback=l),a=fa(i,m,c),a!==null&&(Ar(a,i,c),Ch(a,i,c))},enqueueReplaceState:function(i,a,l){i=i._reactInternals;var c=Sr(),m=ha(c);m.tag=1,m.payload=a,l!=null&&(m.callback=l),a=fa(i,m,c),a!==null&&(Ar(a,i,c),Ch(a,i,c))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var l=Sr(),c=ha(l);c.tag=2,a!=null&&(c.callback=a),a=fa(i,c,l),a!==null&&(Ar(a,i,l),Ch(a,i,l))}};function RS(i,a,l,c,m,y,A){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,y,A):a.prototype&&a.prototype.isPureReactComponent?!_h(l,c)||!_h(m,y):!0}function CS(i,a,l,c){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,c),a.state!==i&&tv.enqueueReplaceState(a,a.state,null)}function Qo(i,a){var l=a;if("ref"in a){l={};for(var c in a)c!=="ref"&&(l[c]=a[c])}if(i=i.defaultProps){l===a&&(l=g({},l));for(var m in i)l[m]===void 0&&(l[m]=i[m])}return l}var Qp=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function PS(i){Qp(i)}function xS(i){console.error(i)}function OS(i){Qp(i)}function Yp(i,a){try{var l=i.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function DS(i,a,l){try{var c=i.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function nv(i,a,l){return l=ha(l),l.tag=3,l.payload={element:null},l.callback=function(){Yp(i,a)},l}function NS(i){return i=ha(i),i.tag=3,i}function kS(i,a,l,c){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var y=c.value;i.payload=function(){return m(y)},i.callback=function(){DS(a,l,c)}}var A=l.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(i.callback=function(){DS(a,l,c),typeof m!="function"&&(ba===null?ba=new Set([this]):ba.add(this));var D=c.stack;this.componentDidCatch(c.value,{componentStack:D!==null?D:""})})}function $k(i,a,l,c,m){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=l.alternate,a!==null&&Th(a,l,m,!0),l=Hr.current,l!==null){switch(l.tag){case 13:return Pi===null?Iv():l.alternate===null&&Ut===0&&(Ut=3),l.flags&=-257,l.flags|=65536,l.lanes=m,c===O_?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([c]):a.add(c),Cv(i,c,m)),!1;case 22:return l.flags|=65536,c===O_?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([c]):l.add(c)),Cv(i,c,m)),!1}throw Error(r(435,l.tag))}return Cv(i,c,m),Iv(),!1}if(Ze)return a=Hr.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=m,c!==S_&&(i=Error(r(422),{cause:c}),wh(Fr(i,l)))):(c!==S_&&(a=Error(r(423),{cause:c}),wh(Fr(a,l))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,c=Fr(c,l),m=nv(i.stateNode,c,m),k_(i,m),Ut!==4&&(Ut=2)),!1;var y=Error(r(520),{cause:c});if(y=Fr(y,l),qh===null?qh=[y]:qh.push(y),Ut!==4&&(Ut=2),a===null)return!0;c=Fr(c,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,i=m&-m,l.lanes|=i,i=nv(l.stateNode,c,i),k_(l,i),!1;case 1:if(a=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ba===null||!ba.has(y))))return l.flags|=65536,m&=-m,l.lanes|=m,m=NS(m),kS(m,i,l,c),k_(l,m),!1}l=l.return}while(l!==null);return!1}var MS=Error(r(461)),bn=!1;function xn(i,a,l,c){a.child=i===null?AS(a,null,l,c):mu(a,i.child,l,c)}function VS(i,a,l,c,m){l=l.render;var y=a.ref;if("ref"in c){var A={};for(var D in c)D!=="ref"&&(A[D]=c[D])}else A=c;return Go(a),c=B_(i,a,l,A,y,m),D=F_(),i!==null&&!bn?(j_(i,a,m),vs(i,a,m)):(Ze&&D&&w_(a),a.flags|=1,xn(i,a,c,m),a.child)}function LS(i,a,l,c,m){if(i===null){var y=l.type;return typeof y=="function"&&!v_(y)&&y.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=y,US(i,a,y,c,m)):(i=Pp(l.type,null,c,a,a.mode,m),i.ref=a.ref,i.return=a,a.child=i)}if(y=i.child,!cv(i,m)){var A=y.memoizedProps;if(l=l.compare,l=l!==null?l:_h,l(A,c)&&i.ref===a.ref)return vs(i,a,m)}return a.flags|=1,i=fs(y,c),i.ref=a.ref,i.return=a,a.child=i}function US(i,a,l,c,m){if(i!==null){var y=i.memoizedProps;if(_h(y,c)&&i.ref===a.ref)if(bn=!1,a.pendingProps=c=y,cv(i,m))(i.flags&131072)!==0&&(bn=!0);else return a.lanes=i.lanes,vs(i,a,m)}return rv(i,a,l,c,m)}function BS(i,a,l){var c=a.pendingProps,m=c.children,y=i!==null?i.memoizedState:null;if(c.mode==="hidden"){if((a.flags&128)!==0){if(c=y!==null?y.baseLanes|l:l,i!==null){for(m=a.child=i.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;a.childLanes=y&~c}else a.childLanes=0,a.child=null;return FS(i,a,c,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&kp(a,y!==null?y.cachePool:null),y!==null?UT(a,y):V_(),IS(a);else return a.lanes=a.childLanes=536870912,FS(i,a,y!==null?y.baseLanes|l:l,l)}else y!==null?(kp(a,y.cachePool),UT(a,y),ma(),a.memoizedState=null):(i!==null&&kp(a,null),V_(),ma());return xn(i,a,m,l),a.child}function FS(i,a,l,c){var m=x_();return m=m===null?null:{parent:gn._currentValue,pool:m},a.memoizedState={baseLanes:l,cachePool:m},i!==null&&kp(a,null),V_(),IS(a),i!==null&&Th(i,a,c,!0),null}function Xp(i,a){var l=a.ref;if(l===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(a.flags|=4194816)}}function rv(i,a,l,c,m){return Go(a),l=B_(i,a,l,c,void 0,m),c=F_(),i!==null&&!bn?(j_(i,a,m),vs(i,a,m)):(Ze&&c&&w_(a),a.flags|=1,xn(i,a,l,m),a.child)}function jS(i,a,l,c,m,y){return Go(a),a.updateQueue=null,l=FT(a,c,l,m),BT(i),c=F_(),i!==null&&!bn?(j_(i,a,y),vs(i,a,y)):(Ze&&c&&w_(a),a.flags|=1,xn(i,a,l,y),a.child)}function zS(i,a,l,c,m){if(Go(a),a.stateNode===null){var y=su,A=l.contextType;typeof A=="object"&&A!==null&&(y=Fn(A)),y=new l(c,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=tv,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=c,y.state=a.memoizedState,y.refs={},D_(a),A=l.contextType,y.context=typeof A=="object"&&A!==null?Fn(A):su,y.state=a.memoizedState,A=l.getDerivedStateFromProps,typeof A=="function"&&(ev(a,l,A,c),y.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(A=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),A!==y.state&&tv.enqueueReplaceState(y,y.state,null),xh(a,c,y,m),Ph(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(i===null){y=a.stateNode;var D=a.memoizedProps,B=Qo(l,D);y.props=B;var te=y.context,ce=l.contextType;A=su,typeof ce=="object"&&ce!==null&&(A=Fn(ce));var fe=l.getDerivedStateFromProps;ce=typeof fe=="function"||typeof y.getSnapshotBeforeUpdate=="function",D=a.pendingProps!==D,ce||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(D||te!==A)&&CS(a,y,c,A),ca=!1;var re=a.memoizedState;y.state=re,xh(a,c,y,m),Ph(),te=a.memoizedState,D||re!==te||ca?(typeof fe=="function"&&(ev(a,l,fe,c),te=a.memoizedState),(B=ca||RS(a,l,B,c,re,te,A))?(ce||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=te),y.props=c,y.state=te,y.context=A,c=B):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{y=a.stateNode,N_(i,a),A=a.memoizedProps,ce=Qo(l,A),y.props=ce,fe=a.pendingProps,re=y.context,te=l.contextType,B=su,typeof te=="object"&&te!==null&&(B=Fn(te)),D=l.getDerivedStateFromProps,(te=typeof D=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(A!==fe||re!==B)&&CS(a,y,c,B),ca=!1,re=a.memoizedState,y.state=re,xh(a,c,y,m),Ph();var ie=a.memoizedState;A!==fe||re!==ie||ca||i!==null&&i.dependencies!==null&&Dp(i.dependencies)?(typeof D=="function"&&(ev(a,l,D,c),ie=a.memoizedState),(ce=ca||RS(a,l,ce,c,re,ie,B)||i!==null&&i.dependencies!==null&&Dp(i.dependencies))?(te||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,ie,B),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,ie,B)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||A===i.memoizedProps&&re===i.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&re===i.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=ie),y.props=c,y.state=ie,y.context=B,c=ce):(typeof y.componentDidUpdate!="function"||A===i.memoizedProps&&re===i.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&re===i.memoizedState||(a.flags|=1024),c=!1)}return y=c,Xp(i,a),c=(a.flags&128)!==0,y||c?(y=a.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,i!==null&&c?(a.child=mu(a,i.child,null,m),a.child=mu(a,null,l,m)):xn(i,a,l,m),a.memoizedState=y.state,i=a.child):i=vs(i,a,m),i}function qS(i,a,l,c){return bh(),a.flags|=256,xn(i,a,l,c),a.child}var iv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sv(i){return{baseLanes:i,cachePool:xT()}}function av(i,a,l){return i=i!==null?i.childLanes&~l:0,a&&(i|=$r),i}function HS(i,a,l){var c=a.pendingProps,m=!1,y=(a.flags&128)!==0,A;if((A=y)||(A=i!==null&&i.memoizedState===null?!1:(yn.current&2)!==0),A&&(m=!0,a.flags&=-129),A=(a.flags&32)!==0,a.flags&=-33,i===null){if(Ze){if(m?pa(a):ma(),Ze){var D=Lt,B;if(B=D){e:{for(B=D,D=Ci;B.nodeType!==8;){if(!D){D=null;break e}if(B=li(B.nextSibling),B===null){D=null;break e}}D=B}D!==null?(a.memoizedState={dehydrated:D,treeContext:jo!==null?{id:ds,overflow:ps}:null,retryLane:536870912,hydrationErrors:null},B=Er(18,null,null,0),B.stateNode=D,B.return=a,a.child=B,Zn=a,Lt=null,B=!0):B=!1}B||Ho(a)}if(D=a.memoizedState,D!==null&&(D=D.dehydrated,D!==null))return qv(D)?a.lanes=32:a.lanes=536870912,null;_s(a)}return D=c.children,c=c.fallback,m?(ma(),m=a.mode,D=Jp({mode:"hidden",children:D},m),c=Fo(c,m,l,null),D.return=a,c.return=a,D.sibling=c,a.child=D,m=a.child,m.memoizedState=sv(l),m.childLanes=av(i,A,l),a.memoizedState=iv,c):(pa(a),ov(a,D))}if(B=i.memoizedState,B!==null&&(D=B.dehydrated,D!==null)){if(y)a.flags&256?(pa(a),a.flags&=-257,a=lv(i,a,l)):a.memoizedState!==null?(ma(),a.child=i.child,a.flags|=128,a=null):(ma(),m=c.fallback,D=a.mode,c=Jp({mode:"visible",children:c.children},D),m=Fo(m,D,l,null),m.flags|=2,c.return=a,m.return=a,c.sibling=m,a.child=c,mu(a,i.child,null,l),c=a.child,c.memoizedState=sv(l),c.childLanes=av(i,A,l),a.memoizedState=iv,a=m);else if(pa(a),qv(D)){if(A=D.nextSibling&&D.nextSibling.dataset,A)var te=A.dgst;A=te,c=Error(r(419)),c.stack="",c.digest=A,wh({value:c,source:null,stack:null}),a=lv(i,a,l)}else if(bn||Th(i,a,l,!1),A=(l&i.childLanes)!==0,bn||A){if(A=vt,A!==null&&(c=l&-l,c=(c&42)!==0?1:th(c),c=(c&(A.suspendedLanes|l))!==0?0:c,c!==0&&c!==B.retryLane))throw B.retryLane=c,iu(i,c),Ar(A,i,c),MS;D.data==="$?"||Iv(),a=lv(i,a,l)}else D.data==="$?"?(a.flags|=192,a.child=i.child,a=null):(i=B.treeContext,Lt=li(D.nextSibling),Zn=a,Ze=!0,qo=null,Ci=!1,i!==null&&(zr[qr++]=ds,zr[qr++]=ps,zr[qr++]=jo,ds=i.id,ps=i.overflow,jo=a),a=ov(a,c.children),a.flags|=4096);return a}return m?(ma(),m=c.fallback,D=a.mode,B=i.child,te=B.sibling,c=fs(B,{mode:"hidden",children:c.children}),c.subtreeFlags=B.subtreeFlags&65011712,te!==null?m=fs(te,m):(m=Fo(m,D,l,null),m.flags|=2),m.return=a,c.return=a,c.sibling=m,a.child=c,c=m,m=a.child,D=i.child.memoizedState,D===null?D=sv(l):(B=D.cachePool,B!==null?(te=gn._currentValue,B=B.parent!==te?{parent:te,pool:te}:B):B=xT(),D={baseLanes:D.baseLanes|l,cachePool:B}),m.memoizedState=D,m.childLanes=av(i,A,l),a.memoizedState=iv,c):(pa(a),l=i.child,i=l.sibling,l=fs(l,{mode:"visible",children:c.children}),l.return=a,l.sibling=null,i!==null&&(A=a.deletions,A===null?(a.deletions=[i],a.flags|=16):A.push(i)),a.child=l,a.memoizedState=null,l)}function ov(i,a){return a=Jp({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function Jp(i,a){return i=Er(22,i,null,a),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function lv(i,a,l){return mu(a,i.child,null,l),i=ov(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function $S(i,a,l){i.lanes|=a;var c=i.alternate;c!==null&&(c.lanes|=a),I_(i.return,a,l)}function uv(i,a,l,c,m){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:m}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=l,y.tailMode=m)}function GS(i,a,l){var c=a.pendingProps,m=c.revealOrder,y=c.tail;if(xn(i,a,c.children,l),c=yn.current,(c&2)!==0)c=c&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&$S(i,l,a);else if(i.tag===19)$S(i,l,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}c&=1}switch(_e(yn,c),m){case"forwards":for(l=a.child,m=null;l!==null;)i=l.alternate,i!==null&&Wp(i)===null&&(m=l),l=l.sibling;l=m,l===null?(m=a.child,a.child=null):(m=l.sibling,l.sibling=null),uv(a,!1,m,l,y);break;case"backwards":for(l=null,m=a.child,a.child=null;m!==null;){if(i=m.alternate,i!==null&&Wp(i)===null){a.child=m;break}i=m.sibling,m.sibling=l,l=m,m=i}uv(a,!0,l,null,y);break;case"together":uv(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function vs(i,a,l){if(i!==null&&(a.dependencies=i.dependencies),Ea|=a.lanes,(l&a.childLanes)===0)if(i!==null){if(Th(i,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(r(153));if(a.child!==null){for(i=a.child,l=fs(i,i.pendingProps),a.child=l,l.return=a;i.sibling!==null;)i=i.sibling,l=l.sibling=fs(i,i.pendingProps),l.return=a;l.sibling=null}return a.child}function cv(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&Dp(i)))}function Gk(i,a,l){switch(a.tag){case 3:Ye(a,a.stateNode.containerInfo),ua(a,gn,i.memoizedState.cache),bh();break;case 27:case 5:go(a);break;case 4:Ye(a,a.stateNode.containerInfo);break;case 10:ua(a,a.type,a.memoizedProps.value);break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(pa(a),a.flags|=128,null):(l&a.child.childLanes)!==0?HS(i,a,l):(pa(a),i=vs(i,a,l),i!==null?i.sibling:null);pa(a);break;case 19:var m=(i.flags&128)!==0;if(c=(l&a.childLanes)!==0,c||(Th(i,a,l,!1),c=(l&a.childLanes)!==0),m){if(c)return GS(i,a,l);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),_e(yn,yn.current),c)break;return null;case 22:case 23:return a.lanes=0,BS(i,a,l);case 24:ua(a,gn,i.memoizedState.cache)}return vs(i,a,l)}function KS(i,a,l){if(i!==null)if(i.memoizedProps!==a.pendingProps)bn=!0;else{if(!cv(i,l)&&(a.flags&128)===0)return bn=!1,Gk(i,a,l);bn=(i.flags&131072)!==0}else bn=!1,Ze&&(a.flags&1048576)!==0&&TT(a,Op,a.index);switch(a.lanes=0,a.tag){case 16:e:{i=a.pendingProps;var c=a.elementType,m=c._init;if(c=m(c._payload),a.type=c,typeof c=="function")v_(c)?(i=Qo(c,i),a.tag=1,a=zS(null,a,c,i,l)):(a.tag=0,a=rv(null,a,c,i,l));else{if(c!=null){if(m=c.$$typeof,m===W){a.tag=11,a=VS(null,a,c,i,l);break e}else if(m===N){a.tag=14,a=LS(null,a,c,i,l);break e}}throw a=G(c)||c,Error(r(306,a,""))}}return a;case 0:return rv(i,a,a.type,a.pendingProps,l);case 1:return c=a.type,m=Qo(c,a.pendingProps),zS(i,a,c,m,l);case 3:e:{if(Ye(a,a.stateNode.containerInfo),i===null)throw Error(r(387));c=a.pendingProps;var y=a.memoizedState;m=y.element,N_(i,a),xh(a,c,null,l);var A=a.memoizedState;if(c=A.cache,ua(a,gn,c),c!==y.cache&&R_(a,[gn],l,!0),Ph(),c=A.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:A.cache},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){a=qS(i,a,c,l);break e}else if(c!==m){m=Fr(Error(r(424)),a),wh(m),a=qS(i,a,c,l);break e}else{switch(i=a.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Lt=li(i.firstChild),Zn=a,Ze=!0,qo=null,Ci=!0,l=AS(a,null,c,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(bh(),c===m){a=vs(i,a,l);break e}xn(i,a,c,l)}a=a.child}return a;case 26:return Xp(i,a),i===null?(l=XA(a.type,null,a.pendingProps,null))?a.memoizedState=l:Ze||(l=a.type,i=a.pendingProps,c=fm(Ce.current).createElement(l),c[Kt]=a,c[Pn]=i,Dn(c,l,i),Wt(c),a.stateNode=c):a.memoizedState=XA(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return go(a),i===null&&Ze&&(c=a.stateNode=WA(a.type,a.pendingProps,Ce.current),Zn=a,Ci=!0,m=Lt,Sa(a.type)?(Hv=m,Lt=li(c.firstChild)):Lt=m),xn(i,a,a.pendingProps.children,l),Xp(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&Ze&&((m=c=Lt)&&(c=EM(c,a.type,a.pendingProps,Ci),c!==null?(a.stateNode=c,Zn=a,Lt=li(c.firstChild),Ci=!1,m=!0):m=!1),m||Ho(a)),go(a),m=a.type,y=a.pendingProps,A=i!==null?i.memoizedProps:null,c=y.children,Fv(m,y)?c=null:A!==null&&Fv(m,A)&&(a.flags|=32),a.memoizedState!==null&&(m=B_(i,a,Uk,null,null,l),Jh._currentValue=m),Xp(i,a),xn(i,a,c,l),a.child;case 6:return i===null&&Ze&&((i=l=Lt)&&(l=bM(l,a.pendingProps,Ci),l!==null?(a.stateNode=l,Zn=a,Lt=null,i=!0):i=!1),i||Ho(a)),null;case 13:return HS(i,a,l);case 4:return Ye(a,a.stateNode.containerInfo),c=a.pendingProps,i===null?a.child=mu(a,null,c,l):xn(i,a,c,l),a.child;case 11:return VS(i,a,a.type,a.pendingProps,l);case 7:return xn(i,a,a.pendingProps,l),a.child;case 8:return xn(i,a,a.pendingProps.children,l),a.child;case 12:return xn(i,a,a.pendingProps.children,l),a.child;case 10:return c=a.pendingProps,ua(a,a.type,c.value),xn(i,a,c.children,l),a.child;case 9:return m=a.type._context,c=a.pendingProps.children,Go(a),m=Fn(m),c=c(m),a.flags|=1,xn(i,a,c,l),a.child;case 14:return LS(i,a,a.type,a.pendingProps,l);case 15:return US(i,a,a.type,a.pendingProps,l);case 19:return GS(i,a,l);case 31:return c=a.pendingProps,l=a.mode,c={mode:c.mode,children:c.children},i===null?(l=Jp(c,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=fs(i.child,c),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return BS(i,a,l);case 24:return Go(a),c=Fn(gn),i===null?(m=x_(),m===null&&(m=vt,y=C_(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=l),m=y),a.memoizedState={parent:c,cache:m},D_(a),ua(a,gn,m)):((i.lanes&l)!==0&&(N_(i,a),xh(a,null,null,l),Ph()),m=i.memoizedState,y=a.memoizedState,m.parent!==c?(m={parent:c,cache:c},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),ua(a,gn,c)):(c=y.cache,ua(a,gn,c),c!==m.cache&&R_(a,[gn],l,!0))),xn(i,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function Es(i){i.flags|=4}function WS(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!nI(a)){if(a=Hr.current,a!==null&&((Ke&4194048)===Ke?Pi!==null:(Ke&62914560)!==Ke&&(Ke&536870912)===0||a!==Pi))throw Rh=O_,OT;i.flags|=8192}}function Zp(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?Ys():536870912,i.lanes|=a,vu|=a)}function Lh(i,a){if(!Ze)switch(i.tailMode){case"hidden":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function Nt(i){var a=i.alternate!==null&&i.alternate.child===i.child,l=0,c=0;if(a)for(var m=i.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=c,i.childLanes=l,a}function Kk(i,a,l){var c=a.pendingProps;switch(T_(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(a),null;case 1:return Nt(a),null;case 3:return l=a.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),gs(gn),yr(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(Eh(a)?Es(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,IT())),Nt(a),null;case 26:return l=a.memoizedState,i===null?(Es(a),l!==null?(Nt(a),WS(a,l)):(Nt(a),a.flags&=-16777217)):l?l!==i.memoizedState?(Es(a),Nt(a),WS(a,l)):(Nt(a),a.flags&=-16777217):(i.memoizedProps!==c&&Es(a),Nt(a),a.flags&=-16777217),null;case 27:is(a),l=Ce.current;var m=a.type;if(i!==null&&a.stateNode!=null)i.memoizedProps!==c&&Es(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return Nt(a),null}i=ye.current,Eh(a)?ST(a):(i=WA(m,c,l),a.stateNode=i,Es(a))}return Nt(a),null;case 5:if(is(a),l=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==c&&Es(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return Nt(a),null}if(i=ye.current,Eh(a))ST(a);else{switch(m=fm(Ce.current),i){case 1:i=m.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=m.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=m.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof c.is=="string"?m.createElement("select",{is:c.is}):m.createElement("select"),c.multiple?i.multiple=!0:c.size&&(i.size=c.size);break;default:i=typeof c.is=="string"?m.createElement(l,{is:c.is}):m.createElement(l)}}i[Kt]=a,i[Pn]=c;e:for(m=a.child;m!==null;){if(m.tag===5||m.tag===6)i.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===a)break e;for(;m.sibling===null;){if(m.return===null||m.return===a)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}a.stateNode=i;e:switch(Dn(i,l,c),l){case"button":case"input":case"select":case"textarea":i=!!c.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Es(a)}}return Nt(a),a.flags&=-16777217,null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==c&&Es(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(r(166));if(i=Ce.current,Eh(a)){if(i=a.stateNode,l=a.memoizedProps,c=null,m=Zn,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}i[Kt]=a,i=!!(i.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||jA(i.nodeValue,l)),i||Ho(a)}else i=fm(i).createTextNode(c),i[Kt]=a,a.stateNode=i}return Nt(a),null;case 13:if(c=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=Eh(a),c!==null&&c.dehydrated!==null){if(i===null){if(!m)throw Error(r(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[Kt]=a}else bh(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Nt(a),m=!1}else m=IT(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return a.flags&256?(_s(a),a):(_s(a),null)}if(_s(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=c!==null,i=i!==null&&i.memoizedState!==null,l){c=a.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool);var y=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==m&&(c.flags|=2048)}return l!==i&&l&&(a.child.flags|=8192),Zp(a,a.updateQueue),Nt(a),null;case 4:return yr(),i===null&&Mv(a.stateNode.containerInfo),Nt(a),null;case 10:return gs(a.type),Nt(a),null;case 19:if(me(yn),m=a.memoizedState,m===null)return Nt(a),null;if(c=(a.flags&128)!==0,y=m.rendering,y===null)if(c)Lh(m,!1);else{if(Ut!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(y=Wp(i),y!==null){for(a.flags|=128,Lh(m,!1),i=y.updateQueue,a.updateQueue=i,Zp(a,i),a.subtreeFlags=0,i=l,l=a.child;l!==null;)wT(l,i),l=l.sibling;return _e(yn,yn.current&1|2),a.child}i=i.sibling}m.tail!==null&&Un()>nm&&(a.flags|=128,c=!0,Lh(m,!1),a.lanes=4194304)}else{if(!c)if(i=Wp(y),i!==null){if(a.flags|=128,c=!0,i=i.updateQueue,a.updateQueue=i,Zp(a,i),Lh(m,!0),m.tail===null&&m.tailMode==="hidden"&&!y.alternate&&!Ze)return Nt(a),null}else 2*Un()-m.renderingStartTime>nm&&l!==536870912&&(a.flags|=128,c=!0,Lh(m,!1),a.lanes=4194304);m.isBackwards?(y.sibling=a.child,a.child=y):(i=m.last,i!==null?i.sibling=y:a.child=y,m.last=y)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=Un(),a.sibling=null,i=yn.current,_e(yn,c?i&1|2:i&1),a):(Nt(a),null);case 22:case 23:return _s(a),L_(),c=a.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(l&536870912)!==0&&(a.flags&128)===0&&(Nt(a),a.subtreeFlags&6&&(a.flags|=8192)):Nt(a),l=a.updateQueue,l!==null&&Zp(a,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==l&&(a.flags|=2048),i!==null&&me(Ko),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),gs(gn),Nt(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function Wk(i,a){switch(T_(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return gs(gn),yr(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return is(a),null;case 13:if(_s(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(r(340));bh()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return me(yn),null;case 4:return yr(),null;case 10:return gs(a.type),null;case 22:case 23:return _s(a),L_(),i!==null&&me(Ko),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return gs(gn),null;case 25:return null;default:return null}}function QS(i,a){switch(T_(a),a.tag){case 3:gs(gn),yr();break;case 26:case 27:case 5:is(a);break;case 4:yr();break;case 13:_s(a);break;case 19:me(yn);break;case 10:gs(a.type);break;case 22:case 23:_s(a),L_(),i!==null&&me(Ko);break;case 24:gs(gn)}}function Uh(i,a){try{var l=a.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var m=c.next;l=m;do{if((l.tag&i)===i){c=void 0;var y=l.create,A=l.inst;c=y(),A.destroy=c}l=l.next}while(l!==m)}}catch(D){mt(a,a.return,D)}}function ga(i,a,l){try{var c=a.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var y=m.next;c=y;do{if((c.tag&i)===i){var A=c.inst,D=A.destroy;if(D!==void 0){A.destroy=void 0,m=a;var B=l,te=D;try{te()}catch(ce){mt(m,B,ce)}}}c=c.next}while(c!==y)}}catch(ce){mt(a,a.return,ce)}}function YS(i){var a=i.updateQueue;if(a!==null){var l=i.stateNode;try{LT(a,l)}catch(c){mt(i,i.return,c)}}}function XS(i,a,l){l.props=Qo(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(c){mt(i,a,c)}}function Bh(i,a){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof l=="function"?i.refCleanup=l(c):l.current=c}}catch(m){mt(i,a,m)}}function xi(i,a){var l=i.ref,c=i.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(m){mt(i,a,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){mt(i,a,m)}else l.current=null}function JS(i){var a=i.type,l=i.memoizedProps,c=i.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(m){mt(i,i.return,m)}}function hv(i,a,l){try{var c=i.stateNode;mM(c,i.type,l,a),c[Pn]=a}catch(m){mt(i,i.return,m)}}function ZS(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Sa(i.type)||i.tag===4}function fv(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||ZS(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Sa(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function dv(i,a,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(i),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=hm));else if(c!==4&&(c===27&&Sa(i.type)&&(l=i.stateNode,a=null),i=i.child,i!==null))for(dv(i,a,l),i=i.sibling;i!==null;)dv(i,a,l),i=i.sibling}function em(i,a,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,a?l.insertBefore(i,a):l.appendChild(i);else if(c!==4&&(c===27&&Sa(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(em(i,a,l),i=i.sibling;i!==null;)em(i,a,l),i=i.sibling}function eA(i){var a=i.stateNode,l=i.memoizedProps;try{for(var c=i.type,m=a.attributes;m.length;)a.removeAttributeNode(m[0]);Dn(a,c,l),a[Kt]=i,a[Pn]=l}catch(y){mt(i,i.return,y)}}var bs=!1,Xt=!1,pv=!1,tA=typeof WeakSet=="function"?WeakSet:Set,wn=null;function Qk(i,a){if(i=i.containerInfo,Uv=_m,i=fT(i),f_(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var m=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var A=0,D=-1,B=-1,te=0,ce=0,fe=i,re=null;t:for(;;){for(var ie;fe!==l||m!==0&&fe.nodeType!==3||(D=A+m),fe!==y||c!==0&&fe.nodeType!==3||(B=A+c),fe.nodeType===3&&(A+=fe.nodeValue.length),(ie=fe.firstChild)!==null;)re=fe,fe=ie;for(;;){if(fe===i)break t;if(re===l&&++te===m&&(D=A),re===y&&++ce===c&&(B=A),(ie=fe.nextSibling)!==null)break;fe=re,re=fe.parentNode}fe=ie}l=D===-1||B===-1?null:{start:D,end:B}}else l=null}l=l||{start:0,end:0}}else l=null;for(Bv={focusedElem:i,selectionRange:l},_m=!1,wn=a;wn!==null;)if(a=wn,i=a.child,(a.subtreeFlags&1024)!==0&&i!==null)i.return=a,wn=i;else for(;wn!==null;){switch(a=wn,y=a.alternate,i=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,l=a,m=y.memoizedProps,y=y.memoizedState,c=l.stateNode;try{var Ne=Qo(l.type,m,l.elementType===l.type);i=c.getSnapshotBeforeUpdate(Ne,y),c.__reactInternalSnapshotBeforeUpdate=i}catch(xe){mt(l,l.return,xe)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,l=i.nodeType,l===9)zv(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":zv(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=a.sibling,i!==null){i.return=a.return,wn=i;break}wn=a.return}}function nA(i,a,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:ya(i,l),c&4&&Uh(5,l);break;case 1:if(ya(i,l),c&4)if(i=l.stateNode,a===null)try{i.componentDidMount()}catch(A){mt(l,l.return,A)}else{var m=Qo(l.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(m,a,i.__reactInternalSnapshotBeforeUpdate)}catch(A){mt(l,l.return,A)}}c&64&&YS(l),c&512&&Bh(l,l.return);break;case 3:if(ya(i,l),c&64&&(i=l.updateQueue,i!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{LT(i,a)}catch(A){mt(l,l.return,A)}}break;case 27:a===null&&c&4&&eA(l);case 26:case 5:ya(i,l),a===null&&c&4&&JS(l),c&512&&Bh(l,l.return);break;case 12:ya(i,l);break;case 13:ya(i,l),c&4&&sA(i,l),c&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=iM.bind(null,l),wM(i,l))));break;case 22:if(c=l.memoizedState!==null||bs,!c){a=a!==null&&a.memoizedState!==null||Xt,m=bs;var y=Xt;bs=c,(Xt=a)&&!y?_a(i,l,(l.subtreeFlags&8772)!==0):ya(i,l),bs=m,Xt=y}break;case 30:break;default:ya(i,l)}}function rA(i){var a=i.alternate;a!==null&&(i.alternate=null,rA(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&ql(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var At=null,lr=!1;function ws(i,a,l){for(l=l.child;l!==null;)iA(i,a,l),l=l.sibling}function iA(i,a,l){if(yt&&typeof yt.onCommitFiberUnmount=="function")try{yt.onCommitFiberUnmount(Qn,l)}catch{}switch(l.tag){case 26:Xt||xi(l,a),ws(i,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Xt||xi(l,a);var c=At,m=lr;Sa(l.type)&&(At=l.stateNode,lr=!1),ws(i,a,l),Wh(l.stateNode),At=c,lr=m;break;case 5:Xt||xi(l,a);case 6:if(c=At,m=lr,At=null,ws(i,a,l),At=c,lr=m,At!==null)if(lr)try{(At.nodeType===9?At.body:At.nodeName==="HTML"?At.ownerDocument.body:At).removeChild(l.stateNode)}catch(y){mt(l,a,y)}else try{At.removeChild(l.stateNode)}catch(y){mt(l,a,y)}break;case 18:At!==null&&(lr?(i=At,GA(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),nf(i)):GA(At,l.stateNode));break;case 4:c=At,m=lr,At=l.stateNode.containerInfo,lr=!0,ws(i,a,l),At=c,lr=m;break;case 0:case 11:case 14:case 15:Xt||ga(2,l,a),Xt||ga(4,l,a),ws(i,a,l);break;case 1:Xt||(xi(l,a),c=l.stateNode,typeof c.componentWillUnmount=="function"&&XS(l,a,c)),ws(i,a,l);break;case 21:ws(i,a,l);break;case 22:Xt=(c=Xt)||l.memoizedState!==null,ws(i,a,l),Xt=c;break;default:ws(i,a,l)}}function sA(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{nf(i)}catch(l){mt(a,a.return,l)}}function Yk(i){switch(i.tag){case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new tA),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new tA),a;default:throw Error(r(435,i.tag))}}function mv(i,a){var l=Yk(i);a.forEach(function(c){var m=sM.bind(null,i,c);l.has(c)||(l.add(c),c.then(m,m))})}function br(i,a){var l=a.deletions;if(l!==null)for(var c=0;c<l.length;c++){var m=l[c],y=i,A=a,D=A;e:for(;D!==null;){switch(D.tag){case 27:if(Sa(D.type)){At=D.stateNode,lr=!1;break e}break;case 5:At=D.stateNode,lr=!1;break e;case 3:case 4:At=D.stateNode.containerInfo,lr=!0;break e}D=D.return}if(At===null)throw Error(r(160));iA(y,A,m),At=null,lr=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)aA(a,i),a=a.sibling}var oi=null;function aA(i,a){var l=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:br(a,i),wr(i),c&4&&(ga(3,i,i.return),Uh(3,i),ga(5,i,i.return));break;case 1:br(a,i),wr(i),c&512&&(Xt||l===null||xi(l,l.return)),c&64&&bs&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var m=oi;if(br(a,i),wr(i),c&512&&(Xt||l===null||xi(l,l.return)),c&4){var y=l!==null?l.memoizedState:null;if(c=i.memoizedState,l===null)if(c===null)if(i.stateNode===null){e:{c=i.type,l=i.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":y=m.getElementsByTagName("title")[0],(!y||y[Zs]||y[Kt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(c),m.head.insertBefore(y,m.querySelector("head > title"))),Dn(y,c,l),y[Kt]=i,Wt(y),c=y;break e;case"link":var A=eI("link","href",m).get(c+(l.href||""));if(A){for(var D=0;D<A.length;D++)if(y=A[D],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){A.splice(D,1);break t}}y=m.createElement(c),Dn(y,c,l),m.head.appendChild(y);break;case"meta":if(A=eI("meta","content",m).get(c+(l.content||""))){for(D=0;D<A.length;D++)if(y=A[D],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){A.splice(D,1);break t}}y=m.createElement(c),Dn(y,c,l),m.head.appendChild(y);break;default:throw Error(r(468,c))}y[Kt]=i,Wt(y),c=y}i.stateNode=c}else tI(m,i.type,i.stateNode);else i.stateNode=ZA(m,c,i.memoizedProps);else y!==c?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,c===null?tI(m,i.type,i.stateNode):ZA(m,c,i.memoizedProps)):c===null&&i.stateNode!==null&&hv(i,i.memoizedProps,l.memoizedProps)}break;case 27:br(a,i),wr(i),c&512&&(Xt||l===null||xi(l,l.return)),l!==null&&c&4&&hv(i,i.memoizedProps,l.memoizedProps);break;case 5:if(br(a,i),wr(i),c&512&&(Xt||l===null||xi(l,l.return)),i.flags&32){m=i.stateNode;try{Ur(m,"")}catch(ie){mt(i,i.return,ie)}}c&4&&i.stateNode!=null&&(m=i.memoizedProps,hv(i,m,l!==null?l.memoizedProps:m)),c&1024&&(pv=!0);break;case 6:if(br(a,i),wr(i),c&4){if(i.stateNode===null)throw Error(r(162));c=i.memoizedProps,l=i.stateNode;try{l.nodeValue=c}catch(ie){mt(i,i.return,ie)}}break;case 3:if(mm=null,m=oi,oi=dm(a.containerInfo),br(a,i),oi=m,wr(i),c&4&&l!==null&&l.memoizedState.isDehydrated)try{nf(a.containerInfo)}catch(ie){mt(i,i.return,ie)}pv&&(pv=!1,oA(i));break;case 4:c=oi,oi=dm(i.stateNode.containerInfo),br(a,i),wr(i),oi=c;break;case 12:br(a,i),wr(i);break;case 13:br(a,i),wr(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(bv=Un()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,mv(i,c)));break;case 22:m=i.memoizedState!==null;var B=l!==null&&l.memoizedState!==null,te=bs,ce=Xt;if(bs=te||m,Xt=ce||B,br(a,i),Xt=ce,bs=te,wr(i),c&8192)e:for(a=i.stateNode,a._visibility=m?a._visibility&-2:a._visibility|1,m&&(l===null||B||bs||Xt||Yo(i)),l=null,a=i;;){if(a.tag===5||a.tag===26){if(l===null){B=l=a;try{if(y=B.stateNode,m)A=y.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{D=B.stateNode;var fe=B.memoizedProps.style,re=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;D.style.display=re==null||typeof re=="boolean"?"":(""+re).trim()}}catch(ie){mt(B,B.return,ie)}}}else if(a.tag===6){if(l===null){B=a;try{B.stateNode.nodeValue=m?"":B.memoizedProps}catch(ie){mt(B,B.return,ie)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=i.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,mv(i,l))));break;case 19:br(a,i),wr(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,mv(i,c)));break;case 30:break;case 21:break;default:br(a,i),wr(i)}}function wr(i){var a=i.flags;if(a&2){try{for(var l,c=i.return;c!==null;){if(ZS(c)){l=c;break}c=c.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var m=l.stateNode,y=fv(i);em(i,y,m);break;case 5:var A=l.stateNode;l.flags&32&&(Ur(A,""),l.flags&=-33);var D=fv(i);em(i,D,A);break;case 3:case 4:var B=l.stateNode.containerInfo,te=fv(i);dv(i,te,B);break;default:throw Error(r(161))}}catch(ce){mt(i,i.return,ce)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function oA(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;oA(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function ya(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)nA(i,a.alternate,a),a=a.sibling}function Yo(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:ga(4,a,a.return),Yo(a);break;case 1:xi(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&XS(a,a.return,l),Yo(a);break;case 27:Wh(a.stateNode);case 26:case 5:xi(a,a.return),Yo(a);break;case 22:a.memoizedState===null&&Yo(a);break;case 30:Yo(a);break;default:Yo(a)}i=i.sibling}}function _a(i,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,m=i,y=a,A=y.flags;switch(y.tag){case 0:case 11:case 15:_a(m,y,l),Uh(4,y);break;case 1:if(_a(m,y,l),c=y,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(te){mt(c,c.return,te)}if(c=y,m=c.updateQueue,m!==null){var D=c.stateNode;try{var B=m.shared.hiddenCallbacks;if(B!==null)for(m.shared.hiddenCallbacks=null,m=0;m<B.length;m++)VT(B[m],D)}catch(te){mt(c,c.return,te)}}l&&A&64&&YS(y),Bh(y,y.return);break;case 27:eA(y);case 26:case 5:_a(m,y,l),l&&c===null&&A&4&&JS(y),Bh(y,y.return);break;case 12:_a(m,y,l);break;case 13:_a(m,y,l),l&&A&4&&sA(m,y);break;case 22:y.memoizedState===null&&_a(m,y,l),Bh(y,y.return);break;case 30:break;default:_a(m,y,l)}a=a.sibling}}function gv(i,a){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&Sh(l))}function yv(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Sh(i))}function Oi(i,a,l,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)lA(i,a,l,c),a=a.sibling}function lA(i,a,l,c){var m=a.flags;switch(a.tag){case 0:case 11:case 15:Oi(i,a,l,c),m&2048&&Uh(9,a);break;case 1:Oi(i,a,l,c);break;case 3:Oi(i,a,l,c),m&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Sh(i)));break;case 12:if(m&2048){Oi(i,a,l,c),i=a.stateNode;try{var y=a.memoizedProps,A=y.id,D=y.onPostCommit;typeof D=="function"&&D(A,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(B){mt(a,a.return,B)}}else Oi(i,a,l,c);break;case 13:Oi(i,a,l,c);break;case 23:break;case 22:y=a.stateNode,A=a.alternate,a.memoizedState!==null?y._visibility&2?Oi(i,a,l,c):Fh(i,a):y._visibility&2?Oi(i,a,l,c):(y._visibility|=2,gu(i,a,l,c,(a.subtreeFlags&10256)!==0)),m&2048&&gv(A,a);break;case 24:Oi(i,a,l,c),m&2048&&yv(a.alternate,a);break;default:Oi(i,a,l,c)}}function gu(i,a,l,c,m){for(m=m&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var y=i,A=a,D=l,B=c,te=A.flags;switch(A.tag){case 0:case 11:case 15:gu(y,A,D,B,m),Uh(8,A);break;case 23:break;case 22:var ce=A.stateNode;A.memoizedState!==null?ce._visibility&2?gu(y,A,D,B,m):Fh(y,A):(ce._visibility|=2,gu(y,A,D,B,m)),m&&te&2048&&gv(A.alternate,A);break;case 24:gu(y,A,D,B,m),m&&te&2048&&yv(A.alternate,A);break;default:gu(y,A,D,B,m)}a=a.sibling}}function Fh(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=i,c=a,m=c.flags;switch(c.tag){case 22:Fh(l,c),m&2048&&gv(c.alternate,c);break;case 24:Fh(l,c),m&2048&&yv(c.alternate,c);break;default:Fh(l,c)}a=a.sibling}}var jh=8192;function yu(i){if(i.subtreeFlags&jh)for(i=i.child;i!==null;)uA(i),i=i.sibling}function uA(i){switch(i.tag){case 26:yu(i),i.flags&jh&&i.memoizedState!==null&&MM(oi,i.memoizedState,i.memoizedProps);break;case 5:yu(i);break;case 3:case 4:var a=oi;oi=dm(i.stateNode.containerInfo),yu(i),oi=a;break;case 22:i.memoizedState===null&&(a=i.alternate,a!==null&&a.memoizedState!==null?(a=jh,jh=16777216,yu(i),jh=a):yu(i));break;default:yu(i)}}function cA(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function zh(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];wn=c,fA(c,i)}cA(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)hA(i),i=i.sibling}function hA(i){switch(i.tag){case 0:case 11:case 15:zh(i),i.flags&2048&&ga(9,i,i.return);break;case 3:zh(i);break;case 12:zh(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,tm(i)):zh(i);break;default:zh(i)}}function tm(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];wn=c,fA(c,i)}cA(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:ga(8,a,a.return),tm(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,tm(a));break;default:tm(a)}i=i.sibling}}function fA(i,a){for(;wn!==null;){var l=wn;switch(l.tag){case 0:case 11:case 15:ga(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Sh(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,wn=c;else e:for(l=i;wn!==null;){c=wn;var m=c.sibling,y=c.return;if(rA(c),c===l){wn=null;break e}if(m!==null){m.return=y,wn=m;break e}wn=y}}}var Xk={getCacheForType:function(i){var a=Fn(gn),l=a.data.get(i);return l===void 0&&(l=i(),a.data.set(i,l)),l}},Jk=typeof WeakMap=="function"?WeakMap:Map,it=0,vt=null,je=null,Ke=0,st=0,Tr=null,va=!1,_u=!1,_v=!1,Ts=0,Ut=0,Ea=0,Xo=0,vv=0,$r=0,vu=0,qh=null,ur=null,Ev=!1,bv=0,nm=1/0,rm=null,ba=null,On=0,wa=null,Eu=null,bu=0,wv=0,Tv=null,dA=null,Hh=0,Sv=null;function Sr(){if((it&2)!==0&&Ke!==0)return Ke&-Ke;if(q.T!==null){var i=lu;return i!==0?i:Ov()}return ss()}function pA(){$r===0&&($r=(Ke&536870912)===0||Ze?eh():536870912);var i=Hr.current;return i!==null&&(i.flags|=32),$r}function Ar(i,a,l){(i===vt&&(st===2||st===9)||i.cancelPendingCommit!==null)&&(wu(i,0),Ta(i,Ke,$r,!1)),Gt(i,l),((it&2)===0||i!==vt)&&(i===vt&&((it&2)===0&&(Xo|=l),Ut===4&&Ta(i,Ke,$r,!1)),Di(i))}function mA(i,a,l){if((it&6)!==0)throw Error(r(327));var c=!l&&(a&124)===0&&(a&i.expiredLanes)===0||Qs(i,a),m=c?tM(i,a):Rv(i,a,!0),y=c;do{if(m===0){_u&&!c&&Ta(i,a,0,!1);break}else{if(l=i.current.alternate,y&&!Zk(l)){m=Rv(i,a,!1),y=!1;continue}if(m===2){if(y=a,i.errorRecoveryDisabledLanes&y)var A=0;else A=i.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){a=A;e:{var D=i;m=qh;var B=D.current.memoizedState.isDehydrated;if(B&&(wu(D,A).flags|=256),A=Rv(D,A,!1),A!==2){if(_v&&!B){D.errorRecoveryDisabledLanes|=y,Xo|=y,m=4;break e}y=ur,ur=m,y!==null&&(ur===null?ur=y:ur.push.apply(ur,y))}m=A}if(y=!1,m!==2)continue}}if(m===1){wu(i,0),Ta(i,a,0,!0);break}e:{switch(c=i,y=m,y){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:Ta(c,a,$r,!va);break e;case 2:ur=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(m=bv+300-Un(),10<m)){if(Ta(c,a,$r,!va),Vr(c,0,!0)!==0)break e;c.timeoutHandle=HA(gA.bind(null,c,l,ur,rm,Ev,a,$r,Xo,vu,va,y,2,-0,0),m);break e}gA(c,l,ur,rm,Ev,a,$r,Xo,vu,va,y,0,-0,0)}}break}while(!0);Di(i)}function gA(i,a,l,c,m,y,A,D,B,te,ce,fe,re,ie){if(i.timeoutHandle=-1,fe=a.subtreeFlags,(fe&8192||(fe&16785408)===16785408)&&(Xh={stylesheets:null,count:0,unsuspend:kM},uA(a),fe=VM(),fe!==null)){i.cancelPendingCommit=fe(TA.bind(null,i,a,y,l,c,m,A,D,B,ce,1,re,ie)),Ta(i,y,A,!te);return}TA(i,a,y,l,c,m,A,D,B)}function Zk(i){for(var a=i;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var m=l[c],y=m.getSnapshot;m=m.value;try{if(!vr(y(),m))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ta(i,a,l,c){a&=~vv,a&=~Xo,i.suspendedLanes|=a,i.pingedLanes&=~a,c&&(i.warmLanes|=a),c=i.expirationTimes;for(var m=a;0<m;){var y=31-pn(m),A=1<<y;c[y]=-1,m&=~A}l!==0&&Xs(i,l,a)}function im(){return(it&6)===0?($h(0),!1):!0}function Av(){if(je!==null){if(st===0)var i=je.return;else i=je,ms=$o=null,z_(i),pu=null,Mh=0,i=je;for(;i!==null;)QS(i.alternate,i),i=i.return;je=null}}function wu(i,a){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,yM(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),Av(),vt=i,je=l=fs(i.current,null),Ke=a,st=0,Tr=null,va=!1,_u=Qs(i,a),_v=!1,vu=$r=vv=Xo=Ea=Ut=0,ur=qh=null,Ev=!1,(a&8)!==0&&(a|=a&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=a;0<c;){var m=31-pn(c),y=1<<m;a|=i[m],c&=~y}return Ts=a,Ip(),l}function yA(i,a){Be=null,q.H=$p,a===Ih||a===Mp?(a=kT(),st=3):a===OT?(a=kT(),st=4):st=a===MS?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Tr=a,je===null&&(Ut=1,Yp(i,Fr(a,i.current)))}function _A(){var i=q.H;return q.H=$p,i===null?$p:i}function vA(){var i=q.A;return q.A=Xk,i}function Iv(){Ut=4,va||(Ke&4194048)!==Ke&&Hr.current!==null||(_u=!0),(Ea&134217727)===0&&(Xo&134217727)===0||vt===null||Ta(vt,Ke,$r,!1)}function Rv(i,a,l){var c=it;it|=2;var m=_A(),y=vA();(vt!==i||Ke!==a)&&(rm=null,wu(i,a)),a=!1;var A=Ut;e:do try{if(st!==0&&je!==null){var D=je,B=Tr;switch(st){case 8:Av(),A=6;break e;case 3:case 2:case 9:case 6:Hr.current===null&&(a=!0);var te=st;if(st=0,Tr=null,Tu(i,D,B,te),l&&_u){A=0;break e}break;default:te=st,st=0,Tr=null,Tu(i,D,B,te)}}eM(),A=Ut;break}catch(ce){yA(i,ce)}while(!0);return a&&i.shellSuspendCounter++,ms=$o=null,it=c,q.H=m,q.A=y,je===null&&(vt=null,Ke=0,Ip()),A}function eM(){for(;je!==null;)EA(je)}function tM(i,a){var l=it;it|=2;var c=_A(),m=vA();vt!==i||Ke!==a?(rm=null,nm=Un()+500,wu(i,a)):_u=Qs(i,a);e:do try{if(st!==0&&je!==null){a=je;var y=Tr;t:switch(st){case 1:st=0,Tr=null,Tu(i,a,y,1);break;case 2:case 9:if(DT(y)){st=0,Tr=null,bA(a);break}a=function(){st!==2&&st!==9||vt!==i||(st=7),Di(i)},y.then(a,a);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:DT(y)?(st=0,Tr=null,bA(a)):(st=0,Tr=null,Tu(i,a,y,7));break;case 5:var A=null;switch(je.tag){case 26:A=je.memoizedState;case 5:case 27:var D=je;if(!A||nI(A)){st=0,Tr=null;var B=D.sibling;if(B!==null)je=B;else{var te=D.return;te!==null?(je=te,sm(te)):je=null}break t}}st=0,Tr=null,Tu(i,a,y,5);break;case 6:st=0,Tr=null,Tu(i,a,y,6);break;case 8:Av(),Ut=6;break e;default:throw Error(r(462))}}nM();break}catch(ce){yA(i,ce)}while(!0);return ms=$o=null,q.H=c,q.A=m,it=l,je!==null?0:(vt=null,Ke=0,Ip(),Ut)}function nM(){for(;je!==null&&!Zc();)EA(je)}function EA(i){var a=KS(i.alternate,i,Ts);i.memoizedProps=i.pendingProps,a===null?sm(i):je=a}function bA(i){var a=i,l=a.alternate;switch(a.tag){case 15:case 0:a=jS(l,a,a.pendingProps,a.type,void 0,Ke);break;case 11:a=jS(l,a,a.pendingProps,a.type.render,a.ref,Ke);break;case 5:z_(a);default:QS(l,a),a=je=wT(a,Ts),a=KS(l,a,Ts)}i.memoizedProps=i.pendingProps,a===null?sm(i):je=a}function Tu(i,a,l,c){ms=$o=null,z_(a),pu=null,Mh=0;var m=a.return;try{if($k(i,m,a,l,Ke)){Ut=1,Yp(i,Fr(l,i.current)),je=null;return}}catch(y){if(m!==null)throw je=m,y;Ut=1,Yp(i,Fr(l,i.current)),je=null;return}a.flags&32768?(Ze||c===1?i=!0:_u||(Ke&536870912)!==0?i=!1:(va=i=!0,(c===2||c===9||c===3||c===6)&&(c=Hr.current,c!==null&&c.tag===13&&(c.flags|=16384))),wA(a,i)):sm(a)}function sm(i){var a=i;do{if((a.flags&32768)!==0){wA(a,va);return}i=a.return;var l=Kk(a.alternate,a,Ts);if(l!==null){je=l;return}if(a=a.sibling,a!==null){je=a;return}je=a=i}while(a!==null);Ut===0&&(Ut=5)}function wA(i,a){do{var l=Wk(i.alternate,i);if(l!==null){l.flags&=32767,je=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(i=i.sibling,i!==null)){je=i;return}je=i=l}while(i!==null);Ut=6,je=null}function TA(i,a,l,c,m,y,A,D,B){i.cancelPendingCommit=null;do am();while(On!==0);if((it&6)!==0)throw Error(r(327));if(a!==null){if(a===i.current)throw Error(r(177));if(y=a.lanes|a.childLanes,y|=y_,up(i,l,y,A,D,B),i===vt&&(je=vt=null,Ke=0),Eu=a,wa=i,bu=l,wv=y,Tv=m,dA=c,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,aM($e,function(){return CA(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||c){c=q.T,q.T=null,m=J.p,J.p=2,A=it,it|=4;try{Qk(i,a,l)}finally{it=A,J.p=m,q.T=c}}On=1,SA(),AA(),IA()}}function SA(){if(On===1){On=0;var i=wa,a=Eu,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=q.T,q.T=null;var c=J.p;J.p=2;var m=it;it|=4;try{aA(a,i);var y=Bv,A=fT(i.containerInfo),D=y.focusedElem,B=y.selectionRange;if(A!==D&&D&&D.ownerDocument&&hT(D.ownerDocument.documentElement,D)){if(B!==null&&f_(D)){var te=B.start,ce=B.end;if(ce===void 0&&(ce=te),"selectionStart"in D)D.selectionStart=te,D.selectionEnd=Math.min(ce,D.value.length);else{var fe=D.ownerDocument||document,re=fe&&fe.defaultView||window;if(re.getSelection){var ie=re.getSelection(),Ne=D.textContent.length,xe=Math.min(B.start,Ne),dt=B.end===void 0?xe:Math.min(B.end,Ne);!ie.extend&&xe>dt&&(A=dt,dt=xe,xe=A);var Y=cT(D,xe),K=cT(D,dt);if(Y&&K&&(ie.rangeCount!==1||ie.anchorNode!==Y.node||ie.anchorOffset!==Y.offset||ie.focusNode!==K.node||ie.focusOffset!==K.offset)){var Z=fe.createRange();Z.setStart(Y.node,Y.offset),ie.removeAllRanges(),xe>dt?(ie.addRange(Z),ie.extend(K.node,K.offset)):(Z.setEnd(K.node,K.offset),ie.addRange(Z))}}}}for(fe=[],ie=D;ie=ie.parentNode;)ie.nodeType===1&&fe.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<fe.length;D++){var he=fe[D];he.element.scrollLeft=he.left,he.element.scrollTop=he.top}}_m=!!Uv,Bv=Uv=null}finally{it=m,J.p=c,q.T=l}}i.current=a,On=2}}function AA(){if(On===2){On=0;var i=wa,a=Eu,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=q.T,q.T=null;var c=J.p;J.p=2;var m=it;it|=4;try{nA(i,a.alternate,a)}finally{it=m,J.p=c,q.T=l}}On=3}}function IA(){if(On===4||On===3){On=0,yo();var i=wa,a=Eu,l=bu,c=dA;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?On=5:(On=0,Eu=wa=null,RA(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&(ba=null),nh(l),a=a.stateNode,yt&&typeof yt.onCommitFiberRoot=="function")try{yt.onCommitFiberRoot(Qn,a,void 0,(a.current.flags&128)===128)}catch{}if(c!==null){a=q.T,m=J.p,J.p=2,q.T=null;try{for(var y=i.onRecoverableError,A=0;A<c.length;A++){var D=c[A];y(D.value,{componentStack:D.stack})}}finally{q.T=a,J.p=m}}(bu&3)!==0&&am(),Di(i),m=i.pendingLanes,(l&4194090)!==0&&(m&42)!==0?i===Sv?Hh++:(Hh=0,Sv=i):Hh=0,$h(0)}}function RA(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,Sh(a)))}function am(i){return SA(),AA(),IA(),CA()}function CA(){if(On!==5)return!1;var i=wa,a=wv;wv=0;var l=nh(bu),c=q.T,m=J.p;try{J.p=32>l?32:l,q.T=null,l=Tv,Tv=null;var y=wa,A=bu;if(On=0,Eu=wa=null,bu=0,(it&6)!==0)throw Error(r(331));var D=it;if(it|=4,hA(y.current),lA(y,y.current,A,l),it=D,$h(0,!1),yt&&typeof yt.onPostCommitFiberRoot=="function")try{yt.onPostCommitFiberRoot(Qn,y)}catch{}return!0}finally{J.p=m,q.T=c,RA(i,a)}}function PA(i,a,l){a=Fr(l,a),a=nv(i.stateNode,a,2),i=fa(i,a,2),i!==null&&(Gt(i,2),Di(i))}function mt(i,a,l){if(i.tag===3)PA(i,i,l);else for(;a!==null;){if(a.tag===3){PA(a,i,l);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ba===null||!ba.has(c))){i=Fr(l,i),l=NS(2),c=fa(a,l,2),c!==null&&(kS(l,c,a,i),Gt(c,2),Di(c));break}}a=a.return}}function Cv(i,a,l){var c=i.pingCache;if(c===null){c=i.pingCache=new Jk;var m=new Set;c.set(a,m)}else m=c.get(a),m===void 0&&(m=new Set,c.set(a,m));m.has(l)||(_v=!0,m.add(l),i=rM.bind(null,i,a,l),a.then(i,i))}function rM(i,a,l){var c=i.pingCache;c!==null&&c.delete(a),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,vt===i&&(Ke&l)===l&&(Ut===4||Ut===3&&(Ke&62914560)===Ke&&300>Un()-bv?(it&2)===0&&wu(i,0):vv|=l,vu===Ke&&(vu=0)),Di(i)}function xA(i,a){a===0&&(a=Ys()),i=iu(i,a),i!==null&&(Gt(i,a),Di(i))}function iM(i){var a=i.memoizedState,l=0;a!==null&&(l=a.retryLane),xA(i,l)}function sM(i,a){var l=0;switch(i.tag){case 13:var c=i.stateNode,m=i.memoizedState;m!==null&&(l=m.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(a),xA(i,l)}function aM(i,a){return Ln(i,a)}var om=null,Su=null,Pv=!1,lm=!1,xv=!1,Jo=0;function Di(i){i!==Su&&i.next===null&&(Su===null?om=Su=i:Su=Su.next=i),lm=!0,Pv||(Pv=!0,lM())}function $h(i,a){if(!xv&&lm){xv=!0;do for(var l=!1,c=om;c!==null;){if(i!==0){var m=c.pendingLanes;if(m===0)var y=0;else{var A=c.suspendedLanes,D=c.pingedLanes;y=(1<<31-pn(42|i)+1)-1,y&=m&~(A&~D),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,kA(c,y))}else y=Ke,y=Vr(c,c===vt?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||Qs(c,y)||(l=!0,kA(c,y));c=c.next}while(l);xv=!1}}function oM(){OA()}function OA(){lm=Pv=!1;var i=0;Jo!==0&&(gM()&&(i=Jo),Jo=0);for(var a=Un(),l=null,c=om;c!==null;){var m=c.next,y=DA(c,a);y===0?(c.next=null,l===null?om=m:l.next=m,m===null&&(Su=l)):(l=c,(i!==0||(y&3)!==0)&&(lm=!0)),c=m}$h(i)}function DA(i,a){for(var l=i.suspendedLanes,c=i.pingedLanes,m=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var A=31-pn(y),D=1<<A,B=m[A];B===-1?((D&l)===0||(D&c)!==0)&&(m[A]=jl(D,a)):B<=a&&(i.expiredLanes|=D),y&=~D}if(a=vt,l=Ke,l=Vr(i,i===a?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,l===0||i===a&&(st===2||st===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&_i(c),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||Qs(i,l)){if(a=l&-l,a===i.callbackPriority)return a;switch(c!==null&&_i(c),nh(l)){case 2:case 8:l=$t;break;case 32:l=$e;break;case 268435456:l=Cn;break;default:l=$e}return c=NA.bind(null,i),l=Ln(l,c),i.callbackPriority=a,i.callbackNode=l,a}return c!==null&&c!==null&&_i(c),i.callbackPriority=2,i.callbackNode=null,2}function NA(i,a){if(On!==0&&On!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(am()&&i.callbackNode!==l)return null;var c=Ke;return c=Vr(i,i===vt?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(mA(i,c,a),DA(i,Un()),i.callbackNode!=null&&i.callbackNode===l?NA.bind(null,i):null)}function kA(i,a){if(am())return null;mA(i,a,!0)}function lM(){_M(function(){(it&6)!==0?Ln(Ht,oM):OA()})}function Ov(){return Jo===0&&(Jo=eh()),Jo}function MA(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:ni(""+i)}function VA(i,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,i.id&&l.setAttribute("form",i.id),a.parentNode.insertBefore(l,a),i=new FormData(i),l.parentNode.removeChild(l),i}function uM(i,a,l,c,m){if(a==="submit"&&l&&l.stateNode===m){var y=MA((m[Pn]||null).action),A=c.submitter;A&&(a=(a=A[Pn]||null)?MA(a.formAction):A.getAttribute("formAction"),a!==null&&(y=a,A=null));var D=new Oo("action","action",null,c,m);i.push({event:D,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Jo!==0){var B=A?VA(m,A):new FormData(m);X_(l,{pending:!0,data:B,method:m.method,action:y},null,B)}}else typeof y=="function"&&(D.preventDefault(),B=A?VA(m,A):new FormData(m),X_(l,{pending:!0,data:B,method:m.method,action:y},y,B))},currentTarget:m}]})}}for(var Dv=0;Dv<g_.length;Dv++){var Nv=g_[Dv],cM=Nv.toLowerCase(),hM=Nv[0].toUpperCase()+Nv.slice(1);ai(cM,"on"+hM)}ai(mT,"onAnimationEnd"),ai(gT,"onAnimationIteration"),ai(yT,"onAnimationStart"),ai("dblclick","onDoubleClick"),ai("focusin","onFocus"),ai("focusout","onBlur"),ai(Ck,"onTransitionRun"),ai(Pk,"onTransitionStart"),ai(xk,"onTransitionCancel"),ai(_T,"onTransitionEnd"),Si("onMouseEnter",["mouseout","mouseover"]),Si("onMouseLeave",["mouseout","mouseover"]),Si("onPointerEnter",["pointerout","pointerover"]),Si("onPointerLeave",["pointerout","pointerover"]),Ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ti("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gh));function LA(i,a){a=(a&4)!==0;for(var l=0;l<i.length;l++){var c=i[l],m=c.event;c=c.listeners;e:{var y=void 0;if(a)for(var A=c.length-1;0<=A;A--){var D=c[A],B=D.instance,te=D.currentTarget;if(D=D.listener,B!==y&&m.isPropagationStopped())break e;y=D,m.currentTarget=te;try{y(m)}catch(ce){Qp(ce)}m.currentTarget=null,y=B}else for(A=0;A<c.length;A++){if(D=c[A],B=D.instance,te=D.currentTarget,D=D.listener,B!==y&&m.isPropagationStopped())break e;y=D,m.currentTarget=te;try{y(m)}catch(ce){Qp(ce)}m.currentTarget=null,y=B}}}}function ze(i,a){var l=a[_o];l===void 0&&(l=a[_o]=new Set);var c=i+"__bubble";l.has(c)||(UA(a,i,2,!1),l.add(c))}function kv(i,a,l){var c=0;a&&(c|=4),UA(l,i,c,a)}var um="_reactListening"+Math.random().toString(36).slice(2);function Mv(i){if(!i[um]){i[um]=!0,cp.forEach(function(l){l!=="selectionchange"&&(fM.has(l)||kv(l,!1,i),kv(l,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[um]||(a[um]=!0,kv("selectionchange",!1,a))}}function UA(i,a,l,c){switch(lI(a)){case 2:var m=BM;break;case 8:m=FM;break;default:m=Qv}l=m.bind(null,a,l,i),m=void 0,!cs||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),c?m!==void 0?i.addEventListener(a,l,{capture:!0,passive:m}):i.addEventListener(a,l,!0):m!==void 0?i.addEventListener(a,l,{passive:m}):i.addEventListener(a,l,!1)}function Vv(i,a,l,c,m){var y=c;if((a&1)===0&&(a&2)===0&&c!==null)e:for(;;){if(c===null)return;var A=c.tag;if(A===3||A===4){var D=c.stateNode.containerInfo;if(D===m)break;if(A===4)for(A=c.return;A!==null;){var B=A.tag;if((B===3||B===4)&&A.stateNode.containerInfo===m)return;A=A.return}for(;D!==null;){if(A=bi(D),A===null)return;if(B=A.tag,B===5||B===6||B===26||B===27){c=y=A;continue e}D=D.parentNode}}c=c.return}Co(function(){var te=y,ce=uh(l),fe=[];e:{var re=vT.get(i);if(re!==void 0){var ie=Oo,Ne=i;switch(i){case"keypress":if(Po(l)===0)break e;case"keydown":case"keyup":ie=eu;break;case"focusin":Ne="focus",ie=Xl;break;case"focusout":Ne="blur",ie=Xl;break;case"beforeblur":case"afterblur":ie=Xl;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=Vo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=yp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=la;break;case mT:case gT:case yT:ie=hh;break;case _T:ie=E;break;case"scroll":case"scrollend":ie=No;break;case"wheel":ie=k;break;case"copy":case"cut":case"paste":ie=vp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=ph;break;case"toggle":case"beforetoggle":ie=ae}var xe=(a&4)!==0,dt=!xe&&(i==="scroll"||i==="scrollend"),Y=xe?re!==null?re+"Capture":null:re;xe=[];for(var K=te,Z;K!==null;){var he=K;if(Z=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||Z===null||Y===null||(he=aa(K,Y),he!=null&&xe.push(Kh(K,he,Z))),dt)break;K=K.return}0<xe.length&&(re=new ie(re,Ne,null,l,ce),fe.push({event:re,listeners:xe}))}}if((a&7)===0){e:{if(re=i==="mouseover"||i==="pointerover",ie=i==="mouseout"||i==="pointerout",re&&l!==lh&&(Ne=l.relatedTarget||l.fromElement)&&(bi(Ne)||Ne[as]))break e;if((ie||re)&&(re=ce.window===ce?ce:(re=ce.ownerDocument)?re.defaultView||re.parentWindow:window,ie?(Ne=l.relatedTarget||l.toElement,ie=te,Ne=Ne?bi(Ne):null,Ne!==null&&(dt=o(Ne),xe=Ne.tag,Ne!==dt||xe!==5&&xe!==27&&xe!==6)&&(Ne=null)):(ie=null,Ne=te),ie!==Ne)){if(xe=Vo,he="onMouseLeave",Y="onMouseEnter",K="mouse",(i==="pointerout"||i==="pointerover")&&(xe=ph,he="onPointerLeave",Y="onPointerEnter",K="pointer"),dt=ie==null?re:ea(ie),Z=Ne==null?re:ea(Ne),re=new xe(he,K+"leave",ie,l,ce),re.target=dt,re.relatedTarget=Z,he=null,bi(ce)===te&&(xe=new xe(Y,K+"enter",Ne,l,ce),xe.target=Z,xe.relatedTarget=dt,he=xe),dt=he,ie&&Ne)t:{for(xe=ie,Y=Ne,K=0,Z=xe;Z;Z=Au(Z))K++;for(Z=0,he=Y;he;he=Au(he))Z++;for(;0<K-Z;)xe=Au(xe),K--;for(;0<Z-K;)Y=Au(Y),Z--;for(;K--;){if(xe===Y||Y!==null&&xe===Y.alternate)break t;xe=Au(xe),Y=Au(Y)}xe=null}else xe=null;ie!==null&&BA(fe,re,ie,xe,!1),Ne!==null&&dt!==null&&BA(fe,dt,Ne,xe,!0)}}e:{if(re=te?ea(te):window,ie=re.nodeName&&re.nodeName.toLowerCase(),ie==="select"||ie==="input"&&re.type==="file")var Se=iT;else if(nT(re))if(sT)Se=Ak;else{Se=Tk;var Fe=wk}else ie=re.nodeName,!ie||ie.toLowerCase()!=="input"||re.type!=="checkbox"&&re.type!=="radio"?te&&Wl(te.elementType)&&(Se=iT):Se=Sk;if(Se&&(Se=Se(i,te))){rT(fe,Se,l,ce);break e}Fe&&Fe(i,re,te),i==="focusout"&&te&&re.type==="number"&&te.memoizedProps.value!=null&&sh(re,"number",re.value)}switch(Fe=te?ea(te):window,i){case"focusin":(nT(Fe)||Fe.contentEditable==="true")&&(tu=Fe,d_=te,vh=null);break;case"focusout":vh=d_=tu=null;break;case"mousedown":p_=!0;break;case"contextmenu":case"mouseup":case"dragend":p_=!1,dT(fe,l,ce);break;case"selectionchange":if(Rk)break;case"keydown":case"keyup":dT(fe,l,ce)}var Re;if(Me)e:{switch(i){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else si?ri(i,l)&&(Oe="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Oe="onCompositionStart");Oe&&(Qt&&l.locale!=="ko"&&(si||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&si&&(Re=gp()):(Br=ce,_t="value"in Br?Br.value:Br.textContent,si=!0)),Fe=cm(te,Oe),0<Fe.length&&(Oe=new dh(Oe,i,null,l,ce),fe.push({event:Oe,listeners:Fe}),Re?Oe.data=Re:(Re=ii(l),Re!==null&&(Oe.data=Re)))),(Re=rt?mh(i,l):vk(i,l))&&(Oe=cm(te,"onBeforeInput"),0<Oe.length&&(Fe=new dh("onBeforeInput","beforeinput",null,l,ce),fe.push({event:Fe,listeners:Oe}),Fe.data=Re)),uM(fe,i,te,l,ce)}LA(fe,a)})}function Kh(i,a,l){return{instance:i,listener:a,currentTarget:l}}function cm(i,a){for(var l=a+"Capture",c=[];i!==null;){var m=i,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=aa(i,l),m!=null&&c.unshift(Kh(i,m,y)),m=aa(i,a),m!=null&&c.push(Kh(i,m,y))),i.tag===3)return c;i=i.return}return[]}function Au(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function BA(i,a,l,c,m){for(var y=a._reactName,A=[];l!==null&&l!==c;){var D=l,B=D.alternate,te=D.stateNode;if(D=D.tag,B!==null&&B===c)break;D!==5&&D!==26&&D!==27||te===null||(B=te,m?(te=aa(l,y),te!=null&&A.unshift(Kh(l,te,B))):m||(te=aa(l,y),te!=null&&A.push(Kh(l,te,B)))),l=l.return}A.length!==0&&i.push({event:a,listeners:A})}var dM=/\r\n?/g,pM=/\u0000|\uFFFD/g;function FA(i){return(typeof i=="string"?i:""+i).replace(dM,`
`).replace(pM,"")}function jA(i,a){return a=FA(a),FA(i)===a}function hm(){}function ft(i,a,l,c,m,y){switch(l){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||Ur(i,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&Ur(i,""+c);break;case"className":To(i,"class",c);break;case"tabIndex":To(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":To(i,l,c);break;case"style":oh(i,c,y);break;case"data":if(a!=="object"){To(i,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||l!=="href")){i.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=ni(""+c),i.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(a!=="input"&&ft(i,a,"name",m.name,m,null),ft(i,a,"formEncType",m.formEncType,m,null),ft(i,a,"formMethod",m.formMethod,m,null),ft(i,a,"formTarget",m.formTarget,m,null)):(ft(i,a,"encType",m.encType,m,null),ft(i,a,"method",m.method,m,null),ft(i,a,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=ni(""+c),i.setAttribute(l,c);break;case"onClick":c!=null&&(i.onclick=hm);break;case"onScroll":c!=null&&ze("scroll",i);break;case"onScrollEnd":c!=null&&ze("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}l=ni(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""+c):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":c===!0?i.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,c):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(l,c):i.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(l):i.setAttribute(l,c);break;case"popover":ze("beforetoggle",i),ze("toggle",i),wo(i,"popover",c);break;case"xlinkActuate":Lr(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Lr(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Lr(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Lr(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Lr(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Lr(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Lr(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Lr(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Lr(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":wo(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=dp.get(l)||l,wo(i,l,c))}}function Lv(i,a,l,c,m,y){switch(l){case"style":oh(i,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof c=="string"?Ur(i,c):(typeof c=="number"||typeof c=="bigint")&&Ur(i,""+c);break;case"onScroll":c!=null&&ze("scroll",i);break;case"onScrollEnd":c!=null&&ze("scrollend",i);break;case"onClick":c!=null&&(i.onclick=hm);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Eo.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),a=l.slice(2,m?l.length-7:void 0),y=i[Pn]||null,y=y!=null?y[l]:null,typeof y=="function"&&i.removeEventListener(a,y,m),typeof c=="function")){typeof y!="function"&&y!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(a,c,m);break e}l in i?i[l]=c:c===!0?i.setAttribute(l,""):wo(i,l,c)}}}function Dn(i,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",i),ze("load",i);var c=!1,m=!1,y;for(y in l)if(l.hasOwnProperty(y)){var A=l[y];if(A!=null)switch(y){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:ft(i,a,y,A,l,null)}}m&&ft(i,a,"srcSet",l.srcSet,l,null),c&&ft(i,a,"src",l.src,l,null);return;case"input":ze("invalid",i);var D=y=A=m=null,B=null,te=null;for(c in l)if(l.hasOwnProperty(c)){var ce=l[c];if(ce!=null)switch(c){case"name":m=ce;break;case"type":A=ce;break;case"checked":B=ce;break;case"defaultChecked":te=ce;break;case"value":y=ce;break;case"defaultValue":D=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,a));break;default:ft(i,a,c,ce,l,null)}}ih(i,y,D,B,te,A,m,!1),ra(i);return;case"select":ze("invalid",i),c=A=y=null;for(m in l)if(l.hasOwnProperty(m)&&(D=l[m],D!=null))switch(m){case"value":y=D;break;case"defaultValue":A=D;break;case"multiple":c=D;default:ft(i,a,m,D,l,null)}a=y,l=A,i.multiple=!!c,a!=null?ia(i,!!c,a,!1):l!=null&&ia(i,!!c,l,!0);return;case"textarea":ze("invalid",i),y=m=c=null;for(A in l)if(l.hasOwnProperty(A)&&(D=l[A],D!=null))switch(A){case"value":c=D;break;case"defaultValue":m=D;break;case"children":y=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(91));break;default:ft(i,a,A,D,l,null)}fp(i,c,m,y),ra(i);return;case"option":for(B in l)if(l.hasOwnProperty(B)&&(c=l[B],c!=null))switch(B){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:ft(i,a,B,c,l,null)}return;case"dialog":ze("beforetoggle",i),ze("toggle",i),ze("cancel",i),ze("close",i);break;case"iframe":case"object":ze("load",i);break;case"video":case"audio":for(c=0;c<Gh.length;c++)ze(Gh[c],i);break;case"image":ze("error",i),ze("load",i);break;case"details":ze("toggle",i);break;case"embed":case"source":case"link":ze("error",i),ze("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(te in l)if(l.hasOwnProperty(te)&&(c=l[te],c!=null))switch(te){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:ft(i,a,te,c,l,null)}return;default:if(Wl(a)){for(ce in l)l.hasOwnProperty(ce)&&(c=l[ce],c!==void 0&&Lv(i,a,ce,c,l,void 0));return}}for(D in l)l.hasOwnProperty(D)&&(c=l[D],c!=null&&ft(i,a,D,c,l,null))}function mM(i,a,l,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,A=null,D=null,B=null,te=null,ce=null;for(ie in l){var fe=l[ie];if(l.hasOwnProperty(ie)&&fe!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":B=fe;default:c.hasOwnProperty(ie)||ft(i,a,ie,null,c,fe)}}for(var re in c){var ie=c[re];if(fe=l[re],c.hasOwnProperty(re)&&(ie!=null||fe!=null))switch(re){case"type":y=ie;break;case"name":m=ie;break;case"checked":te=ie;break;case"defaultChecked":ce=ie;break;case"value":A=ie;break;case"defaultValue":D=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,a));break;default:ie!==fe&&ft(i,a,re,ie,c,fe)}}rh(i,A,D,B,te,ce,y,m);return;case"select":ie=A=D=re=null;for(y in l)if(B=l[y],l.hasOwnProperty(y)&&B!=null)switch(y){case"value":break;case"multiple":ie=B;default:c.hasOwnProperty(y)||ft(i,a,y,null,c,B)}for(m in c)if(y=c[m],B=l[m],c.hasOwnProperty(m)&&(y!=null||B!=null))switch(m){case"value":re=y;break;case"defaultValue":D=y;break;case"multiple":A=y;default:y!==B&&ft(i,a,m,y,c,B)}a=D,l=A,c=ie,re!=null?ia(i,!!l,re,!1):!!c!=!!l&&(a!=null?ia(i,!!l,a,!0):ia(i,!!l,l?[]:"",!1));return;case"textarea":ie=re=null;for(D in l)if(m=l[D],l.hasOwnProperty(D)&&m!=null&&!c.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:ft(i,a,D,null,c,m)}for(A in c)if(m=c[A],y=l[A],c.hasOwnProperty(A)&&(m!=null||y!=null))switch(A){case"value":re=m;break;case"defaultValue":ie=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==y&&ft(i,a,A,m,c,y)}hp(i,re,ie);return;case"option":for(var Ne in l)if(re=l[Ne],l.hasOwnProperty(Ne)&&re!=null&&!c.hasOwnProperty(Ne))switch(Ne){case"selected":i.selected=!1;break;default:ft(i,a,Ne,null,c,re)}for(B in c)if(re=c[B],ie=l[B],c.hasOwnProperty(B)&&re!==ie&&(re!=null||ie!=null))switch(B){case"selected":i.selected=re&&typeof re!="function"&&typeof re!="symbol";break;default:ft(i,a,B,re,c,ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in l)re=l[xe],l.hasOwnProperty(xe)&&re!=null&&!c.hasOwnProperty(xe)&&ft(i,a,xe,null,c,re);for(te in c)if(re=c[te],ie=l[te],c.hasOwnProperty(te)&&re!==ie&&(re!=null||ie!=null))switch(te){case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,a));break;default:ft(i,a,te,re,c,ie)}return;default:if(Wl(a)){for(var dt in l)re=l[dt],l.hasOwnProperty(dt)&&re!==void 0&&!c.hasOwnProperty(dt)&&Lv(i,a,dt,void 0,c,re);for(ce in c)re=c[ce],ie=l[ce],!c.hasOwnProperty(ce)||re===ie||re===void 0&&ie===void 0||Lv(i,a,ce,re,c,ie);return}}for(var Y in l)re=l[Y],l.hasOwnProperty(Y)&&re!=null&&!c.hasOwnProperty(Y)&&ft(i,a,Y,null,c,re);for(fe in c)re=c[fe],ie=l[fe],!c.hasOwnProperty(fe)||re===ie||re==null&&ie==null||ft(i,a,fe,re,c,ie)}var Uv=null,Bv=null;function fm(i){return i.nodeType===9?i:i.ownerDocument}function zA(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function qA(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function Fv(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var jv=null;function gM(){var i=window.event;return i&&i.type==="popstate"?i===jv?!1:(jv=i,!0):(jv=null,!1)}var HA=typeof setTimeout=="function"?setTimeout:void 0,yM=typeof clearTimeout=="function"?clearTimeout:void 0,$A=typeof Promise=="function"?Promise:void 0,_M=typeof queueMicrotask=="function"?queueMicrotask:typeof $A<"u"?function(i){return $A.resolve(null).then(i).catch(vM)}:HA;function vM(i){setTimeout(function(){throw i})}function Sa(i){return i==="head"}function GA(i,a){var l=a,c=0,m=0;do{var y=l.nextSibling;if(i.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"){if(0<c&&8>c){l=c;var A=i.ownerDocument;if(l&1&&Wh(A.documentElement),l&2&&Wh(A.body),l&4)for(l=A.head,Wh(l),A=l.firstChild;A;){var D=A.nextSibling,B=A.nodeName;A[Zs]||B==="SCRIPT"||B==="STYLE"||B==="LINK"&&A.rel.toLowerCase()==="stylesheet"||l.removeChild(A),A=D}}if(m===0){i.removeChild(y),nf(a);return}m--}else l==="$"||l==="$?"||l==="$!"?m++:c=l.charCodeAt(0)-48;else c=0;l=y}while(l);nf(a)}function zv(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":zv(l),ql(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function EM(i,a,l,c){for(;i.nodeType===1;){var m=l;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[Zs])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=li(i.nextSibling),i===null)break}return null}function bM(i,a,l){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=li(i.nextSibling),i===null))return null;return i}function qv(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function wM(i,a){var l=i.ownerDocument;if(i.data!=="$?"||l.readyState==="complete")a();else{var c=function(){a(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function li(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return i}var Hv=null;function KA(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return i;a--}else l==="/$"&&a++}i=i.previousSibling}return null}function WA(i,a,l){switch(a=fm(l),i){case"html":if(i=a.documentElement,!i)throw Error(r(452));return i;case"head":if(i=a.head,!i)throw Error(r(453));return i;case"body":if(i=a.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Wh(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);ql(i)}var Gr=new Map,QA=new Set;function dm(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ss=J.d;J.d={f:TM,r:SM,D:AM,C:IM,L:RM,m:CM,X:xM,S:PM,M:OM};function TM(){var i=Ss.f(),a=im();return i||a}function SM(i){var a=wi(i);a!==null&&a.tag===5&&a.type==="form"?mS(a):Ss.r(i)}var Iu=typeof document>"u"?null:document;function YA(i,a,l){var c=Iu;if(c&&typeof a=="string"&&a){var m=En(a);m='link[rel="'+i+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),QA.has(m)||(QA.add(m),i={rel:i,crossOrigin:l,href:a},c.querySelector(m)===null&&(a=c.createElement("link"),Dn(a,"link",i),Wt(a),c.head.appendChild(a)))}}function AM(i){Ss.D(i),YA("dns-prefetch",i,null)}function IM(i,a){Ss.C(i,a),YA("preconnect",i,a)}function RM(i,a,l){Ss.L(i,a,l);var c=Iu;if(c&&i&&a){var m='link[rel="preload"][as="'+En(a)+'"]';a==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+En(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+En(l.imageSizes)+'"]')):m+='[href="'+En(i)+'"]';var y=m;switch(a){case"style":y=Ru(i);break;case"script":y=Cu(i)}Gr.has(y)||(i=g({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:i,as:a},l),Gr.set(y,i),c.querySelector(m)!==null||a==="style"&&c.querySelector(Qh(y))||a==="script"&&c.querySelector(Yh(y))||(a=c.createElement("link"),Dn(a,"link",i),Wt(a),c.head.appendChild(a)))}}function CM(i,a){Ss.m(i,a);var l=Iu;if(l&&i){var c=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+En(c)+'"][href="'+En(i)+'"]',y=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Cu(i)}if(!Gr.has(y)&&(i=g({rel:"modulepreload",href:i},a),Gr.set(y,i),l.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Yh(y)))return}c=l.createElement("link"),Dn(c,"link",i),Wt(c),l.head.appendChild(c)}}}function PM(i,a,l){Ss.S(i,a,l);var c=Iu;if(c&&i){var m=ta(c).hoistableStyles,y=Ru(i);a=a||"default";var A=m.get(y);if(!A){var D={loading:0,preload:null};if(A=c.querySelector(Qh(y)))D.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":a},l),(l=Gr.get(y))&&$v(i,l);var B=A=c.createElement("link");Wt(B),Dn(B,"link",i),B._p=new Promise(function(te,ce){B.onload=te,B.onerror=ce}),B.addEventListener("load",function(){D.loading|=1}),B.addEventListener("error",function(){D.loading|=2}),D.loading|=4,pm(A,a,c)}A={type:"stylesheet",instance:A,count:1,state:D},m.set(y,A)}}}function xM(i,a){Ss.X(i,a);var l=Iu;if(l&&i){var c=ta(l).hoistableScripts,m=Cu(i),y=c.get(m);y||(y=l.querySelector(Yh(m)),y||(i=g({src:i,async:!0},a),(a=Gr.get(m))&&Gv(i,a),y=l.createElement("script"),Wt(y),Dn(y,"link",i),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function OM(i,a){Ss.M(i,a);var l=Iu;if(l&&i){var c=ta(l).hoistableScripts,m=Cu(i),y=c.get(m);y||(y=l.querySelector(Yh(m)),y||(i=g({src:i,async:!0,type:"module"},a),(a=Gr.get(m))&&Gv(i,a),y=l.createElement("script"),Wt(y),Dn(y,"link",i),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function XA(i,a,l,c){var m=(m=Ce.current)?dm(m):null;if(!m)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=Ru(l.href),l=ta(m).hoistableStyles,c=l.get(a),c||(c={type:"style",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=Ru(l.href);var y=ta(m).hoistableStyles,A=y.get(i);if(A||(m=m.ownerDocument||m,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,A),(y=m.querySelector(Qh(i)))&&!y._p&&(A.instance=y,A.state.loading=5),Gr.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Gr.set(i,l),y||DM(m,i,l,A.state))),a&&c===null)throw Error(r(528,""));return A}if(a&&c!==null)throw Error(r(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Cu(l),l=ta(m).hoistableScripts,c=l.get(a),c||(c={type:"script",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Ru(i){return'href="'+En(i)+'"'}function Qh(i){return'link[rel="stylesheet"]['+i+"]"}function JA(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function DM(i,a,l,c){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=i.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),Dn(a,"link",l),Wt(a),i.head.appendChild(a))}function Cu(i){return'[src="'+En(i)+'"]'}function Yh(i){return"script[async]"+i}function ZA(i,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var c=i.querySelector('style[data-href~="'+En(l.href)+'"]');if(c)return a.instance=c,Wt(c),c;var m=g({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),Wt(c),Dn(c,"style",m),pm(c,l.precedence,i),a.instance=c;case"stylesheet":m=Ru(l.href);var y=i.querySelector(Qh(m));if(y)return a.state.loading|=4,a.instance=y,Wt(y),y;c=JA(l),(m=Gr.get(m))&&$v(c,m),y=(i.ownerDocument||i).createElement("link"),Wt(y);var A=y;return A._p=new Promise(function(D,B){A.onload=D,A.onerror=B}),Dn(y,"link",c),a.state.loading|=4,pm(y,l.precedence,i),a.instance=y;case"script":return y=Cu(l.src),(m=i.querySelector(Yh(y)))?(a.instance=m,Wt(m),m):(c=l,(m=Gr.get(y))&&(c=g({},l),Gv(c,m)),i=i.ownerDocument||i,m=i.createElement("script"),Wt(m),Dn(m,"link",c),i.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,pm(c,l.precedence,i));return a.instance}function pm(i,a,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,y=m,A=0;A<c.length;A++){var D=c[A];if(D.dataset.precedence===a)y=D;else if(y!==m)break}y?y.parentNode.insertBefore(i,y.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(i,a.firstChild))}function $v(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function Gv(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var mm=null;function eI(i,a,l){if(mm===null){var c=new Map,m=mm=new Map;m.set(l,c)}else m=mm,c=m.get(l),c||(c=new Map,m.set(l,c));if(c.has(i))return c;for(c.set(i,null),l=l.getElementsByTagName(i),m=0;m<l.length;m++){var y=l[m];if(!(y[Zs]||y[Kt]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var A=y.getAttribute(a)||"";A=i+A;var D=c.get(A);D?D.push(y):c.set(A,[y])}}return c}function tI(i,a,l){i=i.ownerDocument||i,i.head.insertBefore(l,a==="title"?i.querySelector("head > title"):null)}function NM(i,a,l){if(l===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return i=a.disabled,typeof a.precedence=="string"&&i==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function nI(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Xh=null;function kM(){}function MM(i,a,l){if(Xh===null)throw Error(r(475));var c=Xh;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var m=Ru(l.href),y=i.querySelector(Qh(m));if(y){i=y._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(c.count++,c=gm.bind(c),i.then(c,c)),a.state.loading|=4,a.instance=y,Wt(y);return}y=i.ownerDocument||i,l=JA(l),(m=Gr.get(m))&&$v(l,m),y=y.createElement("link"),Wt(y);var A=y;A._p=new Promise(function(D,B){A.onload=D,A.onerror=B}),Dn(y,"link",l),a.instance=y}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(c.count++,a=gm.bind(c),i.addEventListener("load",a),i.addEventListener("error",a))}}function VM(){if(Xh===null)throw Error(r(475));var i=Xh;return i.stylesheets&&i.count===0&&Kv(i,i.stylesheets),0<i.count?function(a){var l=setTimeout(function(){if(i.stylesheets&&Kv(i,i.stylesheets),i.unsuspend){var c=i.unsuspend;i.unsuspend=null,c()}},6e4);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(l)}}:null}function gm(){if(this.count--,this.count===0){if(this.stylesheets)Kv(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var ym=null;function Kv(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,ym=new Map,a.forEach(LM,i),ym=null,gm.call(i))}function LM(i,a){if(!(a.state.loading&4)){var l=ym.get(i);if(l)var c=l.get(null);else{l=new Map,ym.set(i,l);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var A=m[y];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(l.set(A.dataset.precedence,A),c=A)}c&&l.set(null,c)}m=a.instance,A=m.getAttribute("data-precedence"),y=l.get(A)||c,y===c&&l.set(null,m),l.set(A,m),this.count++,c=gm.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),y?y.parentNode.insertBefore(m,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),a.state.loading|=4}}var Jh={$$typeof:F,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function UM(i,a,l,c,m,y,A,D){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=zl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zl(0),this.hiddenUpdates=zl(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function rI(i,a,l,c,m,y,A,D,B,te,ce,fe){return i=new UM(i,a,l,A,D,B,te,fe),a=1,y===!0&&(a|=24),y=Er(3,null,null,a),i.current=y,y.stateNode=i,a=C_(),a.refCount++,i.pooledCache=a,a.refCount++,y.memoizedState={element:c,isDehydrated:l,cache:a},D_(y),i}function iI(i){return i?(i=su,i):su}function sI(i,a,l,c,m,y){m=iI(m),c.context===null?c.context=m:c.pendingContext=m,c=ha(a),c.payload={element:l},y=y===void 0?null:y,y!==null&&(c.callback=y),l=fa(i,c,a),l!==null&&(Ar(l,i,a),Ch(l,i,a))}function aI(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<a?l:a}}function Wv(i,a){aI(i,a),(i=i.alternate)&&aI(i,a)}function oI(i){if(i.tag===13){var a=iu(i,67108864);a!==null&&Ar(a,i,67108864),Wv(i,67108864)}}var _m=!0;function BM(i,a,l,c){var m=q.T;q.T=null;var y=J.p;try{J.p=2,Qv(i,a,l,c)}finally{J.p=y,q.T=m}}function FM(i,a,l,c){var m=q.T;q.T=null;var y=J.p;try{J.p=8,Qv(i,a,l,c)}finally{J.p=y,q.T=m}}function Qv(i,a,l,c){if(_m){var m=Yv(c);if(m===null)Vv(i,a,c,vm,l),uI(i,c);else if(zM(m,i,a,l,c))c.stopPropagation();else if(uI(i,c),a&4&&-1<jM.indexOf(i)){for(;m!==null;){var y=wi(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var A=Zr(y.pendingLanes);if(A!==0){var D=y;for(D.pendingLanes|=2,D.entangledLanes|=2;A;){var B=1<<31-pn(A);D.entanglements[1]|=B,A&=~B}Di(y),(it&6)===0&&(nm=Un()+500,$h(0))}}break;case 13:D=iu(y,2),D!==null&&Ar(D,y,2),im(),Wv(y,2)}if(y=Yv(c),y===null&&Vv(i,a,c,vm,l),y===m)break;m=y}m!==null&&c.stopPropagation()}else Vv(i,a,c,null,l)}}function Yv(i){return i=uh(i),Xv(i)}var vm=null;function Xv(i){if(vm=null,i=bi(i),i!==null){var a=o(i);if(a===null)i=null;else{var l=a.tag;if(l===13){if(i=u(a),i!==null)return i;i=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return vm=i,null}function lI(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Fl()){case Ht:return 2;case $t:return 8;case $e:case gt:return 32;case Cn:return 268435456;default:return 32}default:return 32}}var Jv=!1,Aa=null,Ia=null,Ra=null,Zh=new Map,ef=new Map,Ca=[],jM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function uI(i,a){switch(i){case"focusin":case"focusout":Aa=null;break;case"dragenter":case"dragleave":Ia=null;break;case"mouseover":case"mouseout":Ra=null;break;case"pointerover":case"pointerout":Zh.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":ef.delete(a.pointerId)}}function tf(i,a,l,c,m,y){return i===null||i.nativeEvent!==y?(i={blockedOn:a,domEventName:l,eventSystemFlags:c,nativeEvent:y,targetContainers:[m]},a!==null&&(a=wi(a),a!==null&&oI(a)),i):(i.eventSystemFlags|=c,a=i.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),i)}function zM(i,a,l,c,m){switch(a){case"focusin":return Aa=tf(Aa,i,a,l,c,m),!0;case"dragenter":return Ia=tf(Ia,i,a,l,c,m),!0;case"mouseover":return Ra=tf(Ra,i,a,l,c,m),!0;case"pointerover":var y=m.pointerId;return Zh.set(y,tf(Zh.get(y)||null,i,a,l,c,m)),!0;case"gotpointercapture":return y=m.pointerId,ef.set(y,tf(ef.get(y)||null,i,a,l,c,m)),!0}return!1}function cI(i){var a=bi(i.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=u(l),a!==null){i.blockedOn=a,s_(i.priority,function(){if(l.tag===13){var c=Sr();c=th(c);var m=iu(l,c);m!==null&&Ar(m,l,c),Wv(l,c)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Em(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var l=Yv(i.nativeEvent);if(l===null){l=i.nativeEvent;var c=new l.constructor(l.type,l);lh=c,l.target.dispatchEvent(c),lh=null}else return a=wi(l),a!==null&&oI(a),i.blockedOn=l,!1;a.shift()}return!0}function hI(i,a,l){Em(i)&&l.delete(a)}function qM(){Jv=!1,Aa!==null&&Em(Aa)&&(Aa=null),Ia!==null&&Em(Ia)&&(Ia=null),Ra!==null&&Em(Ra)&&(Ra=null),Zh.forEach(hI),ef.forEach(hI)}function bm(i,a){i.blockedOn===a&&(i.blockedOn=null,Jv||(Jv=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,qM)))}var wm=null;function fI(i){wm!==i&&(wm=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){wm===i&&(wm=null);for(var a=0;a<i.length;a+=3){var l=i[a],c=i[a+1],m=i[a+2];if(typeof c!="function"){if(Xv(c||l)===null)continue;break}var y=wi(l);y!==null&&(i.splice(a,3),a-=3,X_(y,{pending:!0,data:m,method:l.method,action:c},c,m))}}))}function nf(i){function a(B){return bm(B,i)}Aa!==null&&bm(Aa,i),Ia!==null&&bm(Ia,i),Ra!==null&&bm(Ra,i),Zh.forEach(a),ef.forEach(a);for(var l=0;l<Ca.length;l++){var c=Ca[l];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Ca.length&&(l=Ca[0],l.blockedOn===null);)cI(l),l.blockedOn===null&&Ca.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var m=l[c],y=l[c+1],A=m[Pn]||null;if(typeof y=="function")A||fI(l);else if(A){var D=null;if(y&&y.hasAttribute("formAction")){if(m=y,A=y[Pn]||null)D=A.formAction;else if(Xv(m)!==null)continue}else D=A.action;typeof D=="function"?l[c+1]=D:(l.splice(c,3),c-=3),fI(l)}}}function Zv(i){this._internalRoot=i}Tm.prototype.render=Zv.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(r(409));var l=a.current,c=Sr();sI(l,c,i,a,null,null)},Tm.prototype.unmount=Zv.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;sI(i.current,2,null,i,null,null),im(),a[as]=null}};function Tm(i){this._internalRoot=i}Tm.prototype.unstable_scheduleHydration=function(i){if(i){var a=ss();i={blockedOn:null,target:i,priority:a};for(var l=0;l<Ca.length&&a!==0&&a<Ca[l].priority;l++);Ca.splice(l,0,i),l===0&&cI(i)}};var dI=e.version;if(dI!=="19.1.1")throw Error(r(527,dI,"19.1.1"));J.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=d(a),i=i!==null?f(i):null,i=i===null?null:i.stateNode,i};var HM={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sm.isDisabled&&Sm.supportsFiber)try{Qn=Sm.inject(HM),yt=Sm}catch{}}return sf.createRoot=function(i,a){if(!s(i))throw Error(r(299));var l=!1,c="",m=PS,y=xS,A=OS,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(D=a.unstable_transitionCallbacks)),a=rI(i,1,!1,null,null,l,c,m,y,A,D,null),i[as]=a.current,Mv(i),new Zv(a)},sf.hydrateRoot=function(i,a,l){if(!s(i))throw Error(r(299));var c=!1,m="",y=PS,A=xS,D=OS,B=null,te=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(A=l.onCaughtError),l.onRecoverableError!==void 0&&(D=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(B=l.unstable_transitionCallbacks),l.formState!==void 0&&(te=l.formState)),a=rI(i,1,!0,a,l??null,c,m,y,A,D,B,te),a.context=iI(null),l=a.current,c=Sr(),c=th(c),m=ha(c),m.callback=null,fa(l,m,c),l=c,a.current.lanes=l,Gt(a,l),Di(a),i[as]=a.current,Mv(i),new Tm(a)},sf.version="19.1.1",sf}var TI;function tV(){if(TI)return nE.exports;TI=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),nE.exports=eV(),nE.exports}var nV=tV();/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var SI="popstate";function rV(n={}){function e(r,s){let{pathname:o,search:u,hash:h}=r.location;return qE("",{pathname:o,search:u,hash:h},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:td(s)}return sV(e,t,null,n)}function kt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Xi(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function iV(){return Math.random().toString(36).substring(2,10)}function AI(n,e){return{usr:n.state,key:n.key,idx:e}}function qE(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Oc(e):e,state:t,key:e&&e.key||r||iV()}}function td({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Oc(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function sV(n,e,t,r={}){let{window:s=document.defaultView,v5Compat:o=!1}=r,u=s.history,h="POP",d=null,f=g();f==null&&(f=0,u.replaceState({...u.state,idx:f},""));function g(){return(u.state||{idx:null}).idx}function _(){h="POP";let x=g(),H=x==null?null:x-f;f=x,d&&d({action:h,location:I.location,delta:H})}function v(x,H){h="PUSH";let V=qE(I.location,x,H);f=g()+1;let F=AI(V,f),W=I.createHref(V);try{u.pushState(F,"",W)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(W)}o&&d&&d({action:h,location:I.location,delta:1})}function T(x,H){h="REPLACE";let V=qE(I.location,x,H);f=g();let F=AI(V,f),W=I.createHref(V);u.replaceState(F,"",W),o&&d&&d({action:h,location:I.location,delta:0})}function w(x){return aV(x)}let I={get action(){return h},get location(){return n(s,u)},listen(x){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(SI,_),d=x,()=>{s.removeEventListener(SI,_),d=null}},createHref(x){return e(s,x)},createURL:w,encodeLocation(x){let H=w(x);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:v,replace:T,go(x){return u.go(x)}};return I}function aV(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),kt(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:td(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function lP(n,e,t="/"){return oV(n,e,t,!1)}function oV(n,e,t,r){let s=typeof e=="string"?Oc(e):e,o=Ns(s.pathname||"/",t);if(o==null)return null;let u=uP(n);lV(u);let h=null;for(let d=0;h==null&&d<u.length;++d){let f=vV(o);h=yV(u[d],f,r)}return h}function uP(n,e=[],t=[],r="",s=!1){let o=(u,h,d=s,f)=>{let g={relativePath:f===void 0?u.path||"":f,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(r)&&d)return;kt(g.relativePath.startsWith(r),`Absolute route path "${g.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(r.length)}let _=Os([r,g.relativePath]),v=t.concat(g);u.children&&u.children.length>0&&(kt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),uP(u.children,e,v,_,d)),!(u.path==null&&!u.index)&&e.push({path:_,score:mV(_,u.index),routesMeta:v})};return n.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))o(u,h);else for(let d of cP(u.path))o(u,h,!0,d)}),e}function cP(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let u=cP(r.join("/")),h=[];return h.push(...u.map(d=>d===""?o:[o,d].join("/"))),s&&h.push(...u),h.map(d=>n.startsWith("/")&&d===""?"/":d)}function lV(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:gV(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var uV=/^:[\w-]+$/,cV=3,hV=2,fV=1,dV=10,pV=-2,II=n=>n==="*";function mV(n,e){let t=n.split("/"),r=t.length;return t.some(II)&&(r+=pV),e&&(r+=hV),t.filter(s=>!II(s)).reduce((s,o)=>s+(uV.test(o)?cV:o===""?fV:dV),r)}function gV(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function yV(n,e,t=!1){let{routesMeta:r}=n,s={},o="/",u=[];for(let h=0;h<r.length;++h){let d=r[h],f=h===r.length-1,g=o==="/"?e:e.slice(o.length)||"/",_=pg({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},g),v=d.route;if(!_&&f&&t&&!r[r.length-1].route.index&&(_=pg({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!_)return null;Object.assign(s,_.params),u.push({params:s,pathname:Os([o,_.pathname]),pathnameBase:TV(Os([o,_.pathnameBase])),route:v}),_.pathnameBase!=="/"&&(o=Os([o,_.pathnameBase]))}return u}function pg(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=_V(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let o=s[0],u=o.replace(/(.)\/+$/,"$1"),h=s.slice(1);return{params:r.reduce((f,{paramName:g,isOptional:_},v)=>{if(g==="*"){let w=h[v]||"";u=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const T=h[v];return _&&!T?f[g]=void 0:f[g]=(T||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:u,pattern:n}}function _V(n,e=!1,t=!0){Xi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,d)=>(r.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function vV(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Xi(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Ns(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function EV(n,e="/"){let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?Oc(n):n;return{pathname:t?t.startsWith("/")?t:bV(t,e):e,search:SV(r),hash:AV(s)}}function bV(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function aE(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function wV(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function hP(n){let e=wV(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function fP(n,e,t,r=!1){let s;typeof n=="string"?s=Oc(n):(s={...n},kt(!s.pathname||!s.pathname.includes("?"),aE("?","pathname","search",s)),kt(!s.pathname||!s.pathname.includes("#"),aE("#","pathname","hash",s)),kt(!s.search||!s.search.includes("#"),aE("#","search","hash",s)));let o=n===""||s.pathname==="",u=o?"/":s.pathname,h;if(u==null)h=t;else{let _=e.length-1;if(!r&&u.startsWith("..")){let v=u.split("/");for(;v[0]==="..";)v.shift(),_-=1;s.pathname=v.join("/")}h=_>=0?e[_]:"/"}let d=EV(s,h),f=u&&u!=="/"&&u.endsWith("/"),g=(o||u===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(f||g)&&(d.pathname+="/"),d}var Os=n=>n.join("/").replace(/\/\/+/g,"/"),TV=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),SV=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,AV=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function IV(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var dP=["POST","PUT","PATCH","DELETE"];new Set(dP);var RV=["GET",...dP];new Set(RV);var Dc=Q.createContext(null);Dc.displayName="DataRouter";var Wg=Q.createContext(null);Wg.displayName="DataRouterState";Q.createContext(!1);var pP=Q.createContext({isTransitioning:!1});pP.displayName="ViewTransition";var CV=Q.createContext(new Map);CV.displayName="Fetchers";var PV=Q.createContext(null);PV.displayName="Await";var ns=Q.createContext(null);ns.displayName="Navigation";var Cd=Q.createContext(null);Cd.displayName="Location";var rs=Q.createContext({outlet:null,matches:[],isDataRoute:!1});rs.displayName="Route";var Xb=Q.createContext(null);Xb.displayName="RouteError";function xV(n,{relative:e}={}){kt(Pd(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=Q.useContext(ns),{hash:s,pathname:o,search:u}=xd(n,{relative:e}),h=o;return t!=="/"&&(h=o==="/"?t:Os([t,o])),r.createHref({pathname:h,search:u,hash:s})}function Pd(){return Q.useContext(Cd)!=null}function oo(){return kt(Pd(),"useLocation() may be used only in the context of a <Router> component."),Q.useContext(Cd).location}var mP="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function gP(n){Q.useContext(ns).static||Q.useLayoutEffect(n)}function Qg(){let{isDataRoute:n}=Q.useContext(rs);return n?qV():OV()}function OV(){kt(Pd(),"useNavigate() may be used only in the context of a <Router> component.");let n=Q.useContext(Dc),{basename:e,navigator:t}=Q.useContext(ns),{matches:r}=Q.useContext(rs),{pathname:s}=oo(),o=JSON.stringify(hP(r)),u=Q.useRef(!1);return gP(()=>{u.current=!0}),Q.useCallback((d,f={})=>{if(Xi(u.current,mP),!u.current)return;if(typeof d=="number"){t.go(d);return}let g=fP(d,JSON.parse(o),s,f.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Os([e,g.pathname])),(f.replace?t.replace:t.push)(g,f.state,f)},[e,t,o,s,n])}Q.createContext(null);function yP(){let{matches:n}=Q.useContext(rs),e=n[n.length-1];return e?e.params:{}}function xd(n,{relative:e}={}){let{matches:t}=Q.useContext(rs),{pathname:r}=oo(),s=JSON.stringify(hP(t));return Q.useMemo(()=>fP(n,JSON.parse(s),r,e==="path"),[n,s,r,e])}function DV(n,e){return _P(n,e)}function _P(n,e,t,r,s){kt(Pd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=Q.useContext(ns),{matches:u}=Q.useContext(rs),h=u[u.length-1],d=h?h.params:{},f=h?h.pathname:"/",g=h?h.pathnameBase:"/",_=h&&h.route;{let V=_&&_.path||"";vP(f,!_||V.endsWith("*")||V.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${V}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${V}"> to <Route path="${V==="/"?"*":`${V}/*`}">.`)}let v=oo(),T;if(e){let V=typeof e=="string"?Oc(e):e;kt(g==="/"||V.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${V.pathname}" was given in the \`location\` prop.`),T=V}else T=v;let w=T.pathname||"/",I=w;if(g!=="/"){let V=g.replace(/^\//,"").split("/");I="/"+w.replace(/^\//,"").split("/").slice(V.length).join("/")}let x=lP(n,{pathname:I});Xi(_||x!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Xi(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let H=LV(x&&x.map(V=>Object.assign({},V,{params:Object.assign({},d,V.params),pathname:Os([g,o.encodeLocation?o.encodeLocation(V.pathname).pathname:V.pathname]),pathnameBase:V.pathnameBase==="/"?g:Os([g,o.encodeLocation?o.encodeLocation(V.pathnameBase).pathname:V.pathnameBase])})),u,t,r,s);return e&&H?Q.createElement(Cd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},H):H}function NV(){let n=zV(),e=IV(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=Q.createElement(Q.Fragment,null,Q.createElement("p",null,"💿 Hey developer 👋"),Q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Q.createElement("code",{style:o},"ErrorBoundary")," or"," ",Q.createElement("code",{style:o},"errorElement")," prop on your route.")),Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},e),t?Q.createElement("pre",{style:s},t):null,u)}var kV=Q.createElement(NV,null),MV=class extends Q.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.unstable_onError?this.props.unstable_onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?Q.createElement(rs.Provider,{value:this.props.routeContext},Q.createElement(Xb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function VV({routeContext:n,match:e,children:t}){let r=Q.useContext(Dc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),Q.createElement(rs.Provider,{value:n},t)}function LV(n,e=[],t=null,r=null,s=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,u=t?.errors;if(u!=null){let f=o.findIndex(g=>g.route.id&&u?.[g.route.id]!==void 0);kt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,f+1))}let h=!1,d=-1;if(t)for(let f=0;f<o.length;f++){let g=o[f];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=f),g.route.id){let{loaderData:_,errors:v}=t,T=g.route.loader&&!_.hasOwnProperty(g.route.id)&&(!v||v[g.route.id]===void 0);if(g.route.lazy||T){h=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((f,g,_)=>{let v,T=!1,w=null,I=null;t&&(v=u&&g.route.id?u[g.route.id]:void 0,w=g.route.errorElement||kV,h&&(d<0&&_===0?(vP("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,I=null):d===_&&(T=!0,I=g.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,_+1)),H=()=>{let V;return v?V=w:T?V=I:g.route.Component?V=Q.createElement(g.route.Component,null):g.route.element?V=g.route.element:V=f,Q.createElement(VV,{match:g,routeContext:{outlet:f,matches:x,isDataRoute:t!=null},children:V})};return t&&(g.route.ErrorBoundary||g.route.errorElement||_===0)?Q.createElement(MV,{location:t.location,revalidation:t.revalidation,component:w,error:v,children:H(),routeContext:{outlet:null,matches:x,isDataRoute:!0},unstable_onError:r}):H()},null)}function Jb(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function UV(n){let e=Q.useContext(Dc);return kt(e,Jb(n)),e}function BV(n){let e=Q.useContext(Wg);return kt(e,Jb(n)),e}function FV(n){let e=Q.useContext(rs);return kt(e,Jb(n)),e}function Zb(n){let e=FV(n),t=e.matches[e.matches.length-1];return kt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function jV(){return Zb("useRouteId")}function zV(){let n=Q.useContext(Xb),e=BV("useRouteError"),t=Zb("useRouteError");return n!==void 0?n:e.errors?.[t]}function qV(){let{router:n}=UV("useNavigate"),e=Zb("useNavigate"),t=Q.useRef(!1);return gP(()=>{t.current=!0}),Q.useCallback(async(s,o={})=>{Xi(t.current,mP),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...o}))},[n,e])}var RI={};function vP(n,e,t){!e&&!RI[n]&&(RI[n]=!0,Xi(!1,t))}Q.memo(HV);function HV({routes:n,future:e,state:t,unstable_onError:r}){return _P(n,void 0,t,r,e)}function Ma(n){kt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function $V({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:s,static:o=!1}){kt(!Pd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=Q.useMemo(()=>({basename:u,navigator:s,static:o,future:{}}),[u,s,o]);typeof t=="string"&&(t=Oc(t));let{pathname:d="/",search:f="",hash:g="",state:_=null,key:v="default"}=t,T=Q.useMemo(()=>{let w=Ns(d,u);return w==null?null:{location:{pathname:w,search:f,hash:g,state:_,key:v},navigationType:r}},[u,d,f,g,_,v,r]);return Xi(T!=null,`<Router basename="${u}"> is not able to match the URL "${d}${f}${g}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:Q.createElement(ns.Provider,{value:h},Q.createElement(Cd.Provider,{children:e,value:T}))}function GV({children:n,location:e}){return DV(HE(n),e)}function HE(n,e=[]){let t=[];return Q.Children.forEach(n,(r,s)=>{if(!Q.isValidElement(r))return;let o=[...e,s];if(r.type===Q.Fragment){t.push.apply(t,HE(r.props.children,o));return}kt(r.type===Ma,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),kt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=HE(r.props.children,o)),t.push(u)}),t}var zm="get",qm="application/x-www-form-urlencoded";function Yg(n){return n!=null&&typeof n.tagName=="string"}function KV(n){return Yg(n)&&n.tagName.toLowerCase()==="button"}function WV(n){return Yg(n)&&n.tagName.toLowerCase()==="form"}function QV(n){return Yg(n)&&n.tagName.toLowerCase()==="input"}function YV(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function XV(n,e){return n.button===0&&(!e||e==="_self")&&!YV(n)}var Am=null;function JV(){if(Am===null)try{new FormData(document.createElement("form"),0),Am=!1}catch{Am=!0}return Am}var ZV=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function oE(n){return n!=null&&!ZV.has(n)?(Xi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${qm}"`),null):n}function eL(n,e){let t,r,s,o,u;if(WV(n)){let h=n.getAttribute("action");r=h?Ns(h,e):null,t=n.getAttribute("method")||zm,s=oE(n.getAttribute("enctype"))||qm,o=new FormData(n)}else if(KV(n)||QV(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||h.getAttribute("action");if(r=d?Ns(d,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||zm,s=oE(n.getAttribute("formenctype"))||oE(h.getAttribute("enctype"))||qm,o=new FormData(h,n),!JV()){let{name:f,type:g,value:_}=n;if(g==="image"){let v=f?`${f}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else f&&o.append(f,_)}}else{if(Yg(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=zm,r=null,s=qm,u=n}return o&&s==="text/plain"&&(u=o,o=void 0),{action:r,method:t.toLowerCase(),encType:s,formData:o,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ew(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function tL(n,e,t){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&Ns(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function nL(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function rL(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function iL(n,e,t){let r=await Promise.all(n.map(async s=>{let o=e.routes[s.route.id];if(o){let u=await nL(o,t);return u.links?u.links():[]}return[]}));return lL(r.flat(1).filter(rL).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function CI(n,e,t,r,s,o){let u=(d,f)=>t[f]?d.route.id!==t[f].route.id:!0,h=(d,f)=>t[f].pathname!==d.pathname||t[f].route.path?.endsWith("*")&&t[f].params["*"]!==d.params["*"];return o==="assets"?e.filter((d,f)=>u(d,f)||h(d,f)):o==="data"?e.filter((d,f)=>{let g=r.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(u(d,f)||h(d,f))return!0;if(d.route.shouldRevalidate){let _=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function sL(n,e,{includeHydrateFallback:t}={}){return aL(n.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function aL(n){return[...new Set(n)]}function oL(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function lL(n,e){let t=new Set;return new Set(e),n.reduce((r,s)=>{let o=JSON.stringify(oL(s));return t.has(o)||(t.add(o),r.push({key:o,link:s})),r},[])}function EP(){let n=Q.useContext(Dc);return ew(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function uL(){let n=Q.useContext(Wg);return ew(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var tw=Q.createContext(void 0);tw.displayName="FrameworkContext";function bP(){let n=Q.useContext(tw);return ew(n,"You must render this element inside a <HydratedRouter> element"),n}function cL(n,e){let t=Q.useContext(tw),[r,s]=Q.useState(!1),[o,u]=Q.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:f,onMouseLeave:g,onTouchStart:_}=e,v=Q.useRef(null);Q.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let I=H=>{H.forEach(V=>{u(V.isIntersecting)})},x=new IntersectionObserver(I,{threshold:.5});return v.current&&x.observe(v.current),()=>{x.disconnect()}}},[n]),Q.useEffect(()=>{if(r){let I=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(I)}}},[r]);let T=()=>{s(!0)},w=()=>{s(!1),u(!1)};return t?n!=="intent"?[o,v,{}]:[o,v,{onFocus:af(h,T),onBlur:af(d,w),onMouseEnter:af(f,T),onMouseLeave:af(g,w),onTouchStart:af(_,T)}]:[!1,v,{}]}function af(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function hL({page:n,...e}){let{router:t}=EP(),r=Q.useMemo(()=>lP(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?Q.createElement(dL,{page:n,matches:r,...e}):null}function fL(n){let{manifest:e,routeModules:t}=bP(),[r,s]=Q.useState([]);return Q.useEffect(()=>{let o=!1;return iL(n,e,t).then(u=>{o||s(u)}),()=>{o=!0}},[n,e,t]),r}function dL({page:n,matches:e,...t}){let r=oo(),{manifest:s,routeModules:o}=bP(),{basename:u}=EP(),{loaderData:h,matches:d}=uL(),f=Q.useMemo(()=>CI(n,e,d,s,r,"data"),[n,e,d,s,r]),g=Q.useMemo(()=>CI(n,e,d,s,r,"assets"),[n,e,d,s,r]),_=Q.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let w=new Set,I=!1;if(e.forEach(H=>{let V=s.routes[H.route.id];!V||!V.hasLoader||(!f.some(F=>F.route.id===H.route.id)&&H.route.id in h&&o[H.route.id]?.shouldRevalidate||V.hasClientLoader?I=!0:w.add(H.route.id))}),w.size===0)return[];let x=tL(n,u,"data");return I&&w.size>0&&x.searchParams.set("_routes",e.filter(H=>w.has(H.route.id)).map(H=>H.route.id).join(",")),[x.pathname+x.search]},[u,h,r,s,f,e,n,o]),v=Q.useMemo(()=>sL(g,s),[g,s]),T=fL(g);return Q.createElement(Q.Fragment,null,_.map(w=>Q.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...t})),v.map(w=>Q.createElement("link",{key:w,rel:"modulepreload",href:w,...t})),T.map(({key:w,link:I})=>Q.createElement("link",{key:w,nonce:t.nonce,...I})))}function pL(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var wP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{wP&&(window.__reactRouterVersion="7.9.1")}catch{}function mL({basename:n,children:e,window:t}){let r=Q.useRef();r.current==null&&(r.current=rV({window:t,v5Compat:!0}));let s=r.current,[o,u]=Q.useState({action:s.action,location:s.location}),h=Q.useCallback(d=>{Q.startTransition(()=>u(d))},[u]);return Q.useLayoutEffect(()=>s.listen(h),[s,h]),Q.createElement($V,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:s})}var TP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hi=Q.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:s,reloadDocument:o,replace:u,state:h,target:d,to:f,preventScrollReset:g,viewTransition:_,...v},T){let{basename:w}=Q.useContext(ns),I=typeof f=="string"&&TP.test(f),x,H=!1;if(typeof f=="string"&&I&&(x=f,wP))try{let P=new URL(window.location.href),L=f.startsWith("//")?new URL(P.protocol+f):new URL(f),O=Ns(L.pathname,w);L.origin===P.origin&&O!=null?f=O+L.search+L.hash:H=!0}catch{Xi(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let V=xV(f,{relative:s}),[F,W,j]=cL(r,v),$=vL(f,{replace:u,state:h,target:d,preventScrollReset:g,relative:s,viewTransition:_});function N(P){e&&e(P),P.defaultPrevented||$(P)}let C=Q.createElement("a",{...v,...j,href:x||V,onClick:H||o?e:N,ref:pL(T,W),target:d,"data-discover":!I&&t==="render"?"true":void 0});return F&&!I?Q.createElement(Q.Fragment,null,C,Q.createElement(hL,{page:V})):C});hi.displayName="Link";var gL=Q.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:s=!1,style:o,to:u,viewTransition:h,children:d,...f},g){let _=xd(u,{relative:f.relative}),v=oo(),T=Q.useContext(Wg),{navigator:w,basename:I}=Q.useContext(ns),x=T!=null&&SL(_)&&h===!0,H=w.encodeLocation?w.encodeLocation(_).pathname:_.pathname,V=v.pathname,F=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;t||(V=V.toLowerCase(),F=F?F.toLowerCase():null,H=H.toLowerCase()),F&&I&&(F=Ns(F,I)||F);const W=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let j=V===H||!s&&V.startsWith(H)&&V.charAt(W)==="/",$=F!=null&&(F===H||!s&&F.startsWith(H)&&F.charAt(H.length)==="/"),N={isActive:j,isPending:$,isTransitioning:x},C=j?e:void 0,P;typeof r=="function"?P=r(N):P=[r,j?"active":null,$?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let L=typeof o=="function"?o(N):o;return Q.createElement(hi,{...f,"aria-current":C,className:P,ref:g,style:L,to:u,viewTransition:h},typeof d=="function"?d(N):d)});gL.displayName="NavLink";var yL=Q.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:s,state:o,method:u=zm,action:h,onSubmit:d,relative:f,preventScrollReset:g,viewTransition:_,...v},T)=>{let w=wL(),I=TL(h,{relative:f}),x=u.toLowerCase()==="get"?"get":"post",H=typeof h=="string"&&TP.test(h),V=F=>{if(d&&d(F),F.defaultPrevented)return;F.preventDefault();let W=F.nativeEvent.submitter,j=W?.getAttribute("formmethod")||u;w(W||F.currentTarget,{fetcherKey:e,method:j,navigate:t,replace:s,state:o,relative:f,preventScrollReset:g,viewTransition:_})};return Q.createElement("form",{ref:T,method:x,action:I,onSubmit:r?d:V,...v,"data-discover":!H&&n==="render"?"true":void 0})});yL.displayName="Form";function _L(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function SP(n){let e=Q.useContext(Dc);return kt(e,_L(n)),e}function vL(n,{target:e,replace:t,state:r,preventScrollReset:s,relative:o,viewTransition:u}={}){let h=Qg(),d=oo(),f=xd(n,{relative:o});return Q.useCallback(g=>{if(XV(g,e)){g.preventDefault();let _=t!==void 0?t:td(d)===td(f);h(n,{replace:_,state:r,preventScrollReset:s,relative:o,viewTransition:u})}},[d,h,f,t,r,e,n,s,o,u])}var EL=0,bL=()=>`__${String(++EL)}__`;function wL(){let{router:n}=SP("useSubmit"),{basename:e}=Q.useContext(ns),t=jV();return Q.useCallback(async(r,s={})=>{let{action:o,method:u,encType:h,formData:d,body:f}=eL(r,e);if(s.navigate===!1){let g=s.fetcherKey||bL();await n.fetch(g,t,s.action||o,{preventScrollReset:s.preventScrollReset,formData:d,body:f,formMethod:s.method||u,formEncType:s.encType||h,flushSync:s.flushSync})}else await n.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:d,body:f,formMethod:s.method||u,formEncType:s.encType||h,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function TL(n,{relative:e}={}){let{basename:t}=Q.useContext(ns),r=Q.useContext(rs);kt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),o={...xd(n||".",{relative:e})},u=oo();if(n==null){o.search=u.search;let h=new URLSearchParams(o.search),d=h.getAll("index");if(d.some(g=>g==="")){h.delete("index"),d.filter(_=>_).forEach(_=>h.append("index",_));let g=h.toString();o.search=g?`?${g}`:""}}return(!n||n===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Os([t,o.pathname])),td(o)}function SL(n,{relative:e}={}){let t=Q.useContext(pP);kt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=SP("useViewTransitionState"),s=xd(n,{relative:e});if(!t.isTransitioning)return!1;let o=Ns(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=Ns(t.nextLocation.pathname,r)||t.nextLocation.pathname;return pg(s.pathname,u)!=null||pg(s.pathname,o)!=null}var lE={},of={},Im={},Rm={},uE={exports:{}},cE,PI;function AL(){if(PI)return cE;PI=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return cE=n,cE}var hE,xI;function IL(){if(xI)return hE;xI=1;var n=AL();function e(){}function t(){}return t.resetWarningCache=e,hE=function(){function r(u,h,d,f,g,_){if(_!==n){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}r.isRequired=r;function s(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:t,resetWarningCache:e};return o.PropTypes=o,o},hE}var OI;function AP(){return OI||(OI=1,uE.exports=IL()()),uE.exports}var DI;function RL(){return DI||(DI=1,(function(n){(function(e,t){t(n,ao(),AP())})(Rm,function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0}),e.setHasSupportToCaptureOption=w;var s=u(t),o=u(r);function u(V){return V&&V.__esModule?V:{default:V}}var h=Object.assign||function(V){for(var F=1;F<arguments.length;F++){var W=arguments[F];for(var j in W)Object.prototype.hasOwnProperty.call(W,j)&&(V[j]=W[j])}return V};function d(V,F){var W={};for(var j in V)F.indexOf(j)>=0||Object.prototype.hasOwnProperty.call(V,j)&&(W[j]=V[j]);return W}function f(V,F){if(!(V instanceof F))throw new TypeError("Cannot call a class as a function")}var g=(function(){function V(F,W){for(var j=0;j<W.length;j++){var $=W[j];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(F,$.key,$)}}return function(F,W,j){return W&&V(F.prototype,W),j&&V(F,j),F}})();function _(V,F){if(!V)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F&&(typeof F=="object"||typeof F=="function")?F:V}function v(V,F){if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof F);V.prototype=Object.create(F&&F.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(V,F):V.__proto__=F)}var T=!1;function w(V){T=V}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){w(!0)}}))}catch{}function I(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{capture:!0};return T?V:V.capture}function x(V){if("touches"in V){var F=V.touches[0],W=F.pageX,j=F.pageY;return{x:W,y:j}}var $=V.screenX,N=V.screenY;return{x:$,y:N}}var H=(function(V){v(F,V);function F(){var W;f(this,F);for(var j=arguments.length,$=Array(j),N=0;N<j;N++)$[N]=arguments[N];var C=_(this,(W=F.__proto__||Object.getPrototypeOf(F)).call.apply(W,[this].concat($)));return C._handleSwipeStart=C._handleSwipeStart.bind(C),C._handleSwipeMove=C._handleSwipeMove.bind(C),C._handleSwipeEnd=C._handleSwipeEnd.bind(C),C._onMouseDown=C._onMouseDown.bind(C),C._onMouseMove=C._onMouseMove.bind(C),C._onMouseUp=C._onMouseUp.bind(C),C._setSwiperRef=C._setSwiperRef.bind(C),C}return g(F,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,I({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,I({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function(j){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart(j))}},{key:"_onMouseMove",value:function(j){this.mouseDown&&this._handleSwipeMove(j)}},{key:"_onMouseUp",value:function(j){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd(j)}},{key:"_handleSwipeStart",value:function(j){var $=x(j),N=$.x,C=$.y;this.moveStart={x:N,y:C},this.props.onSwipeStart(j)}},{key:"_handleSwipeMove",value:function(j){if(this.moveStart){var $=x(j),N=$.x,C=$.y,P=N-this.moveStart.x,L=C-this.moveStart.y;this.moving=!0;var O=this.props.onSwipeMove({x:P,y:L},j);O&&j.cancelable&&j.preventDefault(),this.movePosition={deltaX:P,deltaY:L}}}},{key:"_handleSwipeEnd",value:function(j){this.props.onSwipeEnd(j);var $=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-$?this.props.onSwipeLeft(1,j):this.movePosition.deltaX>$&&this.props.onSwipeRight(1,j),this.movePosition.deltaY<-$?this.props.onSwipeUp(1,j):this.movePosition.deltaY>$&&this.props.onSwipeDown(1,j)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function(j){this.swiper=j,this.props.innerRef(j)}},{key:"render",value:function(){var j=this.props;j.tagName;var $=j.className,N=j.style,C=j.children;j.allowMouseEvents,j.onSwipeUp,j.onSwipeDown,j.onSwipeLeft,j.onSwipeRight,j.onSwipeStart,j.onSwipeMove,j.onSwipeEnd,j.innerRef,j.tolerance;var P=d(j,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]);return s.default.createElement(this.props.tagName,h({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:$,style:N},P),C)}}]),F})(t.Component);H.displayName="ReactSwipe",H.propTypes={tagName:o.default.string,className:o.default.string,style:o.default.object,children:o.default.node,allowMouseEvents:o.default.bool,onSwipeUp:o.default.func,onSwipeDown:o.default.func,onSwipeLeft:o.default.func,onSwipeRight:o.default.func,onSwipeStart:o.default.func,onSwipeMove:o.default.func,onSwipeEnd:o.default.func,innerRef:o.default.func,tolerance:o.default.number.isRequired},H.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},e.default=H})})(Rm)),Rm}var NI;function IP(){return NI||(NI=1,(function(n){(function(e,t){t(n,RL())})(Im,function(e,t){Object.defineProperty(e,"__esModule",{value:!0});var r=s(t);function s(o){return o&&o.__esModule?o:{default:o}}e.default=r.default})})(Im)),Im}var lf={},fE={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var kI;function CL(){return kI||(kI=1,(function(n){(function(){var e={}.hasOwnProperty;function t(){for(var o="",u=0;u<arguments.length;u++){var h=arguments[u];h&&(o=s(o,r(h)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return t.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var u="";for(var h in o)e.call(o,h)&&o[h]&&(u=s(u,h));return u}function s(o,u){return u?o?o+" "+u:o+u:o}n.exports?(t.default=t,n.exports=t):window.classNames=t})()})(fE)),fE.exports}var MI;function RP(){if(MI)return lf;MI=1,Object.defineProperty(lf,"__esModule",{value:!0}),lf.default=void 0;var n=e(CL());function e(s){return s&&s.__esModule?s:{default:s}}function t(s,o,u){return o in s?Object.defineProperty(s,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):s[o]=u,s}var r={ROOT:function(o){return(0,n.default)(t({"carousel-root":!0},o||"",!!o))},CAROUSEL:function(o){return(0,n.default)({carousel:!0,"carousel-slider":o})},WRAPPER:function(o,u){return(0,n.default)({"thumbs-wrapper":!o,"slider-wrapper":o,"axis-horizontal":u==="horizontal","axis-vertical":u!=="horizontal"})},SLIDER:function(o,u){return(0,n.default)({thumbs:!o,slider:o,animated:!u})},ITEM:function(o,u,h){return(0,n.default)({thumb:!o,slide:o,selected:u,previous:h})},ARROW_PREV:function(o){return(0,n.default)({"control-arrow control-prev":!0,"control-disabled":o})},ARROW_NEXT:function(o){return(0,n.default)({"control-arrow control-next":!0,"control-disabled":o})},DOT:function(o){return(0,n.default)({dot:!0,selected:o})}};return lf.default=r,lf}var uf={},cf={},VI;function PL(){if(VI)return cf;VI=1,Object.defineProperty(cf,"__esModule",{value:!0}),cf.outerWidth=void 0;var n=function(t){var r=t.offsetWidth,s=getComputedStyle(t);return r+=parseInt(s.marginLeft)+parseInt(s.marginRight),r};return cf.outerWidth=n,cf}var hf={},LI;function nw(){if(LI)return hf;LI=1,Object.defineProperty(hf,"__esModule",{value:!0}),hf.default=void 0;var n=function(t,r,s){var o=t===0?t:t+r,u=s==="horizontal"?[o,0,0]:[0,o,0],h="translate3d",d="("+u.join(",")+")";return h+d};return hf.default=n,hf}var ff={},UI;function CP(){if(UI)return ff;UI=1,Object.defineProperty(ff,"__esModule",{value:!0}),ff.default=void 0;var n=function(){return window};return ff.default=n,ff}var BI;function PP(){if(BI)return uf;BI=1,Object.defineProperty(uf,"__esModule",{value:!0}),uf.default=void 0;var n=d(ao()),e=u(RP()),t=PL(),r=u(nw()),s=u(IP()),o=u(CP());function u(C){return C&&C.__esModule?C:{default:C}}function h(){if(typeof WeakMap!="function")return null;var C=new WeakMap;return h=function(){return C},C}function d(C){if(C&&C.__esModule)return C;if(C===null||f(C)!=="object"&&typeof C!="function")return{default:C};var P=h();if(P&&P.has(C))return P.get(C);var L={},O=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in C)if(Object.prototype.hasOwnProperty.call(C,b)){var R=O?Object.getOwnPropertyDescriptor(C,b):null;R&&(R.get||R.set)?Object.defineProperty(L,b,R):L[b]=C[b]}return L.default=C,P&&P.set(C,L),L}function f(C){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?f=function(L){return typeof L}:f=function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},f(C)}function g(){return g=Object.assign||function(C){for(var P=1;P<arguments.length;P++){var L=arguments[P];for(var O in L)Object.prototype.hasOwnProperty.call(L,O)&&(C[O]=L[O])}return C},g.apply(this,arguments)}function _(C,P){if(!(C instanceof P))throw new TypeError("Cannot call a class as a function")}function v(C,P){for(var L=0;L<P.length;L++){var O=P[L];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(C,O.key,O)}}function T(C,P,L){return P&&v(C.prototype,P),C}function w(C,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(P&&P.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),P&&I(C,P)}function I(C,P){return I=Object.setPrototypeOf||function(O,b){return O.__proto__=b,O},I(C,P)}function x(C){var P=F();return function(){var O=W(C),b;if(P){var R=W(this).constructor;b=Reflect.construct(O,arguments,R)}else b=O.apply(this,arguments);return H(this,b)}}function H(C,P){return P&&(f(P)==="object"||typeof P=="function")?P:V(C)}function V(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}function F(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function W(C){return W=Object.setPrototypeOf?Object.getPrototypeOf:function(L){return L.__proto__||Object.getPrototypeOf(L)},W(C)}function j(C,P,L){return P in C?Object.defineProperty(C,P,{value:L,enumerable:!0,configurable:!0,writable:!0}):C[P]=L,C}var $=function(P){return P.hasOwnProperty("key")},N=(function(C){w(L,C);var P=x(L);function L(O){var b;return _(this,L),b=P.call(this,O),j(V(b),"itemsWrapperRef",void 0),j(V(b),"itemsListRef",void 0),j(V(b),"thumbsRef",void 0),j(V(b),"setItemsWrapperRef",function(R){b.itemsWrapperRef=R}),j(V(b),"setItemsListRef",function(R){b.itemsListRef=R}),j(V(b),"setThumbsRef",function(R,G){b.thumbsRef||(b.thumbsRef=[]),b.thumbsRef[G]=R}),j(V(b),"updateSizes",function(){if(!(!b.props.children||!b.itemsWrapperRef||!b.thumbsRef)){var R=n.Children.count(b.props.children),G=b.itemsWrapperRef.clientWidth,M=b.props.thumbWidth?b.props.thumbWidth:(0,t.outerWidth)(b.thumbsRef[0]),q=Math.floor(G/M),J=q<R,ne=J?R-q:0;b.setState(function(we,U){return{itemSize:M,visibleItems:q,firstItem:J?b.getFirstItem(U.selectedItem):0,lastPosition:ne,showArrows:J}})}}),j(V(b),"handleClickItem",function(R,G,M){if(!$(M)||M.key==="Enter"){var q=b.props.onSelectItem;typeof q=="function"&&q(R,G)}}),j(V(b),"onSwipeStart",function(){b.setState({swiping:!0})}),j(V(b),"onSwipeEnd",function(){b.setState({swiping:!1})}),j(V(b),"onSwipeMove",function(R){var G=R.x;if(!b.state.itemSize||!b.itemsWrapperRef||!b.state.visibleItems)return!1;var M=0,q=n.Children.count(b.props.children),J=-(b.state.firstItem*100)/b.state.visibleItems,ne=Math.max(q-b.state.visibleItems,0),we=-ne*100/b.state.visibleItems;J===M&&G>0&&(G=0),J===we&&G<0&&(G=0);var U=b.itemsWrapperRef.clientWidth,le=J+100/(U/G);return b.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(me){b.itemsListRef.style[me]=(0,r.default)(le,"%",b.props.axis)}),!0}),j(V(b),"slideRight",function(R){b.moveTo(b.state.firstItem-(typeof R=="number"?R:1))}),j(V(b),"slideLeft",function(R){b.moveTo(b.state.firstItem+(typeof R=="number"?R:1))}),j(V(b),"moveTo",function(R){R=R<0?0:R,R=R>=b.state.lastPosition?b.state.lastPosition:R,b.setState({firstItem:R})}),b.state={selectedItem:O.selectedItem,swiping:!1,showArrows:!1,firstItem:0,visibleItems:0,lastPosition:0},b}return T(L,[{key:"componentDidMount",value:function(){this.setupThumbs()}},{key:"componentDidUpdate",value:function(b){this.props.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:this.props.selectedItem,firstItem:this.getFirstItem(this.props.selectedItem)}),this.props.children!==b.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){(0,o.default)().addEventListener("resize",this.updateSizes),(0,o.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){(0,o.default)().removeEventListener("resize",this.updateSizes),(0,o.default)().removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getFirstItem",value:function(b){var R=b;return b>=this.state.lastPosition&&(R=this.state.lastPosition),b<this.state.firstItem+this.state.visibleItems&&(R=this.state.firstItem),b<this.state.firstItem&&(R=b),R}},{key:"renderItems",value:function(){var b=this;return this.props.children.map(function(R,G){var M=e.default.ITEM(!1,G===b.state.selectedItem),q={key:G,ref:function(ne){return b.setThumbsRef(ne,G)},className:M,onClick:b.handleClickItem.bind(b,G,b.props.children[G]),onKeyDown:b.handleClickItem.bind(b,G,b.props.children[G]),"aria-label":"".concat(b.props.labels.item," ").concat(G+1),style:{width:b.props.thumbWidth}};return n.default.createElement("li",g({},q,{role:"button",tabIndex:0}),R)})}},{key:"render",value:function(){var b=this;if(!this.props.children)return null;var R=n.Children.count(this.props.children)>1,G=this.state.showArrows&&this.state.firstItem>0,M=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,q={},J=-this.state.firstItem*(this.state.itemSize||0),ne=(0,r.default)(J,"px",this.props.axis),we=this.props.transitionTime+"ms";return q={WebkitTransform:ne,MozTransform:ne,MsTransform:ne,OTransform:ne,transform:ne,msTransform:ne,WebkitTransitionDuration:we,MozTransitionDuration:we,MsTransitionDuration:we,OTransitionDuration:we,transitionDuration:we,msTransitionDuration:we},n.default.createElement("div",{className:e.default.CAROUSEL(!1)},n.default.createElement("div",{className:e.default.WRAPPER(!1),ref:this.setItemsWrapperRef},n.default.createElement("button",{type:"button",className:e.default.ARROW_PREV(!G),onClick:function(){return b.slideRight()},"aria-label":this.props.labels.leftArrow}),R?n.default.createElement(s.default,{tagName:"ul",className:e.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:q,innerRef:this.setItemsListRef,allowMouseEvents:this.props.emulateTouch},this.renderItems()):n.default.createElement("ul",{className:e.default.SLIDER(!1,this.state.swiping),ref:function(le){return b.setItemsListRef(le)},style:q},this.renderItems()),n.default.createElement("button",{type:"button",className:e.default.ARROW_NEXT(!M),onClick:function(){return b.slideLeft()},"aria-label":this.props.labels.rightArrow})))}}]),L})(n.Component);return uf.default=N,j(N,"displayName","Thumbs"),j(N,"defaultProps",{axis:"horizontal",labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},selectedItem:0,thumbWidth:80,transitionTime:350}),uf}var df={},FI;function xL(){if(FI)return df;FI=1,Object.defineProperty(df,"__esModule",{value:!0}),df.default=void 0;var n=function(){return document};return df.default=n,df}var Ir={},jI;function xP(){if(jI)return Ir;jI=1,Object.defineProperty(Ir,"__esModule",{value:!0}),Ir.setPosition=Ir.getPosition=Ir.isKeyboardEvent=Ir.defaultStatusFormatter=Ir.noop=void 0;var n=ao(),e=t(nw());function t(d){return d&&d.__esModule?d:{default:d}}var r=function(){};Ir.noop=r;var s=function(f,g){return"".concat(f," of ").concat(g)};Ir.defaultStatusFormatter=s;var o=function(f){return f?f.hasOwnProperty("key"):!1};Ir.isKeyboardEvent=o;var u=function(f,g){if(g.infiniteLoop&&++f,f===0)return 0;var _=n.Children.count(g.children);if(g.centerMode&&g.axis==="horizontal"){var v=-f*g.centerSlidePercentage,T=_-1;return f&&(f!==T||g.infiniteLoop)?v+=(100-g.centerSlidePercentage)/2:f===T&&(v+=100-g.centerSlidePercentage),v}return-f*100};Ir.getPosition=u;var h=function(f,g){var _={};return["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(v){_[v]=(0,e.default)(f,"%",g)}),_};return Ir.setPosition=h,Ir}var ui={},zI;function OL(){if(zI)return ui;zI=1,Object.defineProperty(ui,"__esModule",{value:!0}),ui.fadeAnimationHandler=ui.slideStopSwipingHandler=ui.slideSwipeAnimationHandler=ui.slideAnimationHandler=void 0;var n=ao(),e=r(nw()),t=xP();function r(_){return _&&_.__esModule?_:{default:_}}function s(_,v){var T=Object.keys(_);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(_);v&&(w=w.filter(function(I){return Object.getOwnPropertyDescriptor(_,I).enumerable})),T.push.apply(T,w)}return T}function o(_){for(var v=1;v<arguments.length;v++){var T=arguments[v]!=null?arguments[v]:{};v%2?s(Object(T),!0).forEach(function(w){u(_,w,T[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(T)):s(Object(T)).forEach(function(w){Object.defineProperty(_,w,Object.getOwnPropertyDescriptor(T,w))})}return _}function u(_,v,T){return v in _?Object.defineProperty(_,v,{value:T,enumerable:!0,configurable:!0,writable:!0}):_[v]=T,_}var h=function(v,T){var w={},I=T.selectedItem,x=I,H=n.Children.count(v.children)-1,V=v.infiniteLoop&&(I<0||I>H);if(V)return x<0?v.centerMode&&v.centerSlidePercentage&&v.axis==="horizontal"?w.itemListStyle=(0,t.setPosition)(-(H+2)*v.centerSlidePercentage-(100-v.centerSlidePercentage)/2,v.axis):w.itemListStyle=(0,t.setPosition)(-(H+2)*100,v.axis):x>H&&(w.itemListStyle=(0,t.setPosition)(0,v.axis)),w;var F=(0,t.getPosition)(I,v),W=(0,e.default)(F,"%",v.axis),j=v.transitionTime+"ms";return w.itemListStyle={WebkitTransform:W,msTransform:W,OTransform:W,transform:W},T.swiping||(w.itemListStyle=o(o({},w.itemListStyle),{},{WebkitTransitionDuration:j,MozTransitionDuration:j,OTransitionDuration:j,transitionDuration:j,msTransitionDuration:j})),w};ui.slideAnimationHandler=h;var d=function(v,T,w,I){var x={},H=T.axis==="horizontal",V=n.Children.count(T.children),F=0,W=(0,t.getPosition)(w.selectedItem,T),j=T.infiniteLoop?(0,t.getPosition)(V-1,T)-100:(0,t.getPosition)(V-1,T),$=H?v.x:v.y,N=$;W===F&&$>0&&(N=0),W===j&&$<0&&(N=0);var C=W+100/(w.itemSize/N),P=Math.abs($)>T.swipeScrollTolerance;return T.infiniteLoop&&P&&(w.selectedItem===0&&C>-100?C-=V*100:w.selectedItem===V-1&&C<-V*100&&(C+=V*100)),(!T.preventMovementUntilSwipeScrollTolerance||P||w.swipeMovementStarted)&&(w.swipeMovementStarted||I({swipeMovementStarted:!0}),x.itemListStyle=(0,t.setPosition)(C,T.axis)),P&&!w.cancelClick&&I({cancelClick:!0}),x};ui.slideSwipeAnimationHandler=d;var f=function(v,T){var w=(0,t.getPosition)(T.selectedItem,v),I=(0,t.setPosition)(w,v.axis);return{itemListStyle:I}};ui.slideStopSwipingHandler=f;var g=function(v,T){var w=v.transitionTime+"ms",I="ease-in-out",x={position:"absolute",display:"block",zIndex:-2,minHeight:"100%",opacity:0,top:0,right:0,left:0,bottom:0,transitionTimingFunction:I,msTransitionTimingFunction:I,MozTransitionTimingFunction:I,WebkitTransitionTimingFunction:I,OTransitionTimingFunction:I};return T.swiping||(x=o(o({},x),{},{WebkitTransitionDuration:w,MozTransitionDuration:w,OTransitionDuration:w,transitionDuration:w,msTransitionDuration:w})),{slideStyle:x,selectedStyle:o(o({},x),{},{opacity:1,position:"relative"}),prevStyle:o({},x)}};return ui.fadeAnimationHandler=g,ui}var qI;function DL(){if(qI)return of;qI=1,Object.defineProperty(of,"__esModule",{value:!0}),of.default=void 0;var n=g(ao()),e=d(IP()),t=d(RP()),r=d(PP()),s=d(xL()),o=d(CP()),u=xP(),h=OL();function d(O){return O&&O.__esModule?O:{default:O}}function f(){if(typeof WeakMap!="function")return null;var O=new WeakMap;return f=function(){return O},O}function g(O){if(O&&O.__esModule)return O;if(O===null||_(O)!=="object"&&typeof O!="function")return{default:O};var b=f();if(b&&b.has(O))return b.get(O);var R={},G=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var M in O)if(Object.prototype.hasOwnProperty.call(O,M)){var q=G?Object.getOwnPropertyDescriptor(O,M):null;q&&(q.get||q.set)?Object.defineProperty(R,M,q):R[M]=O[M]}return R.default=O,b&&b.set(O,R),R}function _(O){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_=function(R){return typeof R}:_=function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},_(O)}function v(){return v=Object.assign||function(O){for(var b=1;b<arguments.length;b++){var R=arguments[b];for(var G in R)Object.prototype.hasOwnProperty.call(R,G)&&(O[G]=R[G])}return O},v.apply(this,arguments)}function T(O,b){var R=Object.keys(O);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(O);b&&(G=G.filter(function(M){return Object.getOwnPropertyDescriptor(O,M).enumerable})),R.push.apply(R,G)}return R}function w(O){for(var b=1;b<arguments.length;b++){var R=arguments[b]!=null?arguments[b]:{};b%2?T(Object(R),!0).forEach(function(G){P(O,G,R[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(R)):T(Object(R)).forEach(function(G){Object.defineProperty(O,G,Object.getOwnPropertyDescriptor(R,G))})}return O}function I(O,b){if(!(O instanceof b))throw new TypeError("Cannot call a class as a function")}function x(O,b){for(var R=0;R<b.length;R++){var G=b[R];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(O,G.key,G)}}function H(O,b,R){return b&&x(O.prototype,b),O}function V(O,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(b&&b.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),b&&F(O,b)}function F(O,b){return F=Object.setPrototypeOf||function(G,M){return G.__proto__=M,G},F(O,b)}function W(O){var b=N();return function(){var G=C(O),M;if(b){var q=C(this).constructor;M=Reflect.construct(G,arguments,q)}else M=G.apply(this,arguments);return j(this,M)}}function j(O,b){return b&&(_(b)==="object"||typeof b=="function")?b:$(O)}function $(O){if(O===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}function N(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function C(O){return C=Object.setPrototypeOf?Object.getPrototypeOf:function(R){return R.__proto__||Object.getPrototypeOf(R)},C(O)}function P(O,b,R){return b in O?Object.defineProperty(O,b,{value:R,enumerable:!0,configurable:!0,writable:!0}):O[b]=R,O}var L=(function(O){V(R,O);var b=W(R);function R(G){var M;I(this,R),M=b.call(this,G),P($(M),"thumbsRef",void 0),P($(M),"carouselWrapperRef",void 0),P($(M),"listRef",void 0),P($(M),"itemsRef",void 0),P($(M),"timer",void 0),P($(M),"animationHandler",void 0),P($(M),"setThumbsRef",function(J){M.thumbsRef=J}),P($(M),"setCarouselWrapperRef",function(J){M.carouselWrapperRef=J}),P($(M),"setListRef",function(J){M.listRef=J}),P($(M),"setItemsRef",function(J,ne){M.itemsRef||(M.itemsRef=[]),M.itemsRef[ne]=J}),P($(M),"autoPlay",function(){n.Children.count(M.props.children)<=1||(M.clearAutoPlay(),M.props.autoPlay&&(M.timer=setTimeout(function(){M.increment()},M.props.interval)))}),P($(M),"clearAutoPlay",function(){M.timer&&clearTimeout(M.timer)}),P($(M),"resetAutoPlay",function(){M.clearAutoPlay(),M.autoPlay()}),P($(M),"stopOnHover",function(){M.setState({isMouseEntered:!0},M.clearAutoPlay)}),P($(M),"startOnLeave",function(){M.setState({isMouseEntered:!1},M.autoPlay)}),P($(M),"isFocusWithinTheCarousel",function(){return M.carouselWrapperRef?!!((0,s.default)().activeElement===M.carouselWrapperRef||M.carouselWrapperRef.contains((0,s.default)().activeElement)):!1}),P($(M),"navigateWithKeyboard",function(J){if(M.isFocusWithinTheCarousel()){var ne=M.props.axis,we=ne==="horizontal",U={ArrowUp:38,ArrowRight:39,ArrowDown:40,ArrowLeft:37},le=we?U.ArrowRight:U.ArrowDown,me=we?U.ArrowLeft:U.ArrowUp;le===J.keyCode?M.increment():me===J.keyCode&&M.decrement()}}),P($(M),"updateSizes",function(){if(!(!M.state.initialized||!M.itemsRef||M.itemsRef.length===0)){var J=M.props.axis==="horizontal",ne=M.itemsRef[0];if(ne){var we=J?ne.clientWidth:ne.clientHeight;M.setState({itemSize:we}),M.thumbsRef&&M.thumbsRef.updateSizes()}}}),P($(M),"setMountState",function(){M.setState({hasMount:!0}),M.updateSizes()}),P($(M),"handleClickItem",function(J,ne){if(n.Children.count(M.props.children)!==0){if(M.state.cancelClick){M.setState({cancelClick:!1});return}M.props.onClickItem(J,ne),J!==M.state.selectedItem&&M.setState({selectedItem:J})}}),P($(M),"handleOnChange",function(J,ne){n.Children.count(M.props.children)<=1||M.props.onChange(J,ne)}),P($(M),"handleClickThumb",function(J,ne){M.props.onClickThumb(J,ne),M.moveTo(J)}),P($(M),"onSwipeStart",function(J){M.setState({swiping:!0}),M.props.onSwipeStart(J)}),P($(M),"onSwipeEnd",function(J){M.setState({swiping:!1,cancelClick:!1,swipeMovementStarted:!1}),M.props.onSwipeEnd(J),M.clearAutoPlay(),M.state.autoPlay&&M.autoPlay()}),P($(M),"onSwipeMove",function(J,ne){M.props.onSwipeMove(ne);var we=M.props.swipeAnimationHandler(J,M.props,M.state,M.setState.bind($(M)));return M.setState(w({},we)),!!Object.keys(we).length}),P($(M),"decrement",function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;M.moveTo(M.state.selectedItem-(typeof J=="number"?J:1))}),P($(M),"increment",function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;M.moveTo(M.state.selectedItem+(typeof J=="number"?J:1))}),P($(M),"moveTo",function(J){if(typeof J=="number"){var ne=n.Children.count(M.props.children)-1;J<0&&(J=M.props.infiniteLoop?ne:0),J>ne&&(J=M.props.infiniteLoop?0:ne),M.selectItem({selectedItem:J}),M.state.autoPlay&&M.state.isMouseEntered===!1&&M.resetAutoPlay()}}),P($(M),"onClickNext",function(){M.increment(1)}),P($(M),"onClickPrev",function(){M.decrement(1)}),P($(M),"onSwipeForward",function(){M.increment(1),M.props.emulateTouch&&M.setState({cancelClick:!0})}),P($(M),"onSwipeBackwards",function(){M.decrement(1),M.props.emulateTouch&&M.setState({cancelClick:!0})}),P($(M),"changeItem",function(J){return function(ne){(!(0,u.isKeyboardEvent)(ne)||ne.key==="Enter")&&M.moveTo(J)}}),P($(M),"selectItem",function(J){M.setState(w({previousItem:M.state.selectedItem},J),function(){M.setState(M.animationHandler(M.props,M.state))}),M.handleOnChange(J.selectedItem,n.Children.toArray(M.props.children)[J.selectedItem])}),P($(M),"getInitialImage",function(){var J=M.props.selectedItem,ne=M.itemsRef&&M.itemsRef[J],we=ne&&ne.getElementsByTagName("img")||[];return we[0]}),P($(M),"getVariableItemHeight",function(J){var ne=M.itemsRef&&M.itemsRef[J];if(M.state.hasMount&&ne&&ne.children.length){var we=ne.children[0].getElementsByTagName("img")||[];if(we.length>0){var U=we[0];if(!U.complete){var le=function ye(){M.forceUpdate(),U.removeEventListener("load",ye)};U.addEventListener("load",le)}}var me=we[0]||ne.children[0],_e=me.clientHeight;return _e>0?_e:null}return null});var q={initialized:!1,previousItem:G.selectedItem,selectedItem:G.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:G.autoPlay,swiping:!1,swipeMovementStarted:!1,cancelClick:!1,itemSize:1,itemListStyle:{},slideStyle:{},selectedStyle:{},prevStyle:{}};return M.animationHandler=typeof G.animationHandler=="function"&&G.animationHandler||G.animationHandler==="fade"&&h.fadeAnimationHandler||h.slideAnimationHandler,M.state=w(w({},q),M.animationHandler(G,q)),M}return H(R,[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentDidUpdate",value:function(M,q){!M.children&&this.props.children&&!this.state.initialized&&this.setupCarousel(),!M.autoFocus&&this.props.autoFocus&&this.forceFocus(),q.swiping&&!this.state.swiping&&this.setState(w({},this.props.stopSwipingHandler(this.props,this.state))),(M.selectedItem!==this.props.selectedItem||M.centerMode!==this.props.centerMode)&&(this.updateSizes(),this.moveTo(this.props.selectedItem)),M.autoPlay!==this.props.autoPlay&&(this.props.autoPlay?this.setupAutoPlay():this.destroyAutoPlay(),this.setState({autoPlay:this.props.autoPlay}))}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){var M=this;this.bindEvents(),this.state.autoPlay&&n.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.props.autoFocus&&this.forceFocus(),this.setState({initialized:!0},function(){var q=M.getInitialImage();q&&!q.complete?q.addEventListener("load",M.setMountState):M.setMountState()})}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var M=this.carouselWrapperRef;this.props.stopOnHover&&M&&(M.addEventListener("mouseenter",this.stopOnHover),M.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var M=this.carouselWrapperRef;this.props.stopOnHover&&M&&(M.removeEventListener("mouseenter",this.stopOnHover),M.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){(0,o.default)().addEventListener("resize",this.updateSizes),(0,o.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&(0,s.default)().addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){(0,o.default)().removeEventListener("resize",this.updateSizes),(0,o.default)().removeEventListener("DOMContentLoaded",this.updateSizes);var M=this.getInitialImage();M&&M.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&(0,s.default)().removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"forceFocus",value:function(){var M;(M=this.carouselWrapperRef)===null||M===void 0||M.focus()}},{key:"renderItems",value:function(M){var q=this;return this.props.children?n.Children.map(this.props.children,function(J,ne){var we=ne===q.state.selectedItem,U=ne===q.state.previousItem,le=we&&q.state.selectedStyle||U&&q.state.prevStyle||q.state.slideStyle||{};q.props.centerMode&&q.props.axis==="horizontal"&&(le=w(w({},le),{},{minWidth:q.props.centerSlidePercentage+"%"})),q.state.swiping&&q.state.swipeMovementStarted&&(le=w(w({},le),{},{pointerEvents:"none"}));var me={ref:function(ye){return q.setItemsRef(ye,ne)},key:"itemKey"+ne+(M?"clone":""),className:t.default.ITEM(!0,ne===q.state.selectedItem,ne===q.state.previousItem),onClick:q.handleClickItem.bind(q,ne,J),style:le};return n.default.createElement("li",me,q.props.renderItem(J,{isSelected:ne===q.state.selectedItem,isPrevious:ne===q.state.previousItem}))}):[]}},{key:"renderControls",value:function(){var M=this,q=this.props,J=q.showIndicators,ne=q.labels,we=q.renderIndicator,U=q.children;return J?n.default.createElement("ul",{className:"control-dots"},n.Children.map(U,function(le,me){return we&&we(M.changeItem(me),me===M.state.selectedItem,me,ne.item)})):null}},{key:"renderStatus",value:function(){return this.props.showStatus?n.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,n.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return!this.props.showThumbs||!this.props.children||n.Children.count(this.props.children)===0?null:n.default.createElement(r.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth,labels:this.props.labels,emulateTouch:this.props.emulateTouch},this.props.renderThumbs(this.props.children))}},{key:"render",value:function(){var M=this;if(!this.props.children||n.Children.count(this.props.children)===0)return null;var q=this.props.swipeable&&n.Children.count(this.props.children)>1,J=this.props.axis==="horizontal",ne=this.props.showArrows&&n.Children.count(this.props.children)>1,we=ne&&(this.state.selectedItem>0||this.props.infiniteLoop)||!1,U=ne&&(this.state.selectedItem<n.Children.count(this.props.children)-1||this.props.infiniteLoop)||!1,le=this.renderItems(!0),me=le.shift(),_e=le.pop(),ye={className:t.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:this.state.itemListStyle,tolerance:this.props.swipeScrollTolerance},De={};if(J){if(ye.onSwipeLeft=this.onSwipeForward,ye.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var Ce=this.getVariableItemHeight(this.state.selectedItem);De.height=Ce||"auto"}}else ye.onSwipeUp=this.props.verticalSwipe==="natural"?this.onSwipeBackwards:this.onSwipeForward,ye.onSwipeDown=this.props.verticalSwipe==="natural"?this.onSwipeForward:this.onSwipeBackwards,ye.style=w(w({},ye.style),{},{height:this.state.itemSize}),De.height=this.state.itemSize;return n.default.createElement("div",{"aria-label":this.props.ariaLabel,className:t.default.ROOT(this.props.className),ref:this.setCarouselWrapperRef,tabIndex:this.props.useKeyboardArrows?0:void 0},n.default.createElement("div",{className:t.default.CAROUSEL(!0),style:{width:this.props.width}},this.renderControls(),this.props.renderArrowPrev(this.onClickPrev,we,this.props.labels.leftArrow),n.default.createElement("div",{className:t.default.WRAPPER(!0,this.props.axis),style:De},q?n.default.createElement(e.default,v({tagName:"ul",innerRef:this.setListRef},ye,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&_e,this.renderItems(),this.props.infiniteLoop&&me):n.default.createElement("ul",{className:t.default.SLIDER(!0,this.state.swiping),ref:function(Ye){return M.setListRef(Ye)},style:this.state.itemListStyle||{}},this.props.infiniteLoop&&_e,this.renderItems(),this.props.infiniteLoop&&me)),this.props.renderArrowNext(this.onClickNext,U,this.props.labels.rightArrow),this.renderStatus()),this.renderThumbs())}}]),R})(n.default.Component);return of.default=L,P(L,"displayName","Carousel"),P(L,"defaultProps",{ariaLabel:void 0,axis:"horizontal",centerSlidePercentage:80,interval:3e3,labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},onClickItem:u.noop,onClickThumb:u.noop,onChange:u.noop,onSwipeStart:function(){},onSwipeEnd:function(){},onSwipeMove:function(){return!1},preventMovementUntilSwipeScrollTolerance:!1,renderArrowPrev:function(b,R,G){return n.default.createElement("button",{type:"button","aria-label":G,className:t.default.ARROW_PREV(!R),onClick:b})},renderArrowNext:function(b,R,G){return n.default.createElement("button",{type:"button","aria-label":G,className:t.default.ARROW_NEXT(!R),onClick:b})},renderIndicator:function(b,R,G,M){return n.default.createElement("li",{className:t.default.DOT(R),onClick:b,onKeyDown:b,value:G,key:G,role:"button",tabIndex:0,"aria-label":"".concat(M," ").concat(G+1)})},renderItem:function(b){return b},renderThumbs:function(b){var R=n.Children.map(b,function(G){var M=G;if(G.type!=="img"&&(M=n.Children.toArray(G.props.children).find(function(q){return q.type==="img"})),!!M)return M});return R.filter(function(G){return G}).length===0?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),[]):R},statusFormatter:u.defaultStatusFormatter,selectedItem:0,showArrows:!0,showIndicators:!0,showStatus:!0,showThumbs:!0,stopOnHover:!0,swipeScrollTolerance:5,swipeable:!0,transitionTime:350,verticalSwipe:"standard",width:"100%",animationHandler:"slide",swipeAnimationHandler:h.slideSwipeAnimationHandler,stopSwipingHandler:h.slideStopSwipingHandler}),of}var HI={},$I;function NL(){return $I||($I=1),HI}var GI;function kL(){return GI||(GI=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Carousel",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(n,"CarouselProps",{enumerable:!0,get:function(){return t.CarouselProps}}),Object.defineProperty(n,"Thumbs",{enumerable:!0,get:function(){return r.default}});var e=s(DL()),t=NL(),r=s(PP());function s(o){return o&&o.__esModule?o:{default:o}}})(lE)),lE}var ML=kL();const VL="/assets/10001-bl35EseN.jpg",LL="/assets/10002-CO6XiwvK.jpg",UL="/assets/10003-CKEg0SWO.jpg",BL="/assets/10004-Fp0oaH3y.jpg",FL="/assets/10005-DFW8ojyC.jpg",jL=[VL,LL,UL,BL,FL],zL="_hero_img_yxrnm_1",KI={hero_img:zL};function qL(){return z.jsxs("div",{className:KI.effect_margin,children:[z.jsx(ML.Carousel,{autoPlay:!0,infiniteLoop:!0,showIndicators:!1,showThumbs:!1,children:jL.map((n,e)=>z.jsx("img",{src:n},e))}),z.jsx("div",{className:KI.hero_img})]})}function OP(n,e){return function(){return n.apply(e,arguments)}}const{toString:HL}=Object.prototype,{getPrototypeOf:rw}=Object,{iterator:Xg,toStringTag:DP}=Symbol,Jg=(n=>e=>{const t=HL.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),yi=n=>(n=n.toLowerCase(),e=>Jg(e)===n),Zg=n=>e=>typeof e===n,{isArray:Nc}=Array,rc=Zg("undefined");function Od(n){return n!==null&&!rc(n)&&n.constructor!==null&&!rc(n.constructor)&&pr(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const NP=yi("ArrayBuffer");function $L(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&NP(n.buffer),e}const GL=Zg("string"),pr=Zg("function"),kP=Zg("number"),Dd=n=>n!==null&&typeof n=="object",KL=n=>n===!0||n===!1,Hm=n=>{if(Jg(n)!=="object")return!1;const e=rw(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(DP in n)&&!(Xg in n)},WL=n=>{if(!Dd(n)||Od(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},QL=yi("Date"),YL=yi("File"),XL=yi("Blob"),JL=yi("FileList"),ZL=n=>Dd(n)&&pr(n.pipe),e4=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||pr(n.append)&&((e=Jg(n))==="formdata"||e==="object"&&pr(n.toString)&&n.toString()==="[object FormData]"))},t4=yi("URLSearchParams"),[n4,r4,i4,s4]=["ReadableStream","Request","Response","Headers"].map(yi),a4=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Nd(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,s;if(typeof n!="object"&&(n=[n]),Nc(n))for(r=0,s=n.length;r<s;r++)e.call(null,n[r],r,n);else{if(Od(n))return;const o=t?Object.getOwnPropertyNames(n):Object.keys(n),u=o.length;let h;for(r=0;r<u;r++)h=o[r],e.call(null,n[h],h,n)}}function MP(n,e){if(Od(n))return null;e=e.toLowerCase();const t=Object.keys(n);let r=t.length,s;for(;r-- >0;)if(s=t[r],e===s.toLowerCase())return s;return null}const cl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,VP=n=>!rc(n)&&n!==cl;function $E(){const{caseless:n,skipUndefined:e}=VP(this)&&this||{},t={},r=(s,o)=>{const u=n&&MP(t,o)||o;Hm(t[u])&&Hm(s)?t[u]=$E(t[u],s):Hm(s)?t[u]=$E({},s):Nc(s)?t[u]=s.slice():(!e||!rc(s))&&(t[u]=s)};for(let s=0,o=arguments.length;s<o;s++)arguments[s]&&Nd(arguments[s],r);return t}const o4=(n,e,t,{allOwnKeys:r}={})=>(Nd(e,(s,o)=>{t&&pr(s)?n[o]=OP(s,t):n[o]=s},{allOwnKeys:r}),n),l4=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),u4=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},c4=(n,e,t,r)=>{let s,o,u;const h={};if(e=e||{},n==null)return e;do{for(s=Object.getOwnPropertyNames(n),o=s.length;o-- >0;)u=s[o],(!r||r(u,n,e))&&!h[u]&&(e[u]=n[u],h[u]=!0);n=t!==!1&&rw(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},h4=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},f4=n=>{if(!n)return null;if(Nc(n))return n;let e=n.length;if(!kP(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},d4=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&rw(Uint8Array)),p4=(n,e)=>{const r=(n&&n[Xg]).call(n);let s;for(;(s=r.next())&&!s.done;){const o=s.value;e.call(n,o[0],o[1])}},m4=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},g4=yi("HTMLFormElement"),y4=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,s){return r.toUpperCase()+s}),WI=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),_4=yi("RegExp"),LP=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};Nd(t,(s,o)=>{let u;(u=e(s,o,n))!==!1&&(r[o]=u||s)}),Object.defineProperties(n,r)},v4=n=>{LP(n,(e,t)=>{if(pr(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(pr(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},E4=(n,e)=>{const t={},r=s=>{s.forEach(o=>{t[o]=!0})};return Nc(n)?r(n):r(String(n).split(e)),t},b4=()=>{},w4=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function T4(n){return!!(n&&pr(n.append)&&n[DP]==="FormData"&&n[Xg])}const S4=n=>{const e=new Array(10),t=(r,s)=>{if(Dd(r)){if(e.indexOf(r)>=0)return;if(Od(r))return r;if(!("toJSON"in r)){e[s]=r;const o=Nc(r)?[]:{};return Nd(r,(u,h)=>{const d=t(u,s+1);!rc(d)&&(o[h]=d)}),e[s]=void 0,o}}return r};return t(n,0)},A4=yi("AsyncFunction"),I4=n=>n&&(Dd(n)||pr(n))&&pr(n.then)&&pr(n.catch),UP=((n,e)=>n?setImmediate:e?((t,r)=>(cl.addEventListener("message",({source:s,data:o})=>{s===cl&&o===t&&r.length&&r.shift()()},!1),s=>{r.push(s),cl.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",pr(cl.postMessage)),R4=typeof queueMicrotask<"u"?queueMicrotask.bind(cl):typeof process<"u"&&process.nextTick||UP,C4=n=>n!=null&&pr(n[Xg]),oe={isArray:Nc,isArrayBuffer:NP,isBuffer:Od,isFormData:e4,isArrayBufferView:$L,isString:GL,isNumber:kP,isBoolean:KL,isObject:Dd,isPlainObject:Hm,isEmptyObject:WL,isReadableStream:n4,isRequest:r4,isResponse:i4,isHeaders:s4,isUndefined:rc,isDate:QL,isFile:YL,isBlob:XL,isRegExp:_4,isFunction:pr,isStream:ZL,isURLSearchParams:t4,isTypedArray:d4,isFileList:JL,forEach:Nd,merge:$E,extend:o4,trim:a4,stripBOM:l4,inherits:u4,toFlatObject:c4,kindOf:Jg,kindOfTest:yi,endsWith:h4,toArray:f4,forEachEntry:p4,matchAll:m4,isHTMLForm:g4,hasOwnProperty:WI,hasOwnProp:WI,reduceDescriptors:LP,freezeMethods:v4,toObjectSet:E4,toCamelCase:y4,noop:b4,toFiniteNumber:w4,findKey:MP,global:cl,isContextDefined:VP,isSpecCompliantForm:T4,toJSONObject:S4,isAsyncFn:A4,isThenable:I4,setImmediate:UP,asap:R4,isIterable:C4};function Ve(n,e,t,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}oe.inherits(Ve,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:oe.toJSONObject(this.config),code:this.code,status:this.status}}});const BP=Ve.prototype,FP={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{FP[n]={value:n}});Object.defineProperties(Ve,FP);Object.defineProperty(BP,"isAxiosError",{value:!0});Ve.from=(n,e,t,r,s,o)=>{const u=Object.create(BP);oe.toFlatObject(n,u,function(g){return g!==Error.prototype},f=>f!=="isAxiosError");const h=n&&n.message?n.message:"Error",d=e==null&&n?n.code:e;return Ve.call(u,h,d,t,r,s),n&&u.cause==null&&Object.defineProperty(u,"cause",{value:n,configurable:!0}),u.name=n&&n.name||"Error",o&&Object.assign(u,o),u};const P4=null;function GE(n){return oe.isPlainObject(n)||oe.isArray(n)}function jP(n){return oe.endsWith(n,"[]")?n.slice(0,-2):n}function QI(n,e,t){return n?n.concat(e).map(function(s,o){return s=jP(s),!t&&o?"["+s+"]":s}).join(t?".":""):e}function x4(n){return oe.isArray(n)&&!n.some(GE)}const O4=oe.toFlatObject(oe,{},null,function(e){return/^is[A-Z]/.test(e)});function ey(n,e,t){if(!oe.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=oe.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(I,x){return!oe.isUndefined(x[I])});const r=t.metaTokens,s=t.visitor||g,o=t.dots,u=t.indexes,d=(t.Blob||typeof Blob<"u"&&Blob)&&oe.isSpecCompliantForm(e);if(!oe.isFunction(s))throw new TypeError("visitor must be a function");function f(w){if(w===null)return"";if(oe.isDate(w))return w.toISOString();if(oe.isBoolean(w))return w.toString();if(!d&&oe.isBlob(w))throw new Ve("Blob is not supported. Use a Buffer instead.");return oe.isArrayBuffer(w)||oe.isTypedArray(w)?d&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function g(w,I,x){let H=w;if(w&&!x&&typeof w=="object"){if(oe.endsWith(I,"{}"))I=r?I:I.slice(0,-2),w=JSON.stringify(w);else if(oe.isArray(w)&&x4(w)||(oe.isFileList(w)||oe.endsWith(I,"[]"))&&(H=oe.toArray(w)))return I=jP(I),H.forEach(function(F,W){!(oe.isUndefined(F)||F===null)&&e.append(u===!0?QI([I],W,o):u===null?I:I+"[]",f(F))}),!1}return GE(w)?!0:(e.append(QI(x,I,o),f(w)),!1)}const _=[],v=Object.assign(O4,{defaultVisitor:g,convertValue:f,isVisitable:GE});function T(w,I){if(!oe.isUndefined(w)){if(_.indexOf(w)!==-1)throw Error("Circular reference detected in "+I.join("."));_.push(w),oe.forEach(w,function(H,V){(!(oe.isUndefined(H)||H===null)&&s.call(e,H,oe.isString(V)?V.trim():V,I,v))===!0&&T(H,I?I.concat(V):[V])}),_.pop()}}if(!oe.isObject(n))throw new TypeError("data must be an object");return T(n),e}function YI(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function iw(n,e){this._pairs=[],n&&ey(n,this,e)}const zP=iw.prototype;zP.append=function(e,t){this._pairs.push([e,t])};zP.toString=function(e){const t=e?function(r){return e.call(this,r,YI)}:YI;return this._pairs.map(function(s){return t(s[0])+"="+t(s[1])},"").join("&")};function D4(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function qP(n,e,t){if(!e)return n;const r=t&&t.encode||D4;oe.isFunction(t)&&(t={serialize:t});const s=t&&t.serialize;let o;if(s?o=s(e,t):o=oe.isURLSearchParams(e)?e.toString():new iw(e,t).toString(r),o){const u=n.indexOf("#");u!==-1&&(n=n.slice(0,u)),n+=(n.indexOf("?")===-1?"?":"&")+o}return n}class XI{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){oe.forEach(this.handlers,function(r){r!==null&&e(r)})}}const HP={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},N4=typeof URLSearchParams<"u"?URLSearchParams:iw,k4=typeof FormData<"u"?FormData:null,M4=typeof Blob<"u"?Blob:null,V4={isBrowser:!0,classes:{URLSearchParams:N4,FormData:k4,Blob:M4},protocols:["http","https","file","blob","url","data"]},sw=typeof window<"u"&&typeof document<"u",KE=typeof navigator=="object"&&navigator||void 0,L4=sw&&(!KE||["ReactNative","NativeScript","NS"].indexOf(KE.product)<0),U4=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",B4=sw&&window.location.href||"http://localhost",F4=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:sw,hasStandardBrowserEnv:L4,hasStandardBrowserWebWorkerEnv:U4,navigator:KE,origin:B4},Symbol.toStringTag,{value:"Module"})),$n={...F4,...V4};function j4(n,e){return ey(n,new $n.classes.URLSearchParams,{visitor:function(t,r,s,o){return $n.isNode&&oe.isBuffer(t)?(this.append(r,t.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...e})}function z4(n){return oe.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function q4(n){const e={},t=Object.keys(n);let r;const s=t.length;let o;for(r=0;r<s;r++)o=t[r],e[o]=n[o];return e}function $P(n){function e(t,r,s,o){let u=t[o++];if(u==="__proto__")return!0;const h=Number.isFinite(+u),d=o>=t.length;return u=!u&&oe.isArray(s)?s.length:u,d?(oe.hasOwnProp(s,u)?s[u]=[s[u],r]:s[u]=r,!h):((!s[u]||!oe.isObject(s[u]))&&(s[u]=[]),e(t,r,s[u],o)&&oe.isArray(s[u])&&(s[u]=q4(s[u])),!h)}if(oe.isFormData(n)&&oe.isFunction(n.entries)){const t={};return oe.forEachEntry(n,(r,s)=>{e(z4(r),s,t,0)}),t}return null}function H4(n,e,t){if(oe.isString(n))try{return(e||JSON.parse)(n),oe.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const kd={transitional:HP,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",s=r.indexOf("application/json")>-1,o=oe.isObject(e);if(o&&oe.isHTMLForm(e)&&(e=new FormData(e)),oe.isFormData(e))return s?JSON.stringify($P(e)):e;if(oe.isArrayBuffer(e)||oe.isBuffer(e)||oe.isStream(e)||oe.isFile(e)||oe.isBlob(e)||oe.isReadableStream(e))return e;if(oe.isArrayBufferView(e))return e.buffer;if(oe.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let h;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return j4(e,this.formSerializer).toString();if((h=oe.isFileList(e))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return ey(h?{"files[]":e}:e,d&&new d,this.formSerializer)}}return o||s?(t.setContentType("application/json",!1),H4(e)):e}],transformResponse:[function(e){const t=this.transitional||kd.transitional,r=t&&t.forcedJSONParsing,s=this.responseType==="json";if(oe.isResponse(e)||oe.isReadableStream(e))return e;if(e&&oe.isString(e)&&(r&&!this.responseType||s)){const u=!(t&&t.silentJSONParsing)&&s;try{return JSON.parse(e,this.parseReviver)}catch(h){if(u)throw h.name==="SyntaxError"?Ve.from(h,Ve.ERR_BAD_RESPONSE,this,null,this.response):h}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:$n.classes.FormData,Blob:$n.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};oe.forEach(["delete","get","head","post","put","patch"],n=>{kd.headers[n]={}});const $4=oe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),G4=n=>{const e={};let t,r,s;return n&&n.split(`
`).forEach(function(u){s=u.indexOf(":"),t=u.substring(0,s).trim().toLowerCase(),r=u.substring(s+1).trim(),!(!t||e[t]&&$4[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},JI=Symbol("internals");function pf(n){return n&&String(n).trim().toLowerCase()}function $m(n){return n===!1||n==null?n:oe.isArray(n)?n.map($m):String(n)}function K4(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const W4=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function dE(n,e,t,r,s){if(oe.isFunction(r))return r.call(this,e,t);if(s&&(e=t),!!oe.isString(e)){if(oe.isString(r))return e.indexOf(r)!==-1;if(oe.isRegExp(r))return r.test(e)}}function Q4(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function Y4(n,e){const t=oe.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(s,o,u){return this[r].call(this,e,s,o,u)},configurable:!0})})}let mr=class{constructor(e){e&&this.set(e)}set(e,t,r){const s=this;function o(h,d,f){const g=pf(d);if(!g)throw new Error("header name must be a non-empty string");const _=oe.findKey(s,g);(!_||s[_]===void 0||f===!0||f===void 0&&s[_]!==!1)&&(s[_||d]=$m(h))}const u=(h,d)=>oe.forEach(h,(f,g)=>o(f,g,d));if(oe.isPlainObject(e)||e instanceof this.constructor)u(e,t);else if(oe.isString(e)&&(e=e.trim())&&!W4(e))u(G4(e),t);else if(oe.isObject(e)&&oe.isIterable(e)){let h={},d,f;for(const g of e){if(!oe.isArray(g))throw TypeError("Object iterator must return a key-value pair");h[f=g[0]]=(d=h[f])?oe.isArray(d)?[...d,g[1]]:[d,g[1]]:g[1]}u(h,t)}else e!=null&&o(t,e,r);return this}get(e,t){if(e=pf(e),e){const r=oe.findKey(this,e);if(r){const s=this[r];if(!t)return s;if(t===!0)return K4(s);if(oe.isFunction(t))return t.call(this,s,r);if(oe.isRegExp(t))return t.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=pf(e),e){const r=oe.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||dE(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let s=!1;function o(u){if(u=pf(u),u){const h=oe.findKey(r,u);h&&(!t||dE(r,r[h],h,t))&&(delete r[h],s=!0)}}return oe.isArray(e)?e.forEach(o):o(e),s}clear(e){const t=Object.keys(this);let r=t.length,s=!1;for(;r--;){const o=t[r];(!e||dE(this,this[o],o,e,!0))&&(delete this[o],s=!0)}return s}normalize(e){const t=this,r={};return oe.forEach(this,(s,o)=>{const u=oe.findKey(r,o);if(u){t[u]=$m(s),delete t[o];return}const h=e?Q4(o):String(o).trim();h!==o&&delete t[o],t[h]=$m(s),r[h]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return oe.forEach(this,(r,s)=>{r!=null&&r!==!1&&(t[s]=e&&oe.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[JI]=this[JI]={accessors:{}}).accessors,s=this.prototype;function o(u){const h=pf(u);r[h]||(Y4(s,u),r[h]=!0)}return oe.isArray(e)?e.forEach(o):o(e),this}};mr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);oe.reduceDescriptors(mr.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});oe.freezeMethods(mr);function pE(n,e){const t=this||kd,r=e||t,s=mr.from(r.headers);let o=r.data;return oe.forEach(n,function(h){o=h.call(t,o,s.normalize(),e?e.status:void 0)}),s.normalize(),o}function GP(n){return!!(n&&n.__CANCEL__)}function kc(n,e,t){Ve.call(this,n??"canceled",Ve.ERR_CANCELED,e,t),this.name="CanceledError"}oe.inherits(kc,Ve,{__CANCEL__:!0});function KP(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new Ve("Request failed with status code "+t.status,[Ve.ERR_BAD_REQUEST,Ve.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function X4(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function J4(n,e){n=n||10;const t=new Array(n),r=new Array(n);let s=0,o=0,u;return e=e!==void 0?e:1e3,function(d){const f=Date.now(),g=r[o];u||(u=f),t[s]=d,r[s]=f;let _=o,v=0;for(;_!==s;)v+=t[_++],_=_%n;if(s=(s+1)%n,s===o&&(o=(o+1)%n),f-u<e)return;const T=g&&f-g;return T?Math.round(v*1e3/T):void 0}}function Z4(n,e){let t=0,r=1e3/e,s,o;const u=(f,g=Date.now())=>{t=g,s=null,o&&(clearTimeout(o),o=null),n(...f)};return[(...f)=>{const g=Date.now(),_=g-t;_>=r?u(f,g):(s=f,o||(o=setTimeout(()=>{o=null,u(s)},r-_)))},()=>s&&u(s)]}const mg=(n,e,t=3)=>{let r=0;const s=J4(50,250);return Z4(o=>{const u=o.loaded,h=o.lengthComputable?o.total:void 0,d=u-r,f=s(d),g=u<=h;r=u;const _={loaded:u,total:h,progress:h?u/h:void 0,bytes:d,rate:f||void 0,estimated:f&&h&&g?(h-u)/f:void 0,event:o,lengthComputable:h!=null,[e?"download":"upload"]:!0};n(_)},t)},ZI=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},eR=n=>(...e)=>oe.asap(()=>n(...e)),e3=$n.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,$n.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL($n.origin),$n.navigator&&/(msie|trident)/i.test($n.navigator.userAgent)):()=>!0,t3=$n.hasStandardBrowserEnv?{write(n,e,t,r,s,o){const u=[n+"="+encodeURIComponent(e)];oe.isNumber(t)&&u.push("expires="+new Date(t).toGMTString()),oe.isString(r)&&u.push("path="+r),oe.isString(s)&&u.push("domain="+s),o===!0&&u.push("secure"),document.cookie=u.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function n3(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function r3(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function WP(n,e,t){let r=!n3(e);return n&&(r||t==!1)?r3(n,e):e}const tR=n=>n instanceof mr?{...n}:n;function bl(n,e){e=e||{};const t={};function r(f,g,_,v){return oe.isPlainObject(f)&&oe.isPlainObject(g)?oe.merge.call({caseless:v},f,g):oe.isPlainObject(g)?oe.merge({},g):oe.isArray(g)?g.slice():g}function s(f,g,_,v){if(oe.isUndefined(g)){if(!oe.isUndefined(f))return r(void 0,f,_,v)}else return r(f,g,_,v)}function o(f,g){if(!oe.isUndefined(g))return r(void 0,g)}function u(f,g){if(oe.isUndefined(g)){if(!oe.isUndefined(f))return r(void 0,f)}else return r(void 0,g)}function h(f,g,_){if(_ in e)return r(f,g);if(_ in n)return r(void 0,f)}const d={url:o,method:o,data:o,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:h,headers:(f,g,_)=>s(tR(f),tR(g),_,!0)};return oe.forEach(Object.keys({...n,...e}),function(g){const _=d[g]||s,v=_(n[g],e[g],g);oe.isUndefined(v)&&_!==h||(t[g]=v)}),t}const QP=n=>{const e=bl({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:o,headers:u,auth:h}=e;if(e.headers=u=mr.from(u),e.url=qP(WP(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),h&&u.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):""))),oe.isFormData(t)){if($n.hasStandardBrowserEnv||$n.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if(oe.isFunction(t.getHeaders)){const d=t.getHeaders(),f=["content-type","content-length"];Object.entries(d).forEach(([g,_])=>{f.includes(g.toLowerCase())&&u.set(g,_)})}}if($n.hasStandardBrowserEnv&&(r&&oe.isFunction(r)&&(r=r(e)),r||r!==!1&&e3(e.url))){const d=s&&o&&t3.read(o);d&&u.set(s,d)}return e},i3=typeof XMLHttpRequest<"u",s3=i3&&function(n){return new Promise(function(t,r){const s=QP(n);let o=s.data;const u=mr.from(s.headers).normalize();let{responseType:h,onUploadProgress:d,onDownloadProgress:f}=s,g,_,v,T,w;function I(){T&&T(),w&&w(),s.cancelToken&&s.cancelToken.unsubscribe(g),s.signal&&s.signal.removeEventListener("abort",g)}let x=new XMLHttpRequest;x.open(s.method.toUpperCase(),s.url,!0),x.timeout=s.timeout;function H(){if(!x)return;const F=mr.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),j={data:!h||h==="text"||h==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:F,config:n,request:x};KP(function(N){t(N),I()},function(N){r(N),I()},j),x=null}"onloadend"in x?x.onloadend=H:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(H)},x.onabort=function(){x&&(r(new Ve("Request aborted",Ve.ECONNABORTED,n,x)),x=null)},x.onerror=function(W){const j=W&&W.message?W.message:"Network Error",$=new Ve(j,Ve.ERR_NETWORK,n,x);$.event=W||null,r($),x=null},x.ontimeout=function(){let W=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const j=s.transitional||HP;s.timeoutErrorMessage&&(W=s.timeoutErrorMessage),r(new Ve(W,j.clarifyTimeoutError?Ve.ETIMEDOUT:Ve.ECONNABORTED,n,x)),x=null},o===void 0&&u.setContentType(null),"setRequestHeader"in x&&oe.forEach(u.toJSON(),function(W,j){x.setRequestHeader(j,W)}),oe.isUndefined(s.withCredentials)||(x.withCredentials=!!s.withCredentials),h&&h!=="json"&&(x.responseType=s.responseType),f&&([v,w]=mg(f,!0),x.addEventListener("progress",v)),d&&x.upload&&([_,T]=mg(d),x.upload.addEventListener("progress",_),x.upload.addEventListener("loadend",T)),(s.cancelToken||s.signal)&&(g=F=>{x&&(r(!F||F.type?new kc(null,n,x):F),x.abort(),x=null)},s.cancelToken&&s.cancelToken.subscribe(g),s.signal&&(s.signal.aborted?g():s.signal.addEventListener("abort",g)));const V=X4(s.url);if(V&&$n.protocols.indexOf(V)===-1){r(new Ve("Unsupported protocol "+V+":",Ve.ERR_BAD_REQUEST,n));return}x.send(o||null)})},a3=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,s;const o=function(f){if(!s){s=!0,h();const g=f instanceof Error?f:this.reason;r.abort(g instanceof Ve?g:new kc(g instanceof Error?g.message:g))}};let u=e&&setTimeout(()=>{u=null,o(new Ve(`timeout ${e} of ms exceeded`,Ve.ETIMEDOUT))},e);const h=()=>{n&&(u&&clearTimeout(u),u=null,n.forEach(f=>{f.unsubscribe?f.unsubscribe(o):f.removeEventListener("abort",o)}),n=null)};n.forEach(f=>f.addEventListener("abort",o));const{signal:d}=r;return d.unsubscribe=()=>oe.asap(h),d}},o3=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,s;for(;r<t;)s=r+e,yield n.slice(r,s),r=s},l3=async function*(n,e){for await(const t of u3(n))yield*o3(t,e)},u3=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},nR=(n,e,t,r)=>{const s=l3(n,e);let o=0,u,h=d=>{u||(u=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:f,value:g}=await s.next();if(f){h(),d.close();return}let _=g.byteLength;if(t){let v=o+=_;t(v)}d.enqueue(new Uint8Array(g))}catch(f){throw h(f),f}},cancel(d){return h(d),s.return()}},{highWaterMark:2})},rR=64*1024,{isFunction:Cm}=oe,c3=(({Request:n,Response:e})=>({Request:n,Response:e}))(oe.global),{ReadableStream:iR,TextEncoder:sR}=oe.global,aR=(n,...e)=>{try{return!!n(...e)}catch{return!1}},h3=n=>{n=oe.merge.call({skipUndefined:!0},c3,n);const{fetch:e,Request:t,Response:r}=n,s=e?Cm(e):typeof fetch=="function",o=Cm(t),u=Cm(r);if(!s)return!1;const h=s&&Cm(iR),d=s&&(typeof sR=="function"?(w=>I=>w.encode(I))(new sR):async w=>new Uint8Array(await new t(w).arrayBuffer())),f=o&&h&&aR(()=>{let w=!1;const I=new t($n.origin,{body:new iR,method:"POST",get duplex(){return w=!0,"half"}}).headers.has("Content-Type");return w&&!I}),g=u&&h&&aR(()=>oe.isReadableStream(new r("").body)),_={stream:g&&(w=>w.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(w=>{!_[w]&&(_[w]=(I,x)=>{let H=I&&I[w];if(H)return H.call(I);throw new Ve(`Response type '${w}' is not supported`,Ve.ERR_NOT_SUPPORT,x)})});const v=async w=>{if(w==null)return 0;if(oe.isBlob(w))return w.size;if(oe.isSpecCompliantForm(w))return(await new t($n.origin,{method:"POST",body:w}).arrayBuffer()).byteLength;if(oe.isArrayBufferView(w)||oe.isArrayBuffer(w))return w.byteLength;if(oe.isURLSearchParams(w)&&(w=w+""),oe.isString(w))return(await d(w)).byteLength},T=async(w,I)=>{const x=oe.toFiniteNumber(w.getContentLength());return x??v(I)};return async w=>{let{url:I,method:x,data:H,signal:V,cancelToken:F,timeout:W,onDownloadProgress:j,onUploadProgress:$,responseType:N,headers:C,withCredentials:P="same-origin",fetchOptions:L}=QP(w),O=e||fetch;N=N?(N+"").toLowerCase():"text";let b=a3([V,F&&F.toAbortSignal()],W),R=null;const G=b&&b.unsubscribe&&(()=>{b.unsubscribe()});let M;try{if($&&f&&x!=="get"&&x!=="head"&&(M=await T(C,H))!==0){let le=new t(I,{method:"POST",body:H,duplex:"half"}),me;if(oe.isFormData(H)&&(me=le.headers.get("content-type"))&&C.setContentType(me),le.body){const[_e,ye]=ZI(M,mg(eR($)));H=nR(le.body,rR,_e,ye)}}oe.isString(P)||(P=P?"include":"omit");const q=o&&"credentials"in t.prototype,J={...L,signal:b,method:x.toUpperCase(),headers:C.normalize().toJSON(),body:H,duplex:"half",credentials:q?P:void 0};R=o&&new t(I,J);let ne=await(o?O(R,L):O(I,J));const we=g&&(N==="stream"||N==="response");if(g&&(j||we&&G)){const le={};["status","statusText","headers"].forEach(De=>{le[De]=ne[De]});const me=oe.toFiniteNumber(ne.headers.get("content-length")),[_e,ye]=j&&ZI(me,mg(eR(j),!0))||[];ne=new r(nR(ne.body,rR,_e,()=>{ye&&ye(),G&&G()}),le)}N=N||"text";let U=await _[oe.findKey(_,N)||"text"](ne,w);return!we&&G&&G(),await new Promise((le,me)=>{KP(le,me,{data:U,headers:mr.from(ne.headers),status:ne.status,statusText:ne.statusText,config:w,request:R})})}catch(q){throw G&&G(),q&&q.name==="TypeError"&&/Load failed|fetch/i.test(q.message)?Object.assign(new Ve("Network Error",Ve.ERR_NETWORK,w,R),{cause:q.cause||q}):Ve.from(q,q&&q.code,w,R)}}},f3=new Map,YP=n=>{let e=n?n.env:{};const{fetch:t,Request:r,Response:s}=e,o=[r,s,t];let u=o.length,h=u,d,f,g=f3;for(;h--;)d=o[h],f=g.get(d),f===void 0&&g.set(d,f=h?new Map:h3(e)),g=f;return f};YP();const WE={http:P4,xhr:s3,fetch:{get:YP}};oe.forEach(WE,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const oR=n=>`- ${n}`,d3=n=>oe.isFunction(n)||n===null||n===!1,XP={getAdapter:(n,e)=>{n=oe.isArray(n)?n:[n];const{length:t}=n;let r,s;const o={};for(let u=0;u<t;u++){r=n[u];let h;if(s=r,!d3(r)&&(s=WE[(h=String(r)).toLowerCase()],s===void 0))throw new Ve(`Unknown adapter '${h}'`);if(s&&(oe.isFunction(s)||(s=s.get(e))))break;o[h||"#"+u]=s}if(!s){const u=Object.entries(o).map(([d,f])=>`adapter ${d} `+(f===!1?"is not supported by the environment":"is not available in the build"));let h=t?u.length>1?`since :
`+u.map(oR).join(`
`):" "+oR(u[0]):"as no adapter specified";throw new Ve("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return s},adapters:WE};function mE(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new kc(null,n)}function lR(n){return mE(n),n.headers=mr.from(n.headers),n.data=pE.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),XP.getAdapter(n.adapter||kd.adapter,n)(n).then(function(r){return mE(n),r.data=pE.call(n,n.transformResponse,r),r.headers=mr.from(r.headers),r},function(r){return GP(r)||(mE(n),r&&r.response&&(r.response.data=pE.call(n,n.transformResponse,r.response),r.response.headers=mr.from(r.response.headers))),Promise.reject(r)})}const JP="1.12.2",ty={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{ty[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const uR={};ty.transitional=function(e,t,r){function s(o,u){return"[Axios v"+JP+"] Transitional option '"+o+"'"+u+(r?". "+r:"")}return(o,u,h)=>{if(e===!1)throw new Ve(s(u," has been removed"+(t?" in "+t:"")),Ve.ERR_DEPRECATED);return t&&!uR[u]&&(uR[u]=!0,console.warn(s(u," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(o,u,h):!0}};ty.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function p3(n,e,t){if(typeof n!="object")throw new Ve("options must be an object",Ve.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let s=r.length;for(;s-- >0;){const o=r[s],u=e[o];if(u){const h=n[o],d=h===void 0||u(h,o,n);if(d!==!0)throw new Ve("option "+o+" must be "+d,Ve.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Ve("Unknown option "+o,Ve.ERR_BAD_OPTION)}}const Gm={assertOptions:p3,validators:ty},Ni=Gm.validators;let gl=class{constructor(e){this.defaults=e||{},this.interceptors={request:new XI,response:new XI}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const o=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=bl(this.defaults,t);const{transitional:r,paramsSerializer:s,headers:o}=t;r!==void 0&&Gm.assertOptions(r,{silentJSONParsing:Ni.transitional(Ni.boolean),forcedJSONParsing:Ni.transitional(Ni.boolean),clarifyTimeoutError:Ni.transitional(Ni.boolean)},!1),s!=null&&(oe.isFunction(s)?t.paramsSerializer={serialize:s}:Gm.assertOptions(s,{encode:Ni.function,serialize:Ni.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Gm.assertOptions(t,{baseUrl:Ni.spelling("baseURL"),withXsrfToken:Ni.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let u=o&&oe.merge(o.common,o[t.method]);o&&oe.forEach(["delete","get","head","post","put","patch","common"],w=>{delete o[w]}),t.headers=mr.concat(u,o);const h=[];let d=!0;this.interceptors.request.forEach(function(I){typeof I.runWhen=="function"&&I.runWhen(t)===!1||(d=d&&I.synchronous,h.unshift(I.fulfilled,I.rejected))});const f=[];this.interceptors.response.forEach(function(I){f.push(I.fulfilled,I.rejected)});let g,_=0,v;if(!d){const w=[lR.bind(this),void 0];for(w.unshift(...h),w.push(...f),v=w.length,g=Promise.resolve(t);_<v;)g=g.then(w[_++],w[_++]);return g}v=h.length;let T=t;for(;_<v;){const w=h[_++],I=h[_++];try{T=w(T)}catch(x){I.call(this,x);break}}try{g=lR.call(this,T)}catch(w){return Promise.reject(w)}for(_=0,v=f.length;_<v;)g=g.then(f[_++],f[_++]);return g}getUri(e){e=bl(this.defaults,e);const t=WP(e.baseURL,e.url,e.allowAbsoluteUrls);return qP(t,e.params,e.paramsSerializer)}};oe.forEach(["delete","get","head","options"],function(e){gl.prototype[e]=function(t,r){return this.request(bl(r||{},{method:e,url:t,data:(r||{}).data}))}});oe.forEach(["post","put","patch"],function(e){function t(r){return function(o,u,h){return this.request(bl(h||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:u}))}}gl.prototype[e]=t(),gl.prototype[e+"Form"]=t(!0)});let m3=class ZP{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(o){t=o});const r=this;this.promise.then(s=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](s);r._listeners=null}),this.promise.then=s=>{let o;const u=new Promise(h=>{r.subscribe(h),o=h}).then(s);return u.cancel=function(){r.unsubscribe(o)},u},e(function(o,u,h){r.reason||(r.reason=new kc(o,u,h),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new ZP(function(s){e=s}),cancel:e}}};function g3(n){return function(t){return n.apply(null,t)}}function y3(n){return oe.isObject(n)&&n.isAxiosError===!0}const QE={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(QE).forEach(([n,e])=>{QE[e]=n});function ex(n){const e=new gl(n),t=OP(gl.prototype.request,e);return oe.extend(t,gl.prototype,e,{allOwnKeys:!0}),oe.extend(t,e,null,{allOwnKeys:!0}),t.create=function(s){return ex(bl(n,s))},t}const Ot=ex(kd);Ot.Axios=gl;Ot.CanceledError=kc;Ot.CancelToken=m3;Ot.isCancel=GP;Ot.VERSION=JP;Ot.toFormData=ey;Ot.AxiosError=Ve;Ot.Cancel=Ot.CanceledError;Ot.all=function(e){return Promise.all(e)};Ot.spread=g3;Ot.isAxiosError=y3;Ot.mergeConfig=bl;Ot.AxiosHeaders=mr;Ot.formToJSON=n=>$P(oe.isHTMLForm(n)?new FormData(n):n);Ot.getAdapter=XP.getAdapter;Ot.HttpStatusCode=QE;Ot.default=Ot;const{Axios:cW,AxiosError:hW,CanceledError:fW,isCancel:dW,CancelToken:pW,VERSION:mW,all:gW,Cancel:yW,isAxiosError:_W,spread:vW,toFormData:EW,AxiosHeaders:bW,HttpStatusCode:wW,formToJSON:TW,getAdapter:SW,mergeConfig:AW}=Ot,_3="_card_container_1q4hf_1",v3="_button_1q4hf_17",E3="_rating_1q4hf_73",b3="_products_container_1q4hf_93",w3="_product_flexed_1q4hf_121",ju={card_container:_3,button:v3,rating:E3,products_container:b3,product_flexed:w3},nd={black:"#000",white:"#fff"},Pu={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},xu={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Ou={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Du={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Nu={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},mf={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},T3={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function wl(n,...e){const t=new URL(`https://mui.com/production-error/?code=${n}`);return e.forEach(r=>t.searchParams.append("args[]",r)),`Minified MUI error #${n}; visit ${t} for the full message.`}const S3="$$material";function YE(){return YE=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},YE.apply(null,arguments)}function A3(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function I3(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var R3=(function(){function n(t){var r=this;this._insertTag=function(s){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(s,o),r.tags.push(s)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(I3(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var o=A3(s);try{o.insertRule(r,o.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var s;return(s=r.parentNode)==null?void 0:s.removeChild(r)}),this.tags=[],this.ctr=0},n})(),qn="-ms-",gg="-moz-",et="-webkit-",tx="comm",aw="rule",ow="decl",C3="@import",nx="@keyframes",P3="@layer",x3=Math.abs,ny=String.fromCharCode,O3=Object.assign;function D3(n,e){return kn(n,0)^45?(((e<<2^kn(n,0))<<2^kn(n,1))<<2^kn(n,2))<<2^kn(n,3):0}function rx(n){return n.trim()}function N3(n,e){return(n=e.exec(n))?n[0]:n}function tt(n,e,t){return n.replace(e,t)}function XE(n,e){return n.indexOf(e)}function kn(n,e){return n.charCodeAt(e)|0}function rd(n,e,t){return n.slice(e,t)}function Li(n){return n.length}function lw(n){return n.length}function Pm(n,e){return e.push(n),n}function k3(n,e){return n.map(e).join("")}var ry=1,ic=1,ix=0,gr=0,cn=0,Mc="";function iy(n,e,t,r,s,o,u){return{value:n,root:e,parent:t,type:r,props:s,children:o,line:ry,column:ic,length:u,return:""}}function gf(n,e){return O3(iy("",null,null,"",null,null,0),n,{length:-n.length},e)}function M3(){return cn}function V3(){return cn=gr>0?kn(Mc,--gr):0,ic--,cn===10&&(ic=1,ry--),cn}function Or(){return cn=gr<ix?kn(Mc,gr++):0,ic++,cn===10&&(ic=1,ry++),cn}function Ki(){return kn(Mc,gr)}function Km(){return gr}function Md(n,e){return rd(Mc,n,e)}function id(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function sx(n){return ry=ic=1,ix=Li(Mc=n),gr=0,[]}function ax(n){return Mc="",n}function Wm(n){return rx(Md(gr-1,JE(n===91?n+2:n===40?n+1:n)))}function L3(n){for(;(cn=Ki())&&cn<33;)Or();return id(n)>2||id(cn)>3?"":" "}function U3(n,e){for(;--e&&Or()&&!(cn<48||cn>102||cn>57&&cn<65||cn>70&&cn<97););return Md(n,Km()+(e<6&&Ki()==32&&Or()==32))}function JE(n){for(;Or();)switch(cn){case n:return gr;case 34:case 39:n!==34&&n!==39&&JE(cn);break;case 40:n===41&&JE(n);break;case 92:Or();break}return gr}function B3(n,e){for(;Or()&&n+cn!==57;)if(n+cn===84&&Ki()===47)break;return"/*"+Md(e,gr-1)+"*"+ny(n===47?n:Or())}function F3(n){for(;!id(Ki());)Or();return Md(n,gr)}function j3(n){return ax(Qm("",null,null,null,[""],n=sx(n),0,[0],n))}function Qm(n,e,t,r,s,o,u,h,d){for(var f=0,g=0,_=u,v=0,T=0,w=0,I=1,x=1,H=1,V=0,F="",W=s,j=o,$=r,N=F;x;)switch(w=V,V=Or()){case 40:if(w!=108&&kn(N,_-1)==58){XE(N+=tt(Wm(V),"&","&\f"),"&\f")!=-1&&(H=-1);break}case 34:case 39:case 91:N+=Wm(V);break;case 9:case 10:case 13:case 32:N+=L3(w);break;case 92:N+=U3(Km()-1,7);continue;case 47:switch(Ki()){case 42:case 47:Pm(z3(B3(Or(),Km()),e,t),d);break;default:N+="/"}break;case 123*I:h[f++]=Li(N)*H;case 125*I:case 59:case 0:switch(V){case 0:case 125:x=0;case 59+g:H==-1&&(N=tt(N,/\f/g,"")),T>0&&Li(N)-_&&Pm(T>32?hR(N+";",r,t,_-1):hR(tt(N," ","")+";",r,t,_-2),d);break;case 59:N+=";";default:if(Pm($=cR(N,e,t,f,g,s,h,F,W=[],j=[],_),o),V===123)if(g===0)Qm(N,e,$,$,W,o,_,h,j);else switch(v===99&&kn(N,3)===110?100:v){case 100:case 108:case 109:case 115:Qm(n,$,$,r&&Pm(cR(n,$,$,0,0,s,h,F,s,W=[],_),j),s,j,_,h,r?W:j);break;default:Qm(N,$,$,$,[""],j,0,h,j)}}f=g=T=0,I=H=1,F=N="",_=u;break;case 58:_=1+Li(N),T=w;default:if(I<1){if(V==123)--I;else if(V==125&&I++==0&&V3()==125)continue}switch(N+=ny(V),V*I){case 38:H=g>0?1:(N+="\f",-1);break;case 44:h[f++]=(Li(N)-1)*H,H=1;break;case 64:Ki()===45&&(N+=Wm(Or())),v=Ki(),g=_=Li(F=N+=F3(Km())),V++;break;case 45:w===45&&Li(N)==2&&(I=0)}}return o}function cR(n,e,t,r,s,o,u,h,d,f,g){for(var _=s-1,v=s===0?o:[""],T=lw(v),w=0,I=0,x=0;w<r;++w)for(var H=0,V=rd(n,_+1,_=x3(I=u[w])),F=n;H<T;++H)(F=rx(I>0?v[H]+" "+V:tt(V,/&\f/g,v[H])))&&(d[x++]=F);return iy(n,e,t,s===0?aw:h,d,f,g)}function z3(n,e,t){return iy(n,e,t,tx,ny(M3()),rd(n,2,-2),0)}function hR(n,e,t,r){return iy(n,e,t,ow,rd(n,0,r),rd(n,r+1,-1),r)}function Qu(n,e){for(var t="",r=lw(n),s=0;s<r;s++)t+=e(n[s],s,n,e)||"";return t}function q3(n,e,t,r){switch(n.type){case P3:if(n.children.length)break;case C3:case ow:return n.return=n.return||n.value;case tx:return"";case nx:return n.return=n.value+"{"+Qu(n.children,r)+"}";case aw:n.value=n.props.join(",")}return Li(t=Qu(n.children,r))?n.return=n.value+"{"+t+"}":""}function H3(n){var e=lw(n);return function(t,r,s,o){for(var u="",h=0;h<e;h++)u+=n[h](t,r,s,o)||"";return u}}function $3(n){return function(e){e.root||(e=e.return)&&n(e)}}function ox(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var G3=function(e,t,r){for(var s=0,o=0;s=o,o=Ki(),s===38&&o===12&&(t[r]=1),!id(o);)Or();return Md(e,gr)},K3=function(e,t){var r=-1,s=44;do switch(id(s)){case 0:s===38&&Ki()===12&&(t[r]=1),e[r]+=G3(gr-1,t,r);break;case 2:e[r]+=Wm(s);break;case 4:if(s===44){e[++r]=Ki()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=ny(s)}while(s=Or());return e},W3=function(e,t){return ax(K3(sx(e),t))},fR=new WeakMap,Q3=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,s=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!fR.get(r))&&!s){fR.set(e,!0);for(var o=[],u=W3(t,o),h=r.props,d=0,f=0;d<u.length;d++)for(var g=0;g<h.length;g++,f++)e.props[f]=o[d]?u[d].replace(/&\f/g,h[g]):h[g]+" "+u[d]}}},Y3=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function lx(n,e){switch(D3(n,e)){case 5103:return et+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return et+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return et+n+gg+n+qn+n+n;case 6828:case 4268:return et+n+qn+n+n;case 6165:return et+n+qn+"flex-"+n+n;case 5187:return et+n+tt(n,/(\w+).+(:[^]+)/,et+"box-$1$2"+qn+"flex-$1$2")+n;case 5443:return et+n+qn+"flex-item-"+tt(n,/flex-|-self/,"")+n;case 4675:return et+n+qn+"flex-line-pack"+tt(n,/align-content|flex-|-self/,"")+n;case 5548:return et+n+qn+tt(n,"shrink","negative")+n;case 5292:return et+n+qn+tt(n,"basis","preferred-size")+n;case 6060:return et+"box-"+tt(n,"-grow","")+et+n+qn+tt(n,"grow","positive")+n;case 4554:return et+tt(n,/([^-])(transform)/g,"$1"+et+"$2")+n;case 6187:return tt(tt(tt(n,/(zoom-|grab)/,et+"$1"),/(image-set)/,et+"$1"),n,"")+n;case 5495:case 3959:return tt(n,/(image-set\([^]*)/,et+"$1$`$1");case 4968:return tt(tt(n,/(.+:)(flex-)?(.*)/,et+"box-pack:$3"+qn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+et+n+n;case 4095:case 3583:case 4068:case 2532:return tt(n,/(.+)-inline(.+)/,et+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Li(n)-1-e>6)switch(kn(n,e+1)){case 109:if(kn(n,e+4)!==45)break;case 102:return tt(n,/(.+:)(.+)-([^]+)/,"$1"+et+"$2-$3$1"+gg+(kn(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~XE(n,"stretch")?lx(tt(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(kn(n,e+1)!==115)break;case 6444:switch(kn(n,Li(n)-3-(~XE(n,"!important")&&10))){case 107:return tt(n,":",":"+et)+n;case 101:return tt(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+et+(kn(n,14)===45?"inline-":"")+"box$3$1"+et+"$2$3$1"+qn+"$2box$3")+n}break;case 5936:switch(kn(n,e+11)){case 114:return et+n+qn+tt(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return et+n+qn+tt(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return et+n+qn+tt(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return et+n+qn+n+n}return n}var X3=function(e,t,r,s){if(e.length>-1&&!e.return)switch(e.type){case ow:e.return=lx(e.value,e.length);break;case nx:return Qu([gf(e,{value:tt(e.value,"@","@"+et)})],s);case aw:if(e.length)return k3(e.props,function(o){switch(N3(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Qu([gf(e,{props:[tt(o,/:(read-\w+)/,":"+gg+"$1")]})],s);case"::placeholder":return Qu([gf(e,{props:[tt(o,/:(plac\w+)/,":"+et+"input-$1")]}),gf(e,{props:[tt(o,/:(plac\w+)/,":"+gg+"$1")]}),gf(e,{props:[tt(o,/:(plac\w+)/,qn+"input-$1")]})],s)}return""})}},J3=[X3],Z3=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(I){var x=I.getAttribute("data-emotion");x.indexOf(" ")!==-1&&(document.head.appendChild(I),I.setAttribute("data-s",""))})}var s=e.stylisPlugins||J3,o={},u,h=[];u=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(I){for(var x=I.getAttribute("data-emotion").split(" "),H=1;H<x.length;H++)o[x[H]]=!0;h.push(I)});var d,f=[Q3,Y3];{var g,_=[q3,$3(function(I){g.insert(I)})],v=H3(f.concat(s,_)),T=function(x){return Qu(j3(x),v)};d=function(x,H,V,F){g=V,T(x?x+"{"+H.styles+"}":H.styles),F&&(w.inserted[H.name]=!0)}}var w={key:t,sheet:new R3({key:t,container:u,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:d};return w.sheet.hydrate(h),w},eU=!0;function tU(n,e,t){var r="";return t.split(" ").forEach(function(s){n[s]!==void 0?e.push(n[s]+";"):s&&(r+=s+" ")}),r}var ux=function(e,t,r){var s=e.key+"-"+t.name;(r===!1||eU===!1)&&e.registered[s]===void 0&&(e.registered[s]=t.styles)},nU=function(e,t,r){ux(e,t,r);var s=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var o=t;do e.insert(t===o?"."+s:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function rU(n){for(var e=0,t,r=0,s=n.length;s>=4;++r,s-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var iU={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},sU=/[A-Z]|^ms/g,aU=/_EMO_([^_]+?)_([^]*?)_EMO_/g,cx=function(e){return e.charCodeAt(1)===45},dR=function(e){return e!=null&&typeof e!="boolean"},gE=ox(function(n){return cx(n)?n:n.replace(sU,"-$&").toLowerCase()}),pR=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(aU,function(r,s,o){return Ui={name:s,styles:o,next:Ui},s})}return iU[e]!==1&&!cx(e)&&typeof t=="number"&&t!==0?t+"px":t};function sd(n,e,t){if(t==null)return"";var r=t;if(r.__emotion_styles!==void 0)return r;switch(typeof t){case"boolean":return"";case"object":{var s=t;if(s.anim===1)return Ui={name:s.name,styles:s.styles,next:Ui},s.name;var o=t;if(o.styles!==void 0){var u=o.next;if(u!==void 0)for(;u!==void 0;)Ui={name:u.name,styles:u.styles,next:Ui},u=u.next;var h=o.styles+";";return h}return oU(n,e,t)}case"function":{if(n!==void 0){var d=Ui,f=t(n);return Ui=d,sd(n,e,f)}break}}var g=t;if(e==null)return g;var _=e[g];return _!==void 0?_:g}function oU(n,e,t){var r="";if(Array.isArray(t))for(var s=0;s<t.length;s++)r+=sd(n,e,t[s])+";";else for(var o in t){var u=t[o];if(typeof u!="object"){var h=u;e!=null&&e[h]!==void 0?r+=o+"{"+e[h]+"}":dR(h)&&(r+=gE(o)+":"+pR(o,h)+";")}else if(Array.isArray(u)&&typeof u[0]=="string"&&(e==null||e[u[0]]===void 0))for(var d=0;d<u.length;d++)dR(u[d])&&(r+=gE(o)+":"+pR(o,u[d])+";");else{var f=sd(n,e,u);switch(o){case"animation":case"animationName":{r+=gE(o)+":"+f+";";break}default:r+=o+"{"+f+"}"}}}return r}var mR=/label:\s*([^\s;{]+)\s*(;|$)/g,Ui;function hx(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var r=!0,s="";Ui=void 0;var o=n[0];if(o==null||o.raw===void 0)r=!1,s+=sd(t,e,o);else{var u=o;s+=u[0]}for(var h=1;h<n.length;h++)if(s+=sd(t,e,n[h]),r){var d=o;s+=d[h]}mR.lastIndex=0;for(var f="",g;(g=mR.exec(s))!==null;)f+="-"+g[1];var _=rU(s)+f;return{name:_,styles:s,next:Ui}}var lU=function(e){return e()},uU=zE.useInsertionEffect?zE.useInsertionEffect:!1,cU=uU||lU,fx=Q.createContext(typeof HTMLElement<"u"?Z3({key:"css"}):null);fx.Provider;var hU=function(e){return Q.forwardRef(function(t,r){var s=Q.useContext(fx);return e(t,s,r)})},fU=Q.createContext({}),dU=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,pU=ox(function(n){return dU.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),mU=pU,gU=function(e){return e!=="theme"},gR=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?mU:gU},yR=function(e,t,r){var s;if(t){var o=t.shouldForwardProp;s=e.__emotion_forwardProp&&o?function(u){return e.__emotion_forwardProp(u)&&o(u)}:o}return typeof s!="function"&&r&&(s=e.__emotion_forwardProp),s},yU=function(e){var t=e.cache,r=e.serialized,s=e.isStringTag;return ux(t,r,s),cU(function(){return nU(t,r,s)}),null},_U=function n(e,t){var r=e.__emotion_real===e,s=r&&e.__emotion_base||e,o,u;t!==void 0&&(o=t.label,u=t.target);var h=yR(e,t,r),d=h||gR(s),f=!d("as");return function(){var g=arguments,_=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&_.push("label:"+o+";"),g[0]==null||g[0].raw===void 0)_.push.apply(_,g);else{var v=g[0];_.push(v[0]);for(var T=g.length,w=1;w<T;w++)_.push(g[w],v[w])}var I=hU(function(x,H,V){var F=f&&x.as||s,W="",j=[],$=x;if(x.theme==null){$={};for(var N in x)$[N]=x[N];$.theme=Q.useContext(fU)}typeof x.className=="string"?W=tU(H.registered,j,x.className):x.className!=null&&(W=x.className+" ");var C=hx(_.concat(j),H.registered,$);W+=H.key+"-"+C.name,u!==void 0&&(W+=" "+u);var P=f&&h===void 0?gR(F):d,L={};for(var O in x)f&&O==="as"||P(O)&&(L[O]=x[O]);return L.className=W,V&&(L.ref=V),Q.createElement(Q.Fragment,null,Q.createElement(yU,{cache:H,serialized:C,isStringTag:typeof F=="string"}),Q.createElement(F,L))});return I.displayName=o!==void 0?o:"Styled("+(typeof s=="string"?s:s.displayName||s.name||"Component")+")",I.defaultProps=e.defaultProps,I.__emotion_real=I,I.__emotion_base=s,I.__emotion_styles=_,I.__emotion_forwardProp=h,Object.defineProperty(I,"toString",{value:function(){return"."+u}}),I.withComponent=function(x,H){var V=n(x,YE({},t,H,{shouldForwardProp:yR(I,H,!0)}));return V.apply(void 0,_)},I}},vU=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],ZE=_U.bind(null);vU.forEach(function(n){ZE[n]=ZE(n)});var EU=AP();const Tt=Yb(EU);function bU(n,e){return ZE(n,e)}function wU(n,e){Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))}const _R=[];function yl(n){return _R[0]=n,hx(_R)}var yE={exports:{}},pt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vR;function TU(){if(vR)return pt;vR=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),T=Symbol.for("react.client.reference");function w(I){if(typeof I=="object"&&I!==null){var x=I.$$typeof;switch(x){case n:switch(I=I.type,I){case t:case s:case r:case d:case f:case v:return I;default:switch(I=I&&I.$$typeof,I){case u:case h:case _:case g:return I;case o:return I;default:return x}}case e:return x}}}return pt.ContextConsumer=o,pt.ContextProvider=u,pt.Element=n,pt.ForwardRef=h,pt.Fragment=t,pt.Lazy=_,pt.Memo=g,pt.Portal=e,pt.Profiler=s,pt.StrictMode=r,pt.Suspense=d,pt.SuspenseList=f,pt.isContextConsumer=function(I){return w(I)===o},pt.isContextProvider=function(I){return w(I)===u},pt.isElement=function(I){return typeof I=="object"&&I!==null&&I.$$typeof===n},pt.isForwardRef=function(I){return w(I)===h},pt.isFragment=function(I){return w(I)===t},pt.isLazy=function(I){return w(I)===_},pt.isMemo=function(I){return w(I)===g},pt.isPortal=function(I){return w(I)===e},pt.isProfiler=function(I){return w(I)===s},pt.isStrictMode=function(I){return w(I)===r},pt.isSuspense=function(I){return w(I)===d},pt.isSuspenseList=function(I){return w(I)===f},pt.isValidElementType=function(I){return typeof I=="string"||typeof I=="function"||I===t||I===s||I===r||I===d||I===f||typeof I=="object"&&I!==null&&(I.$$typeof===_||I.$$typeof===g||I.$$typeof===u||I.$$typeof===o||I.$$typeof===h||I.$$typeof===T||I.getModuleId!==void 0)},pt.typeOf=w,pt}var ER;function SU(){return ER||(ER=1,yE.exports=TU()),yE.exports}var dx=SU();function Rs(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function px(n){if(Q.isValidElement(n)||dx.isValidElementType(n)||!Rs(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=px(n[t])}),e}function Dr(n,e,t={clone:!0}){const r=t.clone?{...n}:n;return Rs(n)&&Rs(e)&&Object.keys(e).forEach(s=>{Q.isValidElement(e[s])||dx.isValidElementType(e[s])?r[s]=e[s]:Rs(e[s])&&Object.prototype.hasOwnProperty.call(n,s)&&Rs(n[s])?r[s]=Dr(n[s],e[s],t):t.clone?r[s]=Rs(e[s])?px(e[s]):e[s]:r[s]=e[s]}),r}const AU=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,r)=>t.val-r.val),e.reduce((t,r)=>({...t,[r.key]:r.val}),{})};function IU(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:r=5,...s}=n,o=AU(e),u=Object.keys(o);function h(v){return`@media (min-width:${typeof e[v]=="number"?e[v]:v}${t})`}function d(v){return`@media (max-width:${(typeof e[v]=="number"?e[v]:v)-r/100}${t})`}function f(v,T){const w=u.indexOf(T);return`@media (min-width:${typeof e[v]=="number"?e[v]:v}${t}) and (max-width:${(w!==-1&&typeof e[u[w]]=="number"?e[u[w]]:T)-r/100}${t})`}function g(v){return u.indexOf(v)+1<u.length?f(v,u[u.indexOf(v)+1]):h(v)}function _(v){const T=u.indexOf(v);return T===0?h(u[1]):T===u.length-1?d(u[T]):f(v,u[u.indexOf(v)+1]).replace("@media","@media not all and")}return{keys:u,values:o,up:h,down:d,between:f,only:g,not:_,unit:t,...s}}function bR(n,e){if(!n.containerQueries)return e;const t=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,s)=>{const o=/min-width:\s*([0-9.]+)/;return+(r.match(o)?.[1]||0)-+(s.match(o)?.[1]||0)});return t.length?t.reduce((r,s)=>{const o=e[s];return delete r[s],r[s]=o,r},{...e}):e}function RU(n,e){return e==="@"||e.startsWith("@")&&(n.some(t=>e.startsWith(`@${t}`))||!!e.match(/^@\d/))}function CU(n,e){const t=e.match(/^@([^/]+)?\/?(.+)?$/);if(!t)return null;const[,r,s]=t,o=Number.isNaN(+r)?r||0:+r;return n.containerQueries(s).up(o)}function PU(n){const e=(o,u)=>o.replace("@media",u?`@container ${u}`:"@container");function t(o,u){o.up=(...h)=>e(n.breakpoints.up(...h),u),o.down=(...h)=>e(n.breakpoints.down(...h),u),o.between=(...h)=>e(n.breakpoints.between(...h),u),o.only=(...h)=>e(n.breakpoints.only(...h),u),o.not=(...h)=>{const d=e(n.breakpoints.not(...h),u);return d.includes("not all and")?d.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):d}}const r={},s=o=>(t(r,o),r);return t(s),{...n,containerQueries:s}}const xU={borderRadius:4};function Uf(n,e){return e?Dr(n,e,{clone:!1}):n}const sy={xs:0,sm:600,md:900,lg:1200,xl:1536},wR={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${sy[n]}px)`},OU={containerQueries:n=>({up:e=>{let t=typeof e=="number"?e:sy[e]||e;return typeof t=="number"&&(t=`${t}px`),n?`@container ${n} (min-width:${t})`:`@container (min-width:${t})`}})};function ks(n,e,t){const r=n.theme||{};if(Array.isArray(e)){const o=r.breakpoints||wR;return e.reduce((u,h,d)=>(u[o.up(o.keys[d])]=t(e[d]),u),{})}if(typeof e=="object"){const o=r.breakpoints||wR;return Object.keys(e).reduce((u,h)=>{if(RU(o.keys,h)){const d=CU(r.containerQueries?r:OU,h);d&&(u[d]=t(e[h],h))}else if(Object.keys(o.values||sy).includes(h)){const d=o.up(h);u[d]=t(e[h],h)}else{const d=h;u[d]=e[d]}return u},{})}return t(e)}function DU(n={}){return n.keys?.reduce((t,r)=>{const s=n.up(r);return t[s]={},t},{})||{}}function TR(n,e){return n.reduce((t,r)=>{const s=t[r];return(!s||Object.keys(s).length===0)&&delete t[r],t},e)}function Ga(n){if(typeof n!="string")throw new Error(wl(7));return n.charAt(0).toUpperCase()+n.slice(1)}function ay(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const r=`vars.${e}`.split(".").reduce((s,o)=>s&&s[o]?s[o]:null,n);if(r!=null)return r}return e.split(".").reduce((r,s)=>r&&r[s]!=null?r[s]:null,n)}function yg(n,e,t,r=t){let s;return typeof n=="function"?s=n(t):Array.isArray(n)?s=n[t]||r:s=ay(n,t)||r,e&&(s=e(s,r,n)),s}function tn(n){const{prop:e,cssProperty:t=n.prop,themeKey:r,transform:s}=n,o=u=>{if(u[e]==null)return null;const h=u[e],d=u.theme,f=ay(d,r)||{};return ks(u,h,_=>{let v=yg(f,s,_);return _===v&&typeof _=="string"&&(v=yg(f,s,`${e}${_==="default"?"":Ga(_)}`,_)),t===!1?v:{[t]:v}})};return o.propTypes={},o.filterProps=[e],o}function NU(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const kU={m:"margin",p:"padding"},MU={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},SR={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},VU=NU(n=>{if(n.length>2)if(SR[n])n=SR[n];else return[n];const[e,t]=n.split(""),r=kU[e],s=MU[t]||"";return Array.isArray(s)?s.map(o=>r+o):[r+s]}),uw=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],cw=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...uw,...cw];function Vd(n,e,t,r){const s=ay(n,e,!0)??t;return typeof s=="number"||typeof s=="string"?o=>typeof o=="string"?o:typeof s=="string"?s.startsWith("var(")&&o===0?0:s.startsWith("var(")&&o===1?s:`calc(${o} * ${s})`:s*o:Array.isArray(s)?o=>{if(typeof o=="string")return o;const u=Math.abs(o),h=s[u];return o>=0?h:typeof h=="number"?-h:typeof h=="string"&&h.startsWith("var(")?`calc(-1 * ${h})`:`-${h}`}:typeof s=="function"?s:()=>{}}function hw(n){return Vd(n,"spacing",8)}function Ld(n,e){return typeof e=="string"||e==null?e:n(e)}function LU(n,e){return t=>n.reduce((r,s)=>(r[s]=Ld(e,t),r),{})}function UU(n,e,t,r){if(!e.includes(t))return null;const s=VU(t),o=LU(s,r),u=n[t];return ks(n,u,o)}function mx(n,e){const t=hw(n.theme);return Object.keys(n).map(r=>UU(n,e,r,t)).reduce(Uf,{})}function Bt(n){return mx(n,uw)}Bt.propTypes={};Bt.filterProps=uw;function Ft(n){return mx(n,cw)}Ft.propTypes={};Ft.filterProps=cw;function gx(n=8,e=hw({spacing:n})){if(n.mui)return n;const t=(...r)=>(r.length===0?[1]:r).map(o=>{const u=e(o);return typeof u=="number"?`${u}px`:u}).join(" ");return t.mui=!0,t}function oy(...n){const e=n.reduce((r,s)=>(s.filterProps.forEach(o=>{r[o]=s}),r),{}),t=r=>Object.keys(r).reduce((s,o)=>e[o]?Uf(s,e[o](r)):s,{});return t.propTypes={},t.filterProps=n.reduce((r,s)=>r.concat(s.filterProps),[]),t}function Kr(n){return typeof n!="number"?n:`${n}px solid`}function Jr(n,e){return tn({prop:n,themeKey:"borders",transform:e})}const BU=Jr("border",Kr),FU=Jr("borderTop",Kr),jU=Jr("borderRight",Kr),zU=Jr("borderBottom",Kr),qU=Jr("borderLeft",Kr),HU=Jr("borderColor"),$U=Jr("borderTopColor"),GU=Jr("borderRightColor"),KU=Jr("borderBottomColor"),WU=Jr("borderLeftColor"),QU=Jr("outline",Kr),YU=Jr("outlineColor"),ly=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=Vd(n.theme,"shape.borderRadius",4),t=r=>({borderRadius:Ld(e,r)});return ks(n,n.borderRadius,t)}return null};ly.propTypes={};ly.filterProps=["borderRadius"];oy(BU,FU,jU,zU,qU,HU,$U,GU,KU,WU,ly,QU,YU);const uy=n=>{if(n.gap!==void 0&&n.gap!==null){const e=Vd(n.theme,"spacing",8),t=r=>({gap:Ld(e,r)});return ks(n,n.gap,t)}return null};uy.propTypes={};uy.filterProps=["gap"];const cy=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=Vd(n.theme,"spacing",8),t=r=>({columnGap:Ld(e,r)});return ks(n,n.columnGap,t)}return null};cy.propTypes={};cy.filterProps=["columnGap"];const hy=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=Vd(n.theme,"spacing",8),t=r=>({rowGap:Ld(e,r)});return ks(n,n.rowGap,t)}return null};hy.propTypes={};hy.filterProps=["rowGap"];const XU=tn({prop:"gridColumn"}),JU=tn({prop:"gridRow"}),ZU=tn({prop:"gridAutoFlow"}),e6=tn({prop:"gridAutoColumns"}),t6=tn({prop:"gridAutoRows"}),n6=tn({prop:"gridTemplateColumns"}),r6=tn({prop:"gridTemplateRows"}),i6=tn({prop:"gridTemplateAreas"}),s6=tn({prop:"gridArea"});oy(uy,cy,hy,XU,JU,ZU,e6,t6,n6,r6,i6,s6);function Yu(n,e){return e==="grey"?e:n}const a6=tn({prop:"color",themeKey:"palette",transform:Yu}),o6=tn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Yu}),l6=tn({prop:"backgroundColor",themeKey:"palette",transform:Yu});oy(a6,o6,l6);function Pr(n){return n<=1&&n!==0?`${n*100}%`:n}const u6=tn({prop:"width",transform:Pr}),fw=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{const r=n.theme?.breakpoints?.values?.[t]||sy[t];return r?n.theme?.breakpoints?.unit!=="px"?{maxWidth:`${r}${n.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:Pr(t)}};return ks(n,n.maxWidth,e)}return null};fw.filterProps=["maxWidth"];const c6=tn({prop:"minWidth",transform:Pr}),h6=tn({prop:"height",transform:Pr}),f6=tn({prop:"maxHeight",transform:Pr}),d6=tn({prop:"minHeight",transform:Pr});tn({prop:"size",cssProperty:"width",transform:Pr});tn({prop:"size",cssProperty:"height",transform:Pr});const p6=tn({prop:"boxSizing"});oy(u6,fw,c6,h6,f6,d6,p6);const fy={border:{themeKey:"borders",transform:Kr},borderTop:{themeKey:"borders",transform:Kr},borderRight:{themeKey:"borders",transform:Kr},borderBottom:{themeKey:"borders",transform:Kr},borderLeft:{themeKey:"borders",transform:Kr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Kr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:ly},color:{themeKey:"palette",transform:Yu},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Yu},backgroundColor:{themeKey:"palette",transform:Yu},p:{style:Ft},pt:{style:Ft},pr:{style:Ft},pb:{style:Ft},pl:{style:Ft},px:{style:Ft},py:{style:Ft},padding:{style:Ft},paddingTop:{style:Ft},paddingRight:{style:Ft},paddingBottom:{style:Ft},paddingLeft:{style:Ft},paddingX:{style:Ft},paddingY:{style:Ft},paddingInline:{style:Ft},paddingInlineStart:{style:Ft},paddingInlineEnd:{style:Ft},paddingBlock:{style:Ft},paddingBlockStart:{style:Ft},paddingBlockEnd:{style:Ft},m:{style:Bt},mt:{style:Bt},mr:{style:Bt},mb:{style:Bt},ml:{style:Bt},mx:{style:Bt},my:{style:Bt},margin:{style:Bt},marginTop:{style:Bt},marginRight:{style:Bt},marginBottom:{style:Bt},marginLeft:{style:Bt},marginX:{style:Bt},marginY:{style:Bt},marginInline:{style:Bt},marginInlineStart:{style:Bt},marginInlineEnd:{style:Bt},marginBlock:{style:Bt},marginBlockStart:{style:Bt},marginBlockEnd:{style:Bt},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:uy},rowGap:{style:hy},columnGap:{style:cy},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Pr},maxWidth:{style:fw},minWidth:{transform:Pr},height:{transform:Pr},maxHeight:{transform:Pr},minHeight:{transform:Pr},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function m6(...n){const e=n.reduce((r,s)=>r.concat(Object.keys(s)),[]),t=new Set(e);return n.every(r=>t.size===Object.keys(r).length)}function g6(n,e){return typeof n=="function"?n(e):n}function y6(){function n(t,r,s,o){const u={[t]:r,theme:s},h=o[t];if(!h)return{[t]:r};const{cssProperty:d=t,themeKey:f,transform:g,style:_}=h;if(r==null)return null;if(f==="typography"&&r==="inherit")return{[t]:r};const v=ay(s,f)||{};return _?_(u):ks(u,r,w=>{let I=yg(v,g,w);return w===I&&typeof w=="string"&&(I=yg(v,g,`${t}${w==="default"?"":Ga(w)}`,w)),d===!1?I:{[d]:I}})}function e(t){const{sx:r,theme:s={},nested:o}=t||{};if(!r)return null;const u=s.unstable_sxConfig??fy;function h(d){let f=d;if(typeof d=="function")f=d(s);else if(typeof d!="object")return d;if(!f)return null;const g=DU(s.breakpoints),_=Object.keys(g);let v=g;return Object.keys(f).forEach(T=>{const w=g6(f[T],s);if(w!=null)if(typeof w=="object")if(u[T])v=Uf(v,n(T,w,s,u));else{const I=ks({theme:s},w,x=>({[T]:x}));m6(I,w)?v[T]=e({sx:w,theme:s,nested:!0}):v=Uf(v,I)}else v=Uf(v,n(T,w,s,u))}),!o&&s.modularCssLayers?{"@layer sx":bR(s,TR(_,v))}:bR(s,TR(_,v))}return Array.isArray(r)?r.map(h):h(r)}return e}const sc=y6();sc.filterProps=["sx"];function _6(n,e){const t=this;if(t.vars){if(!t.colorSchemes?.[n]||typeof t.getColorSchemeSelector!="function")return{};let r=t.getColorSchemeSelector(n);return r==="&"?e:((r.includes("data-")||r.includes("."))&&(r=`*:where(${r.replace(/\s*&$/,"")}) &`),{[r]:e})}return t.palette.mode===n?e:{}}function yx(n={},...e){const{breakpoints:t={},palette:r={},spacing:s,shape:o={},...u}=n,h=IU(t),d=gx(s);let f=Dr({breakpoints:h,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:d,shape:{...xU,...o}},u);return f=PU(f),f.applyStyles=_6,f=e.reduce((g,_)=>Dr(g,_),f),f.unstable_sxConfig={...fy,...u?.unstable_sxConfig},f.unstable_sx=function(_){return sc({sx:_,theme:this})},f}const AR=n=>n,v6=()=>{let n=AR;return{configure(e){n=e},generate(e){return n(e)},reset(){n=AR}}},E6=v6();function _x(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=_x(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Fa(){for(var n,e,t=0,r="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=_x(n))&&(r&&(r+=" "),r+=e);return r}const b6={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function dw(n,e,t="Mui"){const r=b6[e];return r?`${t}-${r}`:`${E6.generate(n)}-${e}`}function vx(n,e,t="Mui"){const r={};return e.forEach(s=>{r[s]=dw(n,s,t)}),r}function Ex(n){const{variants:e,...t}=n,r={variants:e,style:yl(t),isProcessed:!0};return r.style===t||e&&e.forEach(s=>{typeof s.style!="function"&&(s.style=yl(s.style))}),r}const w6=yx();function _E(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}function hl(n,e){return e&&n&&typeof n=="object"&&n.styles&&!n.styles.startsWith("@layer")&&(n.styles=`@layer ${e}{${String(n.styles)}}`),n}function T6(n){return n?(e,t)=>t[n]:null}function S6(n,e,t){n.theme=R6(n.theme)?t:n.theme[e]||n.theme}function Ym(n,e,t){const r=typeof e=="function"?e(n):e;if(Array.isArray(r))return r.flatMap(s=>Ym(n,s,t));if(Array.isArray(r?.variants)){let s;if(r.isProcessed)s=t?hl(r.style,t):r.style;else{const{variants:o,...u}=r;s=t?hl(yl(u),t):u}return bx(n,r.variants,[s],t)}return r?.isProcessed?t?hl(yl(r.style),t):r.style:t?hl(yl(r),t):r}function bx(n,e,t=[],r=void 0){let s;e:for(let o=0;o<e.length;o+=1){const u=e[o];if(typeof u.props=="function"){if(s??={...n,...n.ownerState,ownerState:n.ownerState},!u.props(s))continue}else for(const h in u.props)if(n[h]!==u.props[h]&&n.ownerState?.[h]!==u.props[h])continue e;typeof u.style=="function"?(s??={...n,...n.ownerState,ownerState:n.ownerState},t.push(r?hl(yl(u.style(s)),r):u.style(s))):t.push(r?hl(yl(u.style),r):u.style)}return t}function A6(n={}){const{themeId:e,defaultTheme:t=w6,rootShouldForwardProp:r=_E,slotShouldForwardProp:s=_E}=n;function o(h){S6(h,e,t)}return(h,d={})=>{wU(h,$=>$.filter(N=>N!==sc));const{name:f,slot:g,skipVariantsResolver:_,skipSx:v,overridesResolver:T=T6(P6(g)),...w}=d,I=f&&f.startsWith("Mui")||g?"components":"custom",x=_!==void 0?_:g&&g!=="Root"&&g!=="root"||!1,H=v||!1;let V=_E;g==="Root"||g==="root"?V=r:g?V=s:C6(h)&&(V=void 0);const F=bU(h,{shouldForwardProp:V,label:I6(),...w}),W=$=>{if($.__emotion_real===$)return $;if(typeof $=="function")return function(C){return Ym(C,$,C.theme.modularCssLayers?I:void 0)};if(Rs($)){const N=Ex($);return function(P){return N.variants?Ym(P,N,P.theme.modularCssLayers?I:void 0):P.theme.modularCssLayers?hl(N.style,I):N.style}}return $},j=(...$)=>{const N=[],C=$.map(W),P=[];if(N.push(o),f&&T&&P.push(function(R){const M=R.theme.components?.[f]?.styleOverrides;if(!M)return null;const q={};for(const J in M)q[J]=Ym(R,M[J],R.theme.modularCssLayers?"theme":void 0);return T(R,q)}),f&&!x&&P.push(function(R){const M=R.theme?.components?.[f]?.variants;return M?bx(R,M,[],R.theme.modularCssLayers?"theme":void 0):null}),H||P.push(sc),Array.isArray(C[0])){const b=C.shift(),R=new Array(N.length).fill(""),G=new Array(P.length).fill("");let M;M=[...R,...b,...G],M.raw=[...R,...b.raw,...G],N.unshift(M)}const L=[...N,...C,...P],O=F(...L);return h.muiName&&(O.muiName=h.muiName),O};return F.withConfig&&(j.withConfig=F.withConfig),j}}function I6(n,e){return void 0}function R6(n){for(const e in n)return!1;return!0}function C6(n){return typeof n=="string"&&n.charCodeAt(0)>96}function P6(n){return n&&n.charAt(0).toLowerCase()+n.slice(1)}function eb(n,e,t=!1){const r={...e};for(const s in n)if(Object.prototype.hasOwnProperty.call(n,s)){const o=s;if(o==="components"||o==="slots")r[o]={...n[o],...r[o]};else if(o==="componentsProps"||o==="slotProps"){const u=n[o],h=e[o];if(!h)r[o]=u||{};else if(!u)r[o]=h;else{r[o]={...h};for(const d in u)if(Object.prototype.hasOwnProperty.call(u,d)){const f=d;r[o][f]=eb(u[f],h[f],t)}}}else o==="className"&&t&&e.className?r.className=Fa(n?.className,e?.className):o==="style"&&t&&e.style?r.style={...n?.style,...e?.style}:r[o]===void 0&&(r[o]=n[o])}return r}function wx(n,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(n,t))}function pw(n,e=0,t=1){return wx(n,e,t)}function x6(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(r=>r+r)),t?`rgb${t.length===4?"a":""}(${t.map((r,s)=>s<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Ka(n){if(n.type)return n;if(n.charAt(0)==="#")return Ka(x6(n));const e=n.indexOf("("),t=n.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(t))throw new Error(wl(9,n));let r=n.substring(e+1,n.length-1),s;if(t==="color"){if(r=r.split(" "),s=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(s))throw new Error(wl(10,s))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:t,values:r,colorSpace:s}}const O6=n=>{const e=Ka(n);return e.values.slice(0,3).map((t,r)=>e.type.includes("hsl")&&r!==0?`${t}%`:t).join(" ")},Pf=(n,e)=>{try{return O6(n)}catch{return n}};function dy(n){const{type:e,colorSpace:t}=n;let{values:r}=n;return e.includes("rgb")?r=r.map((s,o)=>o<3?parseInt(s,10):s):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${t} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function Tx(n){n=Ka(n);const{values:e}=n,t=e[0],r=e[1]/100,s=e[2]/100,o=r*Math.min(s,1-s),u=(f,g=(f+t/30)%12)=>s-o*Math.max(Math.min(g-3,9-g,1),-1);let h="rgb";const d=[Math.round(u(0)*255),Math.round(u(8)*255),Math.round(u(4)*255)];return n.type==="hsla"&&(h+="a",d.push(e[3])),dy({type:h,values:d})}function tb(n){n=Ka(n);let e=n.type==="hsl"||n.type==="hsla"?Ka(Tx(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function D6(n,e){const t=tb(n),r=tb(e);return(Math.max(t,r)+.05)/(Math.min(t,r)+.05)}function Sx(n,e){return n=Ka(n),e=pw(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,dy(n)}function Zo(n,e,t){try{return Sx(n,e)}catch{return n}}function py(n,e){if(n=Ka(n),e=pw(e),n.type.includes("hsl"))n.values[2]*=1-e;else if(n.type.includes("rgb")||n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]*=1-e;return dy(n)}function at(n,e,t){try{return py(n,e)}catch{return n}}function my(n,e){if(n=Ka(n),e=pw(e),n.type.includes("hsl"))n.values[2]+=(100-n.values[2])*e;else if(n.type.includes("rgb"))for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return dy(n)}function ot(n,e,t){try{return my(n,e)}catch{return n}}function N6(n,e=.15){return tb(n)>.5?py(n,e):my(n,e)}function xm(n,e,t){try{return N6(n,e)}catch{return n}}const k6=Q.createContext(),M6=()=>Q.useContext(k6)??!1,V6=Q.createContext(void 0);function L6(n){const{theme:e,name:t,props:r}=n;if(!e||!e.components||!e.components[t])return r;const s=e.components[t];return s.defaultProps?eb(s.defaultProps,r,e.components.mergeClassNameAndStyle):!s.styleOverrides&&!s.variants?eb(s,r,e.components.mergeClassNameAndStyle):r}function U6({props:n,name:e}){const t=Q.useContext(V6);return L6({props:n,name:e,theme:{components:t}})}let IR=0;function B6(n){const[e,t]=Q.useState(n),r=n||e;return Q.useEffect(()=>{e==null&&(IR+=1,t(`mui-${IR}`))},[e]),r}const F6={...zE},RR=F6.useId;function Ax(n){if(RR!==void 0){const e=RR();return n??e}return B6(n)}const CR={theme:void 0};function j6(n){let e,t;return function(s){let o=e;return(o===void 0||s.theme!==t)&&(CR.theme=s.theme,o=Ex(n(CR)),e=o,t=s.theme),o}}function z6(n=""){function e(...r){if(!r.length)return"";const s=r[0];return typeof s=="string"&&!s.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${n?`${n}-`:""}${s}${e(...r.slice(1))})`:`, ${s}`}return(r,...s)=>`var(--${n?`${n}-`:""}${r}${e(...s)})`}const PR=(n,e,t,r=[])=>{let s=n;e.forEach((o,u)=>{u===e.length-1?Array.isArray(s)?s[Number(o)]=t:s&&typeof s=="object"&&(s[o]=t):s&&typeof s=="object"&&(s[o]||(s[o]=r.includes(o)?[]:{}),s=s[o])})},q6=(n,e,t)=>{function r(s,o=[],u=[]){Object.entries(s).forEach(([h,d])=>{(!t||t&&!t([...o,h]))&&d!=null&&(typeof d=="object"&&Object.keys(d).length>0?r(d,[...o,h],Array.isArray(d)?[...u,h]:u):e([...o,h],d,u))})}r(n)},H6=(n,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>n.includes(r))||n[n.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function vE(n,e){const{prefix:t,shouldSkipGeneratingVar:r}=e||{},s={},o={},u={};return q6(n,(h,d,f)=>{if((typeof d=="string"||typeof d=="number")&&(!r||!r(h,d))){const g=`--${t?`${t}-`:""}${h.join("-")}`,_=H6(h,d);Object.assign(s,{[g]:_}),PR(o,h,`var(${g})`,f),PR(u,h,`var(${g}, ${_})`,f)}},h=>h[0]==="vars"),{css:s,vars:o,varsWithDefaults:u}}function $6(n,e={}){const{getSelector:t=H,disableCssColorScheme:r,colorSchemeSelector:s,enableContrastVars:o}=e,{colorSchemes:u={},components:h,defaultColorScheme:d="light",...f}=n,{vars:g,css:_,varsWithDefaults:v}=vE(f,e);let T=v;const w={},{[d]:I,...x}=u;if(Object.entries(x||{}).forEach(([W,j])=>{const{vars:$,css:N,varsWithDefaults:C}=vE(j,e);T=Dr(T,C),w[W]={css:N,vars:$}}),I){const{css:W,vars:j,varsWithDefaults:$}=vE(I,e);T=Dr(T,$),w[d]={css:W,vars:j}}function H(W,j){let $=s;if(s==="class"&&($=".%s"),s==="data"&&($="[data-%s]"),s?.startsWith("data-")&&!s.includes("%s")&&($=`[${s}="%s"]`),W){if($==="media")return n.defaultColorScheme===W?":root":{[`@media (prefers-color-scheme: ${u[W]?.palette?.mode||W})`]:{":root":j}};if($)return n.defaultColorScheme===W?`:root, ${$.replace("%s",String(W))}`:$.replace("%s",String(W))}return":root"}return{vars:T,generateThemeVars:()=>{let W={...g};return Object.entries(w).forEach(([,{vars:j}])=>{W=Dr(W,j)}),W},generateStyleSheets:()=>{const W=[],j=n.defaultColorScheme||"light";function $(P,L){Object.keys(L).length&&W.push(typeof P=="string"?{[P]:{...L}}:P)}$(t(void 0,{..._}),_);const{[j]:N,...C}=w;if(N){const{css:P}=N,L=u[j]?.palette?.mode,O=!r&&L?{colorScheme:L,...P}:{...P};$(t(j,{...O}),O)}return Object.entries(C).forEach(([P,{css:L}])=>{const O=u[P]?.palette?.mode,b=!r&&O?{colorScheme:O,...L}:{...L};$(t(P,{...b}),b)}),o&&W.push({":root":{"--__l-threshold":"0.7","--__l":"clamp(0, (l / var(--__l-threshold) - 1) * -infinity, 1)","--__a":"clamp(0.87, (l / var(--__l-threshold) - 1) * -infinity, 1)"}}),W}}}function G6(n){return function(t){return n==="media"?`@media (prefers-color-scheme: ${t})`:n?n.startsWith("data-")&&!n.includes("%s")?`[${n}="${t}"] &`:n==="class"?`.${t} &`:n==="data"?`[data-${t}] &`:`${n.replace("%s",t)} &`:"&"}}function Ix(n,e,t=void 0){const r={};for(const s in n){const o=n[s];let u="",h=!0;for(let d=0;d<o.length;d+=1){const f=o[d];f&&(u+=(h===!0?"":" ")+e(f),h=!1,t&&t[f]&&(u+=" "+t[f]))}r[s]=u}return r}function Rx(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:nd.white,default:nd.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const Cx=Rx();function Px(){return{text:{primary:nd.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:nd.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const nb=Px();function xR(n,e,t,r){const s=r.light||r,o=r.dark||r*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=my(n.main,s):e==="dark"&&(n.dark=py(n.main,o)))}function OR(n,e,t,r,s){const o=s.light||s,u=s.dark||s*1.5;e[t]||(e.hasOwnProperty(r)?e[t]=e[r]:t==="light"?e.light=`color-mix(in ${n}, ${e.main}, #fff ${(o*100).toFixed(0)}%)`:t==="dark"&&(e.dark=`color-mix(in ${n}, ${e.main}, #000 ${(u*100).toFixed(0)}%)`))}function K6(n="light"){return n==="dark"?{main:Ou[200],light:Ou[50],dark:Ou[400]}:{main:Ou[700],light:Ou[400],dark:Ou[800]}}function W6(n="light"){return n==="dark"?{main:xu[200],light:xu[50],dark:xu[400]}:{main:xu[500],light:xu[300],dark:xu[700]}}function Q6(n="light"){return n==="dark"?{main:Pu[500],light:Pu[300],dark:Pu[700]}:{main:Pu[700],light:Pu[400],dark:Pu[800]}}function Y6(n="light"){return n==="dark"?{main:Du[400],light:Du[300],dark:Du[700]}:{main:Du[700],light:Du[500],dark:Du[900]}}function X6(n="light"){return n==="dark"?{main:Nu[400],light:Nu[300],dark:Nu[700]}:{main:Nu[800],light:Nu[500],dark:Nu[900]}}function J6(n="light"){return n==="dark"?{main:mf[400],light:mf[300],dark:mf[700]}:{main:"#ed6c02",light:mf[500],dark:mf[900]}}function Z6(n){return`oklch(from ${n} var(--__l) 0 h / var(--__a))`}function mw(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:r=.2,colorSpace:s,...o}=n,u=n.primary||K6(e),h=n.secondary||W6(e),d=n.error||Q6(e),f=n.info||Y6(e),g=n.success||X6(e),_=n.warning||J6(e);function v(x){return s?Z6(x):D6(x,nb.text.primary)>=t?nb.text.primary:Cx.text.primary}const T=({color:x,name:H,mainShade:V=500,lightShade:F=300,darkShade:W=700})=>{if(x={...x},!x.main&&x[V]&&(x.main=x[V]),!x.hasOwnProperty("main"))throw new Error(wl(11,H?` (${H})`:"",V));if(typeof x.main!="string")throw new Error(wl(12,H?` (${H})`:"",JSON.stringify(x.main)));return s?(OR(s,x,"light",F,r),OR(s,x,"dark",W,r)):(xR(x,"light",F,r),xR(x,"dark",W,r)),x.contrastText||(x.contrastText=v(x.main)),x};let w;return e==="light"?w=Rx():e==="dark"&&(w=Px()),Dr({common:{...nd},mode:e,primary:T({color:u,name:"primary"}),secondary:T({color:h,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:T({color:d,name:"error"}),warning:T({color:_,name:"warning"}),info:T({color:f,name:"info"}),success:T({color:g,name:"success"}),grey:T3,contrastThreshold:t,getContrastText:v,augmentColor:T,tonalOffset:r,...w},o)}function e5(n){const e={};return Object.entries(n).forEach(r=>{const[s,o]=r;typeof o=="object"&&(e[s]=`${o.fontStyle?`${o.fontStyle} `:""}${o.fontVariant?`${o.fontVariant} `:""}${o.fontWeight?`${o.fontWeight} `:""}${o.fontStretch?`${o.fontStretch} `:""}${o.fontSize||""}${o.lineHeight?`/${o.lineHeight} `:""}${o.fontFamily||""}`)}),e}function t5(n,e){return{toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}},...e}}function n5(n){return Math.round(n*1e5)/1e5}const DR={textTransform:"uppercase"},NR='"Roboto", "Helvetica", "Arial", sans-serif';function r5(n,e){const{fontFamily:t=NR,fontSize:r=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:u=500,fontWeightBold:h=700,htmlFontSize:d=16,allVariants:f,pxToRem:g,..._}=typeof e=="function"?e(n):e,v=r/14,T=g||(x=>`${x/d*v}rem`),w=(x,H,V,F,W)=>({fontFamily:t,fontWeight:x,fontSize:T(H),lineHeight:V,...t===NR?{letterSpacing:`${n5(F/H)}em`}:{},...W,...f}),I={h1:w(s,96,1.167,-1.5),h2:w(s,60,1.2,-.5),h3:w(o,48,1.167,0),h4:w(o,34,1.235,.25),h5:w(o,24,1.334,0),h6:w(u,20,1.6,.15),subtitle1:w(o,16,1.75,.15),subtitle2:w(u,14,1.57,.1),body1:w(o,16,1.5,.15),body2:w(o,14,1.43,.15),button:w(u,14,1.75,.4,DR),caption:w(o,12,1.66,.4),overline:w(o,12,2.66,1,DR),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Dr({htmlFontSize:d,pxToRem:T,fontFamily:t,fontSize:r,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:u,fontWeightBold:h,...I},_,{clone:!1})}const i5=.2,s5=.14,a5=.12;function It(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${i5})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${s5})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${a5})`].join(",")}const o5=["none",It(0,2,1,-1,0,1,1,0,0,1,3,0),It(0,3,1,-2,0,2,2,0,0,1,5,0),It(0,3,3,-2,0,3,4,0,0,1,8,0),It(0,2,4,-1,0,4,5,0,0,1,10,0),It(0,3,5,-1,0,5,8,0,0,1,14,0),It(0,3,5,-1,0,6,10,0,0,1,18,0),It(0,4,5,-2,0,7,10,1,0,2,16,1),It(0,5,5,-3,0,8,10,1,0,3,14,2),It(0,5,6,-3,0,9,12,1,0,3,16,2),It(0,6,6,-3,0,10,14,1,0,4,18,3),It(0,6,7,-4,0,11,15,1,0,4,20,3),It(0,7,8,-4,0,12,17,2,0,5,22,4),It(0,7,8,-4,0,13,19,2,0,5,24,4),It(0,7,9,-4,0,14,21,2,0,5,26,4),It(0,8,9,-5,0,15,22,2,0,6,28,5),It(0,8,10,-5,0,16,24,2,0,6,30,5),It(0,8,11,-5,0,17,26,2,0,6,32,5),It(0,9,11,-5,0,18,28,2,0,7,34,6),It(0,9,12,-6,0,19,29,2,0,7,36,6),It(0,10,13,-6,0,20,31,3,0,8,38,7),It(0,10,13,-6,0,21,33,3,0,8,40,7),It(0,10,14,-6,0,22,35,3,0,8,42,7),It(0,11,14,-7,0,23,36,3,0,9,44,8),It(0,11,15,-7,0,24,38,3,0,9,46,8)],l5={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},u5={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function kR(n){return`${Math.round(n)}ms`}function c5(n){if(!n)return 0;const e=n/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function h5(n){const e={...l5,...n.easing},t={...u5,...n.duration};return{getAutoHeightDuration:c5,create:(s=["all"],o={})=>{const{duration:u=t.standard,easing:h=e.easeInOut,delay:d=0,...f}=o;return(Array.isArray(s)?s:[s]).map(g=>`${g} ${typeof u=="string"?u:kR(u)} ${h} ${typeof d=="string"?d:kR(d)}`).join(",")},...n,easing:e,duration:t}}const f5={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function d5(n){return Rs(n)||typeof n>"u"||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||Array.isArray(n)}function xx(n={}){const e={...n};function t(r){const s=Object.entries(r);for(let o=0;o<s.length;o++){const[u,h]=s[o];!d5(h)||u.startsWith("unstable_")?delete r[u]:Rs(h)&&(r[u]={...h},t(r[u]))}}return t(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function MR(n){return typeof n=="number"?`${(n*100).toFixed(0)}%`:`calc((${n}) * 100%)`}const p5=n=>{if(!Number.isNaN(+n))return+n;const e=n.match(/\d*\.?\d+/g);if(!e)return 0;let t=0;for(let r=0;r<e.length;r+=1)t+=+e[r];return t};function m5(n){Object.assign(n,{alpha(e,t){const r=this||n;return r.colorSpace?`oklch(from ${e} l c h / ${typeof t=="string"?`calc(${t})`:t})`:r.vars?`rgba(${e.replace(/var\(--([^,\s)]+)(?:,[^)]+)?\)+/g,"var(--$1Channel)")} / ${typeof t=="string"?`calc(${t})`:t})`:Sx(e,p5(t))},lighten(e,t){const r=this||n;return r.colorSpace?`color-mix(in ${r.colorSpace}, ${e}, #fff ${MR(t)})`:my(e,t)},darken(e,t){const r=this||n;return r.colorSpace?`color-mix(in ${r.colorSpace}, ${e}, #000 ${MR(t)})`:py(e,t)}})}function rb(n={},...e){const{breakpoints:t,mixins:r={},spacing:s,palette:o={},transitions:u={},typography:h={},shape:d,colorSpace:f,...g}=n;if(n.vars&&n.generateThemeVars===void 0)throw new Error(wl(20));const _=mw({...o,colorSpace:f}),v=yx(n);let T=Dr(v,{mixins:t5(v.breakpoints,r),palette:_,shadows:o5.slice(),typography:r5(_,h),transitions:h5(u),zIndex:{...f5}});return T=Dr(T,g),T=e.reduce((w,I)=>Dr(w,I),T),T.unstable_sxConfig={...fy,...g?.unstable_sxConfig},T.unstable_sx=function(I){return sc({sx:I,theme:this})},T.toRuntimeSource=xx,m5(T),T}function g5(n){let e;return n<1?e=5.11916*n**2:e=4.5*Math.log(n+1)+2,Math.round(e*10)/1e3}const y5=[...Array(25)].map((n,e)=>{if(e===0)return"none";const t=g5(e);return`linear-gradient(rgba(255 255 255 / ${t}), rgba(255 255 255 / ${t}))`});function Ox(n){return{inputPlaceholder:n==="dark"?.5:.42,inputUnderline:n==="dark"?.7:.42,switchTrackDisabled:n==="dark"?.2:.12,switchTrack:n==="dark"?.3:.38}}function Dx(n){return n==="dark"?y5:[]}function _5(n){const{palette:e={mode:"light"},opacity:t,overlays:r,colorSpace:s,...o}=n,u=mw({...e,colorSpace:s});return{palette:u,opacity:{...Ox(u.mode),...t},overlays:r||Dx(u.mode),...o}}function v5(n){return!!n[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!n[0].match(/sxConfig$/)||n[0]==="palette"&&!!n[1]?.match(/(mode|contrastThreshold|tonalOffset)/)}const E5=n=>[...[...Array(25)].map((e,t)=>`--${n?`${n}-`:""}overlays-${t}`),`--${n?`${n}-`:""}palette-AppBar-darkBg`,`--${n?`${n}-`:""}palette-AppBar-darkColor`],b5=n=>(e,t)=>{const r=n.rootSelector||":root",s=n.colorSchemeSelector;let o=s;if(s==="class"&&(o=".%s"),s==="data"&&(o="[data-%s]"),s?.startsWith("data-")&&!s.includes("%s")&&(o=`[${s}="%s"]`),n.defaultColorScheme===e){if(e==="dark"){const u={};return E5(n.cssVarPrefix).forEach(h=>{u[h]=t[h],delete t[h]}),o==="media"?{[r]:t,"@media (prefers-color-scheme: dark)":{[r]:u}}:o?{[o.replace("%s",e)]:u,[`${r}, ${o.replace("%s",e)}`]:t}:{[r]:{...t,...u}}}if(o&&o!=="media")return`${r}, ${o.replace("%s",String(e))}`}else if(e){if(o==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:t}};if(o)return o.replace("%s",String(e))}return r};function w5(n,e){e.forEach(t=>{n[t]||(n[t]={})})}function ue(n,e,t){!n[e]&&t&&(n[e]=t)}function xf(n){return typeof n!="string"||!n.startsWith("hsl")?n:Tx(n)}function As(n,e){`${e}Channel`in n||(n[`${e}Channel`]=Pf(xf(n[e])))}function T5(n){return typeof n=="number"?`${n}px`:typeof n=="string"||typeof n=="function"||Array.isArray(n)?n:"8px"}const ki=n=>{try{return n()}catch{}},S5=(n="mui")=>z6(n);function EE(n,e,t,r,s){if(!t)return;t=t===!0?{}:t;const o=s==="dark"?"dark":"light";if(!r){e[s]=_5({...t,palette:{mode:o,...t?.palette},colorSpace:n});return}const{palette:u,...h}=rb({...r,palette:{mode:o,...t?.palette},colorSpace:n});return e[s]={...t,palette:u,opacity:{...Ox(o),...t?.opacity},overlays:t?.overlays||Dx(o)},h}function A5(n={},...e){const{colorSchemes:t={light:!0},defaultColorScheme:r,disableCssColorScheme:s=!1,cssVarPrefix:o="mui",nativeColor:u=!1,shouldSkipGeneratingVar:h=v5,colorSchemeSelector:d=t.light&&t.dark?"media":void 0,rootSelector:f=":root",...g}=n,_=Object.keys(t)[0],v=r||(t.light&&_!=="light"?"light":_),T=S5(o),{[v]:w,light:I,dark:x,...H}=t,V={...H};let F=w;if((v==="dark"&&!("dark"in t)||v==="light"&&!("light"in t))&&(F=!0),!F)throw new Error(wl(21,v));let W;u&&(W="oklch");const j=EE(W,V,F,g,v);I&&!V.light&&EE(W,V,I,void 0,"light"),x&&!V.dark&&EE(W,V,x,void 0,"dark");let $={defaultColorScheme:v,...j,cssVarPrefix:o,colorSchemeSelector:d,rootSelector:f,getCssVar:T,colorSchemes:V,font:{...e5(j.typography),...j.font},spacing:T5(g.spacing)};Object.keys($.colorSchemes).forEach(O=>{const b=$.colorSchemes[O].palette,R=M=>{const q=M.split("-"),J=q[1],ne=q[2];return T(M,b[J][ne])};b.mode==="light"&&(ue(b.common,"background","#fff"),ue(b.common,"onBackground","#000")),b.mode==="dark"&&(ue(b.common,"background","#000"),ue(b.common,"onBackground","#fff"));function G(M,q,J){if(W){let ne;return M===Zo&&(ne=`transparent ${((1-J)*100).toFixed(0)}%`),M===at&&(ne=`#000 ${(J*100).toFixed(0)}%`),M===ot&&(ne=`#fff ${(J*100).toFixed(0)}%`),`color-mix(in ${W}, ${q}, ${ne})`}return M(q,J)}if(w5(b,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),b.mode==="light"){ue(b.Alert,"errorColor",G(at,b.error.light,.6)),ue(b.Alert,"infoColor",G(at,b.info.light,.6)),ue(b.Alert,"successColor",G(at,b.success.light,.6)),ue(b.Alert,"warningColor",G(at,b.warning.light,.6)),ue(b.Alert,"errorFilledBg",R("palette-error-main")),ue(b.Alert,"infoFilledBg",R("palette-info-main")),ue(b.Alert,"successFilledBg",R("palette-success-main")),ue(b.Alert,"warningFilledBg",R("palette-warning-main")),ue(b.Alert,"errorFilledColor",ki(()=>b.getContrastText(b.error.main))),ue(b.Alert,"infoFilledColor",ki(()=>b.getContrastText(b.info.main))),ue(b.Alert,"successFilledColor",ki(()=>b.getContrastText(b.success.main))),ue(b.Alert,"warningFilledColor",ki(()=>b.getContrastText(b.warning.main))),ue(b.Alert,"errorStandardBg",G(ot,b.error.light,.9)),ue(b.Alert,"infoStandardBg",G(ot,b.info.light,.9)),ue(b.Alert,"successStandardBg",G(ot,b.success.light,.9)),ue(b.Alert,"warningStandardBg",G(ot,b.warning.light,.9)),ue(b.Alert,"errorIconColor",R("palette-error-main")),ue(b.Alert,"infoIconColor",R("palette-info-main")),ue(b.Alert,"successIconColor",R("palette-success-main")),ue(b.Alert,"warningIconColor",R("palette-warning-main")),ue(b.AppBar,"defaultBg",R("palette-grey-100")),ue(b.Avatar,"defaultBg",R("palette-grey-400")),ue(b.Button,"inheritContainedBg",R("palette-grey-300")),ue(b.Button,"inheritContainedHoverBg",R("palette-grey-A100")),ue(b.Chip,"defaultBorder",R("palette-grey-400")),ue(b.Chip,"defaultAvatarColor",R("palette-grey-700")),ue(b.Chip,"defaultIconColor",R("palette-grey-700")),ue(b.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),ue(b.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),ue(b.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),ue(b.LinearProgress,"primaryBg",G(ot,b.primary.main,.62)),ue(b.LinearProgress,"secondaryBg",G(ot,b.secondary.main,.62)),ue(b.LinearProgress,"errorBg",G(ot,b.error.main,.62)),ue(b.LinearProgress,"infoBg",G(ot,b.info.main,.62)),ue(b.LinearProgress,"successBg",G(ot,b.success.main,.62)),ue(b.LinearProgress,"warningBg",G(ot,b.warning.main,.62)),ue(b.Skeleton,"bg",W?G(Zo,b.text.primary,.11):`rgba(${R("palette-text-primaryChannel")} / 0.11)`),ue(b.Slider,"primaryTrack",G(ot,b.primary.main,.62)),ue(b.Slider,"secondaryTrack",G(ot,b.secondary.main,.62)),ue(b.Slider,"errorTrack",G(ot,b.error.main,.62)),ue(b.Slider,"infoTrack",G(ot,b.info.main,.62)),ue(b.Slider,"successTrack",G(ot,b.success.main,.62)),ue(b.Slider,"warningTrack",G(ot,b.warning.main,.62));const M=W?G(at,b.background.default,.6825):xm(b.background.default,.8);ue(b.SnackbarContent,"bg",M),ue(b.SnackbarContent,"color",ki(()=>W?nb.text.primary:b.getContrastText(M))),ue(b.SpeedDialAction,"fabHoverBg",xm(b.background.paper,.15)),ue(b.StepConnector,"border",R("palette-grey-400")),ue(b.StepContent,"border",R("palette-grey-400")),ue(b.Switch,"defaultColor",R("palette-common-white")),ue(b.Switch,"defaultDisabledColor",R("palette-grey-100")),ue(b.Switch,"primaryDisabledColor",G(ot,b.primary.main,.62)),ue(b.Switch,"secondaryDisabledColor",G(ot,b.secondary.main,.62)),ue(b.Switch,"errorDisabledColor",G(ot,b.error.main,.62)),ue(b.Switch,"infoDisabledColor",G(ot,b.info.main,.62)),ue(b.Switch,"successDisabledColor",G(ot,b.success.main,.62)),ue(b.Switch,"warningDisabledColor",G(ot,b.warning.main,.62)),ue(b.TableCell,"border",G(ot,G(Zo,b.divider,1),.88)),ue(b.Tooltip,"bg",G(Zo,b.grey[700],.92))}if(b.mode==="dark"){ue(b.Alert,"errorColor",G(ot,b.error.light,.6)),ue(b.Alert,"infoColor",G(ot,b.info.light,.6)),ue(b.Alert,"successColor",G(ot,b.success.light,.6)),ue(b.Alert,"warningColor",G(ot,b.warning.light,.6)),ue(b.Alert,"errorFilledBg",R("palette-error-dark")),ue(b.Alert,"infoFilledBg",R("palette-info-dark")),ue(b.Alert,"successFilledBg",R("palette-success-dark")),ue(b.Alert,"warningFilledBg",R("palette-warning-dark")),ue(b.Alert,"errorFilledColor",ki(()=>b.getContrastText(b.error.dark))),ue(b.Alert,"infoFilledColor",ki(()=>b.getContrastText(b.info.dark))),ue(b.Alert,"successFilledColor",ki(()=>b.getContrastText(b.success.dark))),ue(b.Alert,"warningFilledColor",ki(()=>b.getContrastText(b.warning.dark))),ue(b.Alert,"errorStandardBg",G(at,b.error.light,.9)),ue(b.Alert,"infoStandardBg",G(at,b.info.light,.9)),ue(b.Alert,"successStandardBg",G(at,b.success.light,.9)),ue(b.Alert,"warningStandardBg",G(at,b.warning.light,.9)),ue(b.Alert,"errorIconColor",R("palette-error-main")),ue(b.Alert,"infoIconColor",R("palette-info-main")),ue(b.Alert,"successIconColor",R("palette-success-main")),ue(b.Alert,"warningIconColor",R("palette-warning-main")),ue(b.AppBar,"defaultBg",R("palette-grey-900")),ue(b.AppBar,"darkBg",R("palette-background-paper")),ue(b.AppBar,"darkColor",R("palette-text-primary")),ue(b.Avatar,"defaultBg",R("palette-grey-600")),ue(b.Button,"inheritContainedBg",R("palette-grey-800")),ue(b.Button,"inheritContainedHoverBg",R("palette-grey-700")),ue(b.Chip,"defaultBorder",R("palette-grey-700")),ue(b.Chip,"defaultAvatarColor",R("palette-grey-300")),ue(b.Chip,"defaultIconColor",R("palette-grey-300")),ue(b.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),ue(b.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),ue(b.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),ue(b.LinearProgress,"primaryBg",G(at,b.primary.main,.5)),ue(b.LinearProgress,"secondaryBg",G(at,b.secondary.main,.5)),ue(b.LinearProgress,"errorBg",G(at,b.error.main,.5)),ue(b.LinearProgress,"infoBg",G(at,b.info.main,.5)),ue(b.LinearProgress,"successBg",G(at,b.success.main,.5)),ue(b.LinearProgress,"warningBg",G(at,b.warning.main,.5)),ue(b.Skeleton,"bg",W?G(Zo,b.text.primary,.13):`rgba(${R("palette-text-primaryChannel")} / 0.13)`),ue(b.Slider,"primaryTrack",G(at,b.primary.main,.5)),ue(b.Slider,"secondaryTrack",G(at,b.secondary.main,.5)),ue(b.Slider,"errorTrack",G(at,b.error.main,.5)),ue(b.Slider,"infoTrack",G(at,b.info.main,.5)),ue(b.Slider,"successTrack",G(at,b.success.main,.5)),ue(b.Slider,"warningTrack",G(at,b.warning.main,.5));const M=W?G(ot,b.background.default,.985):xm(b.background.default,.98);ue(b.SnackbarContent,"bg",M),ue(b.SnackbarContent,"color",ki(()=>W?Cx.text.primary:b.getContrastText(M))),ue(b.SpeedDialAction,"fabHoverBg",xm(b.background.paper,.15)),ue(b.StepConnector,"border",R("palette-grey-600")),ue(b.StepContent,"border",R("palette-grey-600")),ue(b.Switch,"defaultColor",R("palette-grey-300")),ue(b.Switch,"defaultDisabledColor",R("palette-grey-600")),ue(b.Switch,"primaryDisabledColor",G(at,b.primary.main,.55)),ue(b.Switch,"secondaryDisabledColor",G(at,b.secondary.main,.55)),ue(b.Switch,"errorDisabledColor",G(at,b.error.main,.55)),ue(b.Switch,"infoDisabledColor",G(at,b.info.main,.55)),ue(b.Switch,"successDisabledColor",G(at,b.success.main,.55)),ue(b.Switch,"warningDisabledColor",G(at,b.warning.main,.55)),ue(b.TableCell,"border",G(at,G(Zo,b.divider,1),.68)),ue(b.Tooltip,"bg",G(Zo,b.grey[700],.92))}As(b.background,"default"),As(b.background,"paper"),As(b.common,"background"),As(b.common,"onBackground"),As(b,"divider"),Object.keys(b).forEach(M=>{const q=b[M];M!=="tonalOffset"&&q&&typeof q=="object"&&(q.main&&ue(b[M],"mainChannel",Pf(xf(q.main))),q.light&&ue(b[M],"lightChannel",Pf(xf(q.light))),q.dark&&ue(b[M],"darkChannel",Pf(xf(q.dark))),q.contrastText&&ue(b[M],"contrastTextChannel",Pf(xf(q.contrastText))),M==="text"&&(As(b[M],"primary"),As(b[M],"secondary")),M==="action"&&(q.active&&As(b[M],"active"),q.selected&&As(b[M],"selected")))})}),$=e.reduce((O,b)=>Dr(O,b),$);const N={prefix:o,disableCssColorScheme:s,shouldSkipGeneratingVar:h,getSelector:b5($),enableContrastVars:u},{vars:C,generateThemeVars:P,generateStyleSheets:L}=$6($,N);return $.vars=C,Object.entries($.colorSchemes[$.defaultColorScheme]).forEach(([O,b])=>{$[O]=b}),$.generateThemeVars=P,$.generateStyleSheets=L,$.generateSpacing=function(){return gx(g.spacing,hw(this))},$.getColorSchemeSelector=G6(d),$.spacing=$.generateSpacing(),$.shouldSkipGeneratingVar=h,$.unstable_sxConfig={...fy,...g?.unstable_sxConfig},$.unstable_sx=function(b){return sc({sx:b,theme:this})},$.toRuntimeSource=xx,$}function VR(n,e,t){n.colorSchemes&&t&&(n.colorSchemes[e]={...t!==!0&&t,palette:mw({...t===!0?{}:t.palette,mode:e})})}function I5(n={},...e){const{palette:t,cssVariables:r=!1,colorSchemes:s=t?void 0:{light:!0},defaultColorScheme:o=t?.mode,...u}=n,h=o||"light",d=s?.[h],f={...s,...t?{[h]:{...typeof d!="boolean"&&d,palette:t}}:void 0};if(r===!1){if(!("colorSchemes"in n))return rb(n,...e);let g=t;"palette"in n||f[h]&&(f[h]!==!0?g=f[h].palette:h==="dark"&&(g={mode:"dark"}));const _=rb({...n,palette:g},...e);return _.defaultColorScheme=h,_.colorSchemes=f,_.palette.mode==="light"&&(_.colorSchemes.light={...f.light!==!0&&f.light,palette:_.palette},VR(_,"dark",f.dark)),_.palette.mode==="dark"&&(_.colorSchemes.dark={...f.dark!==!0&&f.dark,palette:_.palette},VR(_,"light",f.light)),_}return!t&&!("light"in f)&&h==="light"&&(f.light=!0),A5({...u,colorSchemes:f,defaultColorScheme:h,...typeof r!="boolean"&&r},...e)}const R5=I5();function Nx(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const C5=n=>Nx(n)&&n!=="classes",Ud=A6({themeId:S3,defaultTheme:R5,rootShouldForwardProp:C5}),gw=j6;function kx(n){return U6(n)}function P5(n){return dw("MuiSvgIcon",n)}vx("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const x5=n=>{const{color:e,fontSize:t,classes:r}=n,s={root:["root",e!=="inherit"&&`color${Ga(e)}`,`fontSize${Ga(t)}`]};return Ix(s,P5,r)},O5=Ud("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="inherit"&&e[`color${Ga(t.color)}`],e[`fontSize${Ga(t.fontSize)}`]]}})(gw(({theme:n})=>({userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:n.transitions?.create?.("fill",{duration:(n.vars??n).transitions?.duration?.shorter}),variants:[{props:e=>!e.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:n.typography?.pxToRem?.(20)||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:n.typography?.pxToRem?.(24)||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:n.typography?.pxToRem?.(35)||"2.1875rem"}},...Object.entries((n.vars??n).palette).filter(([,e])=>e&&e.main).map(([e])=>({props:{color:e},style:{color:(n.vars??n).palette?.[e]?.main}})),{props:{color:"action"},style:{color:(n.vars??n).palette?.action?.active}},{props:{color:"disabled"},style:{color:(n.vars??n).palette?.action?.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}))),ib=Q.forwardRef(function(e,t){const r=kx({props:e,name:"MuiSvgIcon"}),{children:s,className:o,color:u="inherit",component:h="svg",fontSize:d="medium",htmlColor:f,inheritViewBox:g=!1,titleAccess:_,viewBox:v="0 0 24 24",...T}=r,w=Q.isValidElement(s)&&s.type==="svg",I={...r,color:u,component:h,fontSize:d,instanceFontSize:e.fontSize,inheritViewBox:g,viewBox:v,hasSvgAsChild:w},x={};g||(x.viewBox=v);const H=x5(I);return z.jsxs(O5,{as:h,className:Fa(H.root,o),focusable:"false",color:f,"aria-hidden":_?void 0:!0,role:_?"img":void 0,ref:t,...x,...T,...w&&s.props,ownerState:I,children:[w?s.props.children:s,_?z.jsx("title",{children:_}):null]})});ib.muiName="SvgIcon";function Mx(n,e){function t(r,s){return z.jsx(ib,{"data-testid":void 0,ref:s,...r,children:n})}return t.muiName=ib.muiName,Q.memo(Q.forwardRef(t))}function D5(n){const{controlled:e,default:t}=n,{current:r}=Q.useRef(e!==void 0),[s,o]=Q.useState(t),u=r?e:s,h=Q.useCallback(d=>{r||o(d)},[]);return[u,h]}function Vx(...n){const e=Q.useRef(void 0),t=Q.useCallback(r=>{const s=n.map(o=>{if(o==null)return null;if(typeof o=="function"){const u=o,h=u(r);return typeof h=="function"?h:()=>{u(null)}}return o.current=r,()=>{o.current=null}});return()=>{s.forEach(o=>o?.())}},n);return Q.useMemo(()=>n.every(r=>r==null)?null:r=>{e.current&&(e.current(),e.current=void 0),r!=null&&(e.current=t(r))},n)}function N5(n){return typeof n=="string"}function k5(n,e,t){return n===void 0||N5(n)?e:{...e,ownerState:{...e.ownerState,...t}}}function M5(n,e,t){return typeof n=="function"?n(e,t):n}function V5(n,e=[]){if(n===void 0)return{};const t={};return Object.keys(n).filter(r=>r.match(/^on[A-Z]/)&&typeof n[r]=="function"&&!e.includes(r)).forEach(r=>{t[r]=n[r]}),t}function LR(n){if(n===void 0)return{};const e={};return Object.keys(n).filter(t=>!(t.match(/^on[A-Z]/)&&typeof n[t]=="function")).forEach(t=>{e[t]=n[t]}),e}function L5(n){const{getSlotProps:e,additionalProps:t,externalSlotProps:r,externalForwardedProps:s,className:o}=n;if(!e){const T=Fa(t?.className,o,s?.className,r?.className),w={...t?.style,...s?.style,...r?.style},I={...t,...s,...r};return T.length>0&&(I.className=T),Object.keys(w).length>0&&(I.style=w),{props:I,internalRef:void 0}}const u=V5({...s,...r}),h=LR(r),d=LR(s),f=e(u),g=Fa(f?.className,t?.className,o,s?.className,r?.className),_={...f?.style,...t?.style,...s?.style,...r?.style},v={...f,...t,...d,...h};return g.length>0&&(v.className=g),Object.keys(_).length>0&&(v.style=_),{props:v,internalRef:f.ref}}function Bf(n,e){const{className:t,elementType:r,ownerState:s,externalForwardedProps:o,internalForwardedProps:u,shouldForwardComponentProp:h=!1,...d}=e,{component:f,slots:g={[n]:void 0},slotProps:_={[n]:void 0},...v}=o,T=g[n]||r,w=M5(_[n],s),{props:{component:I,...x},internalRef:H}=L5({className:t,...d,externalForwardedProps:n==="root"?v:void 0,externalSlotProps:w}),V=Vx(H,w?.ref,e.ref),F=n==="root"?I||f:I,W=k5(T,{...n==="root"&&!f&&!g[n]&&u,...n!=="root"&&!g[n]&&u,...x,...F&&!h&&{as:F},...F&&h&&{component:F},ref:V},s);return[T,W]}function UR(n){try{return n.matches(":focus-visible")}catch{}return!1}const U5={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"},B5=Mx(z.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"})),F5=Mx(z.jsx("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}));function j5(n){return dw("MuiRating",n)}const yf=vx("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]);function z5(n){const e=n.toString().split(".")[1];return e?e.length:0}function bE(n,e){if(n==null)return n;const t=Math.round(n/e)*e;return Number(t.toFixed(z5(e)))}const q5=n=>{const{classes:e,size:t,readOnly:r,disabled:s,emptyValueFocused:o,focusVisible:u}=n,h={root:["root",`size${Ga(t)}`,s&&"disabled",u&&"focusVisible",r&&"readOnly"],label:["label","pristine"],labelEmptyValue:[o&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]};return Ix(h,j5,e)},H5=Ud("span",{name:"MuiRating",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${yf.visuallyHidden}`]:e.visuallyHidden},e.root,e[`size${Ga(t.size)}`],t.readOnly&&e.readOnly]}})(gw(({theme:n})=>({display:"inline-flex",position:"relative",fontSize:n.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",width:"min-content",WebkitTapHighlightColor:"transparent",[`&.${yf.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${yf.focusVisible} .${yf.iconActive}`]:{outline:"1px solid #999"},[`& .${yf.visuallyHidden}`]:U5,variants:[{props:{size:"small"},style:{fontSize:n.typography.pxToRem(18)}},{props:{size:"large"},style:{fontSize:n.typography.pxToRem(30)}},{props:({ownerState:e})=>e.readOnly,style:{pointerEvents:"none"}}]}))),Lx=Ud("label",{name:"MuiRating",slot:"Label",overridesResolver:({ownerState:n},e)=>[e.label,n.emptyValueFocused&&e.labelEmptyValueActive]})({cursor:"inherit",variants:[{props:({ownerState:n})=>n.emptyValueFocused,style:{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"}}]}),$5=Ud("span",{name:"MuiRating",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.iconEmpty&&e.iconEmpty,t.iconFilled&&e.iconFilled,t.iconHover&&e.iconHover,t.iconFocus&&e.iconFocus,t.iconActive&&e.iconActive]}})(gw(({theme:n})=>({display:"flex",transition:n.transitions.create("transform",{duration:n.transitions.duration.shortest}),pointerEvents:"none",variants:[{props:({ownerState:e})=>e.iconActive,style:{transform:"scale(1.2)"}},{props:({ownerState:e})=>e.iconEmpty,style:{color:(n.vars||n).palette.action.disabled}}]}))),G5=Ud("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:n=>Nx(n)&&n!=="iconActive",overridesResolver:(n,e)=>{const{iconActive:t}=n;return[e.decimal,t&&e.iconActive]}})({position:"relative",variants:[{props:({iconActive:n})=>n,style:{transform:"scale(1.2)"}}]});function K5(n){const{value:e,...t}=n;return z.jsx("span",{...t})}function BR(n){const{classes:e,disabled:t,emptyIcon:r,focus:s,getLabelText:o,highlightSelectedOnly:u,hover:h,icon:d,IconContainerComponent:f,isActive:g,itemValue:_,labelProps:v,name:T,onBlur:w,onChange:I,onClick:x,onFocus:H,readOnly:V,ownerState:F,ratingValue:W,ratingValueRounded:j,slots:$={},slotProps:N={}}=n,C=u?_===W:_<=W,P=_<=h,L=_<=s,O=_===j,b=`${T}-${Ax()}`,R={slots:$,slotProps:N},[G,M]=Bf("icon",{elementType:$5,className:Fa(e.icon,C?e.iconFilled:e.iconEmpty,P&&e.iconHover,L&&e.iconFocus,g&&e.iconActive),externalForwardedProps:R,ownerState:{...F,iconEmpty:!C,iconFilled:C,iconHover:P,iconFocus:L,iconActive:g},additionalProps:{value:_},internalForwardedProps:{as:f}}),[q,J]=Bf("label",{elementType:Lx,externalForwardedProps:R,ownerState:{...F,emptyValueFocused:void 0},additionalProps:{style:v?.style,htmlFor:b}}),ne=z.jsx(G,{...M,children:r&&!C?r:d});return V?z.jsx("span",{...v,children:ne}):z.jsxs(Q.Fragment,{children:[z.jsxs(q,{...J,children:[ne,z.jsx("span",{className:e.visuallyHidden,children:o(_)})]}),z.jsx("input",{className:e.visuallyHidden,onFocus:H,onBlur:w,onChange:I,onClick:x,disabled:t,value:_,id:b,type:"radio",name:T,checked:O})]})}const W5=z.jsx(B5,{fontSize:"inherit"}),Q5=z.jsx(F5,{fontSize:"inherit"});function Y5(n){return`${n||"0"} Star${n!==1?"s":""}`}const X5=Q.forwardRef(function(e,t){const r=kx({name:"MuiRating",props:e}),{component:s="span",className:o,defaultValue:u=null,disabled:h=!1,emptyIcon:d=Q5,emptyLabelText:f="Empty",getLabelText:g=Y5,highlightSelectedOnly:_=!1,icon:v=W5,IconContainerComponent:T=K5,max:w=5,name:I,onChange:x,onChangeActive:H,onMouseLeave:V,onMouseMove:F,precision:W=1,readOnly:j=!1,size:$="medium",value:N,slots:C={},slotProps:P={},...L}=r,O=Ax(I),[b,R]=D5({controlled:N,default:u}),G=bE(b,W),M=M6(),[{hover:q,focus:J},ne]=Q.useState({hover:-1,focus:-1});let we=G;q!==-1&&(we=q),J!==-1&&(we=J);const[U,le]=Q.useState(!1),me=Q.useRef(),_e=Vx(me,t),ye=$e=>{F&&F($e);const gt=me.current,{right:Cn,left:Ks,width:ar}=gt.getBoundingClientRect();let Qn;M?Qn=(Cn-$e.clientX)/ar:Qn=($e.clientX-Ks)/ar;let yt=bE(w*Qn+W/2,W);yt=wx(yt,W,w),ne(rn=>rn.hover===yt&&rn.focus===yt?rn:{hover:yt,focus:yt}),le(!1),H&&q!==yt&&H($e,yt)},De=$e=>{V&&V($e);const gt=-1;ne({hover:gt,focus:gt}),H&&q!==gt&&H($e,gt)},Ce=$e=>{let gt=$e.target.value===""?null:parseFloat($e.target.value);q!==-1&&(gt=q),R(gt),x&&x($e,gt)},nn=$e=>{$e.clientX===0&&$e.clientY===0||(ne({hover:-1,focus:-1}),R(null),x&&parseFloat($e.target.value)===G&&x($e,null))},Ye=$e=>{UR($e.target)&&le(!0);const gt=parseFloat($e.target.value);ne(Cn=>({hover:Cn.hover,focus:gt}))},yr=$e=>{if(q!==-1)return;UR($e.target)||le(!1);const gt=-1;ne(Cn=>({hover:Cn.hover,focus:gt}))},[go,is]=Q.useState(!1),Mr={...r,component:s,defaultValue:u,disabled:h,emptyIcon:d,emptyLabelText:f,emptyValueFocused:go,focusVisible:U,getLabelText:g,icon:v,IconContainerComponent:T,max:w,precision:W,readOnly:j,size:$},Ln=q5(Mr),_i={slots:C,slotProps:P},[Zc,yo]=Bf("root",{ref:_e,className:Fa(Ln.root,o),elementType:H5,externalForwardedProps:{..._i,...L,component:s},getSlotProps:$e=>({...$e,onMouseMove:gt=>{ye(gt),$e.onMouseMove?.(gt)},onMouseLeave:gt=>{De(gt),$e.onMouseLeave?.(gt)}}),ownerState:Mr,additionalProps:{role:j?"img":null,"aria-label":j?g(we):null}}),[Un,Fl]=Bf("label",{className:Fa(Ln.label,Ln.labelEmptyValue),elementType:Lx,externalForwardedProps:_i,ownerState:Mr}),[Ht,$t]=Bf("decimal",{className:Ln.decimal,elementType:G5,externalForwardedProps:_i,ownerState:Mr});return z.jsxs(Zc,{...yo,children:[Array.from(new Array(w)).map(($e,gt)=>{const Cn=gt+1,Ks={classes:Ln,disabled:h,emptyIcon:d,focus:J,getLabelText:g,highlightSelectedOnly:_,hover:q,icon:v,IconContainerComponent:T,name:O,onBlur:yr,onChange:Ce,onClick:nn,onFocus:Ye,ratingValue:we,ratingValueRounded:G,readOnly:j,ownerState:Mr,slots:C,slotProps:P},ar=Cn===Math.ceil(we)&&(q!==-1||J!==-1);if(W<1){const Qn=Array.from(new Array(1/W));return Q.createElement(Ht,{...$t,key:Cn,className:Fa($t.className,ar&&Ln.iconActive),iconActive:ar},Qn.map((yt,rn)=>{const pn=bE(Cn-1+(rn+1)*W,W);return z.jsx(BR,{...Ks,isActive:!1,itemValue:pn,labelProps:{style:Qn.length-1===rn?{}:{width:pn===we?`${(rn+1)*W*100}%`:"0%",overflow:"hidden",position:"absolute"}}},pn)}))}return z.jsx(BR,{...Ks,isActive:ar,itemValue:Cn},Cn)}),!j&&!h&&z.jsxs(Un,{...Fl,children:[z.jsx("input",{className:Ln.visuallyHidden,value:"",id:`${O}-empty`,type:"radio",name:O,checked:G==null,onFocus:()=>is(!0),onBlur:()=>is(!1),onChange:Ce}),z.jsx("span",{className:Ln.visuallyHidden,children:f})]})]})});var Xm={exports:{}};/*! @preserve
 * numeral.js
 * version : 2.0.6
 * author : Adam Draper
 * license : MIT
 * http://adamwdraper.github.com/Numeral-js/
 */var J5=Xm.exports,FR;function Z5(){return FR||(FR=1,(function(n){(function(e,t){n.exports?n.exports=t():e.numeral=t()})(J5,function(){var e,t,r="2.0.6",s={},o={},u={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},h={currentLocale:u.currentLocale,zeroFormat:u.zeroFormat,nullFormat:u.nullFormat,defaultFormat:u.defaultFormat,scalePercentBy100:u.scalePercentBy100};function d(f,g){this._input=f,this._value=g}return e=function(f){var g,_,v,T;if(e.isNumeral(f))g=f.value();else if(f===0||typeof f>"u")g=0;else if(f===null||t.isNaN(f))g=null;else if(typeof f=="string")if(h.zeroFormat&&f===h.zeroFormat)g=0;else if(h.nullFormat&&f===h.nullFormat||!f.replace(/[^0-9]+/g,"").length)g=null;else{for(_ in s)if(T=typeof s[_].regexps.unformat=="function"?s[_].regexps.unformat():s[_].regexps.unformat,T&&f.match(T)){v=s[_].unformat;break}v=v||e._.stringToNumber,g=v(f)}else g=Number(f)||null;return new d(f,g)},e.version=r,e.isNumeral=function(f){return f instanceof d},e._=t={numberToFormat:function(f,g,_){var v=o[e.options.currentLocale],T=!1,w=!1,I=0,x="",H=1e12,V=1e9,F=1e6,W=1e3,j="",$=!1,N,C,P,L,O,b,R;if(f=f||0,C=Math.abs(f),e._.includes(g,"(")?(T=!0,g=g.replace(/[\(|\)]/g,"")):(e._.includes(g,"+")||e._.includes(g,"-"))&&(O=e._.includes(g,"+")?g.indexOf("+"):f<0?g.indexOf("-"):-1,g=g.replace(/[\+|\-]/g,"")),e._.includes(g,"a")&&(N=g.match(/a(k|m|b|t)?/),N=N?N[1]:!1,e._.includes(g," a")&&(x=" "),g=g.replace(new RegExp(x+"a[kmbt]?"),""),C>=H&&!N||N==="t"?(x+=v.abbreviations.trillion,f=f/H):C<H&&C>=V&&!N||N==="b"?(x+=v.abbreviations.billion,f=f/V):C<V&&C>=F&&!N||N==="m"?(x+=v.abbreviations.million,f=f/F):(C<F&&C>=W&&!N||N==="k")&&(x+=v.abbreviations.thousand,f=f/W)),e._.includes(g,"[.]")&&(w=!0,g=g.replace("[.]",".")),P=f.toString().split(".")[0],L=g.split(".")[1],b=g.indexOf(","),I=(g.split(".")[0].split(",")[0].match(/0/g)||[]).length,L?(e._.includes(L,"[")?(L=L.replace("]",""),L=L.split("["),j=e._.toFixed(f,L[0].length+L[1].length,_,L[1].length)):j=e._.toFixed(f,L.length,_),P=j.split(".")[0],e._.includes(j,".")?j=v.delimiters.decimal+j.split(".")[1]:j="",w&&Number(j.slice(1))===0&&(j="")):P=e._.toFixed(f,0,_),x&&!N&&Number(P)>=1e3&&x!==v.abbreviations.trillion)switch(P=String(Number(P)/1e3),x){case v.abbreviations.thousand:x=v.abbreviations.million;break;case v.abbreviations.million:x=v.abbreviations.billion;break;case v.abbreviations.billion:x=v.abbreviations.trillion;break}if(e._.includes(P,"-")&&(P=P.slice(1),$=!0),P.length<I)for(var G=I-P.length;G>0;G--)P="0"+P;return b>-1&&(P=P.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+v.delimiters.thousands)),g.indexOf(".")===0&&(P=""),R=P+j+(x||""),T?R=(T&&$?"(":"")+R+(T&&$?")":""):O>=0?R=O===0?($?"-":"+")+R:R+($?"-":"+"):$&&(R="-"+R),R},stringToNumber:function(f){var g=o[h.currentLocale],_=f,v={thousand:3,million:6,billion:9,trillion:12},T,w,I;if(h.zeroFormat&&f===h.zeroFormat)w=0;else if(h.nullFormat&&f===h.nullFormat||!f.replace(/[^0-9]+/g,"").length)w=null;else{w=1,g.delimiters.decimal!=="."&&(f=f.replace(/\./g,"").replace(g.delimiters.decimal,"."));for(T in v)if(I=new RegExp("[^a-zA-Z]"+g.abbreviations[T]+"(?:\\)|(\\"+g.currency.symbol+")?(?:\\))?)?$"),_.match(I)){w*=Math.pow(10,v[T]);break}w*=(f.split("-").length+Math.min(f.split("(").length-1,f.split(")").length-1))%2?1:-1,f=f.replace(/[^0-9\.]+/g,""),w*=Number(f)}return w},isNaN:function(f){return typeof f=="number"&&isNaN(f)},includes:function(f,g){return f.indexOf(g)!==-1},insert:function(f,g,_){return f.slice(0,_)+g+f.slice(_)},reduce:function(f,g){if(this===null)throw new TypeError("Array.prototype.reduce called on null or undefined");if(typeof g!="function")throw new TypeError(g+" is not a function");var _=Object(f),v=_.length>>>0,T=0,w;if(arguments.length===3)w=arguments[2];else{for(;T<v&&!(T in _);)T++;if(T>=v)throw new TypeError("Reduce of empty array with no initial value");w=_[T++]}for(;T<v;T++)T in _&&(w=g(w,_[T],T,_));return w},multiplier:function(f){var g=f.toString().split(".");return g.length<2?1:Math.pow(10,g[1].length)},correctionFactor:function(){var f=Array.prototype.slice.call(arguments);return f.reduce(function(g,_){var v=t.multiplier(_);return g>v?g:v},1)},toFixed:function(f,g,_,v){var T=f.toString().split("."),w=g-(v||0),I,x,H,V;return T.length===2?I=Math.min(Math.max(T[1].length,w),g):I=w,H=Math.pow(10,I),V=(_(f+"e+"+I)/H).toFixed(I),v>g-I&&(x=new RegExp("\\.?0{1,"+(v-(g-I))+"}$"),V=V.replace(x,"")),V}},e.options=h,e.formats=s,e.locales=o,e.locale=function(f){return f&&(h.currentLocale=f.toLowerCase()),h.currentLocale},e.localeData=function(f){if(!f)return o[h.currentLocale];if(f=f.toLowerCase(),!o[f])throw new Error("Unknown locale : "+f);return o[f]},e.reset=function(){for(var f in u)h[f]=u[f]},e.zeroFormat=function(f){h.zeroFormat=typeof f=="string"?f:null},e.nullFormat=function(f){h.nullFormat=typeof f=="string"?f:null},e.defaultFormat=function(f){h.defaultFormat=typeof f=="string"?f:"0.0"},e.register=function(f,g,_){if(g=g.toLowerCase(),this[f+"s"][g])throw new TypeError(g+" "+f+" already registered.");return this[f+"s"][g]=_,_},e.validate=function(f,g){var _,v,T,w,I,x,H,V;if(typeof f!="string"&&(f+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",f)),f=f.trim(),f.match(/^\d+$/))return!0;if(f==="")return!1;try{H=e.localeData(g)}catch{H=e.localeData(e.locale())}return T=H.currency.symbol,I=H.abbreviations,_=H.delimiters.decimal,H.delimiters.thousands==="."?v="\\.":v=H.delimiters.thousands,V=f.match(/^[^\d]+/),V!==null&&(f=f.substr(1),V[0]!==T)||(V=f.match(/[^\d]+$/),V!==null&&(f=f.slice(0,-1),V[0]!==I.thousand&&V[0]!==I.million&&V[0]!==I.billion&&V[0]!==I.trillion))?!1:(x=new RegExp(v+"{2}"),f.match(/[^\d.,]/g)?!1:(w=f.split(_),w.length>2?!1:w.length<2?!!w[0].match(/^\d+.*\d$/)&&!w[0].match(x):w[0].length===1?!!w[0].match(/^\d+$/)&&!w[0].match(x)&&!!w[1].match(/^\d+$/):!!w[0].match(/^\d+.*\d$/)&&!w[0].match(x)&&!!w[1].match(/^\d+$/)))},e.fn=d.prototype={clone:function(){return e(this)},format:function(f,g){var _=this._value,v=f||h.defaultFormat,T,w,I;if(g=g||Math.round,_===0&&h.zeroFormat!==null)w=h.zeroFormat;else if(_===null&&h.nullFormat!==null)w=h.nullFormat;else{for(T in s)if(v.match(s[T].regexps.format)){I=s[T].format;break}I=I||e._.numberToFormat,w=I(_,v,g)}return w},value:function(){return this._value},input:function(){return this._input},set:function(f){return this._value=Number(f),this},add:function(f){var g=t.correctionFactor.call(null,this._value,f);function _(v,T,w,I){return v+Math.round(g*T)}return this._value=t.reduce([this._value,f],_,0)/g,this},subtract:function(f){var g=t.correctionFactor.call(null,this._value,f);function _(v,T,w,I){return v-Math.round(g*T)}return this._value=t.reduce([f],_,Math.round(this._value*g))/g,this},multiply:function(f){function g(_,v,T,w){var I=t.correctionFactor(_,v);return Math.round(_*I)*Math.round(v*I)/Math.round(I*I)}return this._value=t.reduce([this._value,f],g,1),this},divide:function(f){function g(_,v,T,w){var I=t.correctionFactor(_,v);return Math.round(_*I)/Math.round(v*I)}return this._value=t.reduce([this._value,f],g),this},difference:function(f){return Math.abs(e(this._value).subtract(f).value())}},e.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(f){var g=f%10;return~~(f%100/10)===1?"th":g===1?"st":g===2?"nd":g===3?"rd":"th"},currency:{symbol:"$"}}),(function(){e.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(f,g,_){var v=e._.includes(g," BPS")?" ":"",T;return f=f*1e4,g=g.replace(/\s?BPS/,""),T=e._.numberToFormat(f,g,_),e._.includes(T,")")?(T=T.split(""),T.splice(-1,0,v+"BPS"),T=T.join("")):T=T+v+"BPS",T},unformat:function(f){return+(e._.stringToNumber(f)*1e-4).toFixed(15)}})})(),(function(){var f={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},g={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},_=f.suffixes.concat(g.suffixes.filter(function(T){return f.suffixes.indexOf(T)<0})),v=_.join("|");v="("+v.replace("B","B(?!PS)")+")",e.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(v)},format:function(T,w,I){var x,H=e._.includes(w,"ib")?g:f,V=e._.includes(w," b")||e._.includes(w," ib")?" ":"",F,W,j;for(w=w.replace(/\s?i?b/,""),F=0;F<=H.suffixes.length;F++)if(W=Math.pow(H.base,F),j=Math.pow(H.base,F+1),T===null||T===0||T>=W&&T<j){V+=H.suffixes[F],W>0&&(T=T/W);break}return x=e._.numberToFormat(T,w,I),x+V},unformat:function(T){var w=e._.stringToNumber(T),I,x;if(w){for(I=f.suffixes.length-1;I>=0;I--){if(e._.includes(T,f.suffixes[I])){x=Math.pow(f.base,I);break}if(e._.includes(T,g.suffixes[I])){x=Math.pow(g.base,I);break}}w*=x||1}return w}})})(),(function(){e.register("format","currency",{regexps:{format:/(\$)/},format:function(f,g,_){var v=e.locales[e.options.currentLocale],T={before:g.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:g.match(/([\+|\-|\)|\s|\$]*)$/)[0]},w,I,x;for(g=g.replace(/\s?\$\s?/,""),w=e._.numberToFormat(f,g,_),f>=0?(T.before=T.before.replace(/[\-\(]/,""),T.after=T.after.replace(/[\-\)]/,"")):f<0&&!e._.includes(T.before,"-")&&!e._.includes(T.before,"(")&&(T.before="-"+T.before),x=0;x<T.before.length;x++)switch(I=T.before[x],I){case"$":w=e._.insert(w,v.currency.symbol,x);break;case" ":w=e._.insert(w," ",x+v.currency.symbol.length-1);break}for(x=T.after.length-1;x>=0;x--)switch(I=T.after[x],I){case"$":w=x===T.after.length-1?w+v.currency.symbol:e._.insert(w,v.currency.symbol,-(T.after.length-(1+x)));break;case" ":w=x===T.after.length-1?w+" ":e._.insert(w," ",-(T.after.length-(1+x)+v.currency.symbol.length-1));break}return w}})})(),(function(){e.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(f,g,_){var v,T=typeof f=="number"&&!e._.isNaN(f)?f.toExponential():"0e+0",w=T.split("e");return g=g.replace(/e[\+|\-]{1}0/,""),v=e._.numberToFormat(Number(w[0]),g,_),v+"e"+w[1]},unformat:function(f){var g=e._.includes(f,"e+")?f.split("e+"):f.split("e-"),_=Number(g[0]),v=Number(g[1]);v=e._.includes(f,"e-")?v*=-1:v;function T(w,I,x,H){var V=e._.correctionFactor(w,I),F=w*V*(I*V)/(V*V);return F}return e._.reduce([_,Math.pow(10,v)],T,1)}})})(),(function(){e.register("format","ordinal",{regexps:{format:/(o)/},format:function(f,g,_){var v=e.locales[e.options.currentLocale],T,w=e._.includes(g," o")?" ":"";return g=g.replace(/\s?o/,""),w+=v.ordinal(f),T=e._.numberToFormat(f,g,_),T+w}})})(),(function(){e.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(f,g,_){var v=e._.includes(g," %")?" ":"",T;return e.options.scalePercentBy100&&(f=f*100),g=g.replace(/\s?\%/,""),T=e._.numberToFormat(f,g,_),e._.includes(T,")")?(T=T.split(""),T.splice(-1,0,v+"%"),T=T.join("")):T=T+v+"%",T},unformat:function(f){var g=e._.stringToNumber(f);return e.options.scalePercentBy100?g*.01:g}})})(),(function(){e.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(f,g,_){var v=Math.floor(f/60/60),T=Math.floor((f-v*60*60)/60),w=Math.round(f-v*60*60-T*60);return v+":"+(T<10?"0"+T:T)+":"+(w<10?"0"+w:w)},unformat:function(f){var g=f.split(":"),_=0;return g.length===3?(_=_+Number(g[0])*60*60,_=_+Number(g[1])*60,_=_+Number(g[2])):g.length===2&&(_=_+Number(g[0])*60,_=_+Number(g[1])),Number(_)}})})(),e})})(Xm)),Xm.exports}var eB=Z5();const tB=Yb(eB),yw=({amount:n})=>tB(n).format("$0,0.00"),Fs=Q.createContext(),nB=({children:n,reducer:e,initialState:t})=>z.jsx(Fs.Provider,{value:Q.useReducer(e,t),children:n}),Wr={ADD_TO_BASKET:"ADD_TO_BASKET",REMOVE_FROM_BASKET:"REMOVE_FROM_BASKET",SET_USER:"SET_USER",EMPTY_BASKET:"EMPTY_BASKET"};function Vc({product:n,flex:e,renderDesc:t,renderAdd:r}){if(!n)return null;const{image:s,title:o,id:u,rating:h,price:d,description:f}=n,g=h&&h.rate,_=h&&h.count,[v,T]=Q.useContext(Fs),w=()=>{T({type:Wr.ADD_TO_BASKET,item:{image:s,title:o,id:u,rating:h,price:d,description:f}})};return z.jsxs("div",{className:`${ju.card_container} ${e?ju.product_flexed:""}`,children:[z.jsx(hi,{to:`/products/${u}`,children:z.jsx("img",{src:s,className:ju.img_container,alt:o})}),z.jsxs("div",{children:[z.jsx("h3",{children:o}),t&&z.jsx("div",{style:{maxWidth:"750px"},children:f}),z.jsxs("div",{className:ju.rating,children:[z.jsx(X5,{value:g,precision:.1}),z.jsx("small",{children:_})]}),z.jsx("div",{children:z.jsx(yw,{amount:d})}),r&&z.jsx("button",{className:ju.button,onClick:w,children:"add to cart"})]})]})}var rB={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function Ux(n){if(typeof n=="number")return{value:n,unit:"px"};var e,t=(n.match(/^[0-9.]*/)||"").toString();t.includes(".")?e=parseFloat(t):e=parseInt(t,10);var r=(n.match(/[^0-9]*$/)||"").toString();return rB[r]?{value:e,unit:r}:(console.warn("React Spinners: ".concat(n," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}function Ku(n){var e=Ux(n);return"".concat(e.value).concat(e.unit)}var Bx=function(n,e,t){var r="react-spinners-".concat(n,"-").concat(t);if(typeof window>"u"||!window.document)return r;var s=document.createElement("style");document.head.appendChild(s);var o=s.sheet,u=`
    @keyframes `.concat(r,` {
      `).concat(e,`
    }
  `);return o&&o.insertRule(u,0),r},_g=function(){return _g=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s])}return n},_g.apply(this,arguments)},iB=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t},sB=Bx("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");function sb(n){var e=n.loading,t=e===void 0?!0:e,r=n.color,s=r===void 0?"#000000":r,o=n.speedMultiplier,u=o===void 0?1:o,h=n.cssOverride,d=h===void 0?{}:h,f=n.size,g=f===void 0?35:f,_=iB(n,["loading","color","speedMultiplier","cssOverride","size"]),v=_g({background:"transparent !important",width:Ku(g),height:Ku(g),borderRadius:"100%",border:"2px solid",borderTopColor:s,borderBottomColor:"transparent",borderLeftColor:s,borderRightColor:s,display:"inline-block",animation:"".concat(sB," ").concat(.75/u,"s 0s infinite linear"),animationFillMode:"both"},d);return t?Q.createElement("span",_g({style:v},_)):null}var on=function(){return on=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s])}return n},on.apply(this,arguments)},aB=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t},oB=Bx("FadeLoader","50% {opacity: 0.3} 100% {opacity: 1}","fade");function lB(n){var e=n.loading,t=e===void 0?!0:e,r=n.color,s=r===void 0?"#000000":r,o=n.speedMultiplier,u=o===void 0?1:o,h=n.cssOverride,d=h===void 0?{}:h,f=n.height,g=f===void 0?15:f,_=n.width,v=_===void 0?5:_,T=n.radius,w=T===void 0?2:T,I=n.margin,x=I===void 0?2:I,H=aB(n,["loading","color","speedMultiplier","cssOverride","height","width","radius","margin"]),V=Ux(x).value,F=V+18,W=F/2+F/5.5,j=on({display:"inherit",position:"relative",fontSize:"0",top:F,left:F,width:"".concat(F*3,"px"),height:"".concat(F*3,"px")},d),$=function(M){return{position:"absolute",width:Ku(v),height:Ku(g),margin:Ku(x),backgroundColor:s,borderRadius:Ku(w),transition:"2s",animationFillMode:"both",animation:"".concat(oB," ").concat(1.2/u,"s ").concat(M*.12,"s infinite ease-in-out")}},N=on(on({},$(1)),{top:"".concat(F,"px"),left:"0"}),C=on(on({},$(2)),{top:"".concat(W,"px"),left:"".concat(W,"px"),transform:"rotate(-45deg)"}),P=on(on({},$(3)),{top:"0",left:"".concat(F,"px"),transform:"rotate(90deg)"}),L=on(on({},$(4)),{top:"".concat(-1*W,"px"),left:"".concat(W,"px"),transform:"rotate(45deg)"}),O=on(on({},$(5)),{top:"".concat(-1*F,"px"),left:"0"}),b=on(on({},$(6)),{top:"".concat(-1*W,"px"),left:"".concat(-1*W,"px"),transform:"rotate(-45deg)"}),R=on(on({},$(7)),{top:"0",left:"".concat(-1*F,"px"),transform:"rotate(90deg)"}),G=on(on({},$(8)),{top:"".concat(W,"px"),left:"".concat(-1*W,"px"),transform:"rotate(45deg)"});return t?Q.createElement("span",on({style:j},H),Q.createElement("span",{style:N}),Q.createElement("span",{style:C}),Q.createElement("span",{style:P}),Q.createElement("span",{style:L}),Q.createElement("span",{style:O}),Q.createElement("span",{style:b}),Q.createElement("span",{style:R}),Q.createElement("span",{style:G})):null}const _w=()=>z.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"50vh"},children:z.jsx(lB,{color:"#36d7b7"})});function uB(){const[n,e]=Q.useState(),[t,r]=Q.useState(!1);return Q.useEffect(()=>{Ot.get("https://fakestoreapi.com/products/").then(s=>{e(s.data),r(!1)}).catch(s=>{console.log(s),r(!1)})},[]),z.jsx(z.Fragment,{children:t?z.jsx(_w,{}):z.jsx("section",{className:ju.products_container,children:n?.map(s=>z.jsx(Vc,{product:s,renderAdd:!0},s.id))})})}const cB="_fixed_wcfgj_9",hB="_header_container_wcfgj_19",fB="_logo_container_wcfgj_35",dB="_delivery_wcfgj_59",pB="_search_wcfgj_85",mB="_order_container_wcfgj_171",gB="_language_wcfgj_205",yB="_cart_wcfgj_235",_B="_lower_container_wcfgj_269",Mi={fixed:cB,header_container:hB,logo_container:fB,delivery:dB,search:pB,order_container:mB,language:gB,cart:yB,lower_container:_B};var Fx={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},jR=Qe.createContext&&Qe.createContext(Fx),vB=["attr","size","title"];function EB(n,e){if(n==null)return{};var t=bB(n,e),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(s=0;s<o.length;s++)r=o[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function bB(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function vg(){return vg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},vg.apply(this,arguments)}function zR(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function Eg(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?zR(Object(t),!0).forEach(function(r){wB(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):zR(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function wB(n,e,t){return e=TB(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function TB(n){var e=SB(n,"string");return typeof e=="symbol"?e:e+""}function SB(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function jx(n){return n&&n.map((e,t)=>Qe.createElement(e.tag,Eg({key:t},e.attr),jx(e.child)))}function Lc(n){return e=>Qe.createElement(AB,vg({attr:Eg({},n.attr)},e),jx(n.child))}function AB(n){var e=t=>{var{attr:r,size:s,title:o}=n,u=EB(n,vB),h=s||t.size||"1em",d;return t.className&&(d=t.className),n.className&&(d=(d?d+" ":"")+n.className),Qe.createElement("svg",vg({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,u,{className:d,style:Eg(Eg({color:n.color||t.color},t.style),n.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),o&&Qe.createElement("title",null,o),n.children)};return jR!==void 0?Qe.createElement(jR.Consumer,null,t=>e(t)):e(Fx)}function IB(n){return Lc({attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Location_On"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M12,21.933a1.715,1.715,0,0,1-1.384-.691L5.555,14.5a7.894,7.894,0,1,1,12.885-.009L13.385,21.24A1.717,1.717,0,0,1,12,21.933ZM11.992,3.066A6.81,6.81,0,0,0,7.414,4.815a6.891,6.891,0,0,0-1.05,9.1l5.051,6.727a.725.725,0,0,0,.584.292h0a.732.732,0,0,0,.586-.292l5.044-6.734A6.874,6.874,0,0,0,12.81,3.113,7.277,7.277,0,0,0,11.992,3.066Z"},child:[]},{tag:"path",attr:{d:"M12,12.5A2.5,2.5,0,1,1,14.5,10,2.5,2.5,0,0,1,12,12.5Zm0-4A1.5,1.5,0,1,0,13.5,10,1.5,1.5,0,0,0,12,8.5Z"},child:[]}]}]}]})(n)}function RB(n){return Lc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"48",d:"M88 152h336M88 256h336M88 360h336"},child:[]}]})(n)}function CB(n){return Lc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M456.69 421.39 362.6 327.3a173.81 173.81 0 0 0 34.84-104.58C397.44 126.38 319.06 48 222.72 48S48 126.38 48 222.72s78.38 174.72 174.72 174.72A173.81 173.81 0 0 0 327.3 362.6l94.09 94.09a25 25 0 0 0 35.3-35.3zM97.92 222.72a124.8 124.8 0 1 1 124.8 124.8 124.95 124.95 0 0 1-124.8-124.8z"},child:[]}]})(n)}function PB(n){return Lc({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M21.822 7.431A1 1 0 0 0 21 7H7.333L6.179 4.23A1.994 1.994 0 0 0 4.333 3H2v2h2.333l4.744 11.385A1 1 0 0 0 10 17h8c.417 0 .79-.259.937-.648l3-8a1 1 0 0 0-.115-.921zM17.307 15h-6.64l-2.5-6h11.39l-2.25 6z"},child:[]},{tag:"circle",attr:{cx:"10.5",cy:"19.5",r:"1.5"},child:[]},{tag:"circle",attr:{cx:"17.5",cy:"19.5",r:"1.5"},child:[]}]})(n)}function xB(){return z.jsx("div",{className:Mi.lower_container,children:z.jsxs("ul",{children:[z.jsxs("li",{className:Mi.hamberger_btn,children:[z.jsx(RB,{}),z.jsx("p",{children:"All"})]}),z.jsx("li",{children:"Today's Deals"}),z.jsx("li",{children:"Registry"}),z.jsx("li",{children:"Gift Cards"}),z.jsx("li",{children:"Sell"})]})})}const OB=()=>{};var qR={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},DB=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=n[t++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=n[t++],u=n[t++],h=n[t++],d=((s&7)<<18|(o&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const o=n[t++],u=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|u&63)}}return e.join("")},qx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const o=n[s],u=s+1<n.length,h=u?n[s+1]:0,d=s+2<n.length,f=d?n[s+2]:0,g=o>>2,_=(o&3)<<4|h>>4;let v=(h&15)<<2|f>>6,T=f&63;d||(T=64,u||(v=64)),r.push(t[g],t[_],t[v],t[T])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(zx(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):DB(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const o=t[n.charAt(s++)],h=s<n.length?t[n.charAt(s)]:0;++s;const f=s<n.length?t[n.charAt(s)]:64;++s;const _=s<n.length?t[n.charAt(s)]:64;if(++s,o==null||h==null||f==null||_==null)throw new NB;const v=o<<2|h>>4;if(r.push(v),f!==64){const T=h<<4&240|f>>2;if(r.push(T),_!==64){const w=f<<6&192|_;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class NB extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kB=function(n){const e=zx(n);return qx.encodeByteArray(e,!0)},bg=function(n){return kB(n).replace(/\./g,"")},vw=function(n){try{return qx.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function wg(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!MB(t)||(n[t]=wg(n[t],e[t]));return n}function MB(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VB=()=>Ew().__FIREBASE_DEFAULTS__,LB=()=>{if(typeof process>"u"||typeof qR>"u")return;const n=qR.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},UB=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&vw(n[1]);return e&&JSON.parse(e)},gy=()=>{try{return OB()||VB()||LB()||UB()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},BB=n=>gy()?.emulatorHosts?.[n],bw=()=>gy()?.config,Hx=n=>gy()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FB{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uc(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function $x(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jB(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[bg(JSON.stringify(t)),bg(JSON.stringify(u)),""].join(".")}const Ff={};function zB(){const n={prod:[],emulator:[]};for(const e of Object.keys(Ff))Ff[e]?n.emulator.push(e):n.prod.push(e);return n}function qB(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let HR=!1;function Gx(n,e){if(typeof window>"u"||typeof document>"u"||!Uc(window.location.host)||Ff[n]===e||Ff[n]||HR)return;Ff[n]=e;function t(v){return`__firebase__banner__${v}`}const r="__firebase__banner",o=zB().prod.length>0;function u(){const v=document.getElementById(r);v&&v.remove()}function h(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function d(v,T){v.setAttribute("width","24"),v.setAttribute("id",T),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function f(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{HR=!0,u()},v}function g(v,T){v.setAttribute("id",T),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function _(){const v=qB(r),T=t("text"),w=document.getElementById(T)||document.createElement("span"),I=t("learnmore"),x=document.getElementById(I)||document.createElement("a"),H=t("preprendIcon"),V=document.getElementById(H)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const F=v.element;h(F),g(x,I);const W=f();d(V,H),F.append(V,w,x,W),document.body.appendChild(F)}o?(w.innerText="Preview backend disconnected.",V.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(V.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function HB(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mt())}function yy(){const n=gy()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $B(){return typeof window<"u"||Kx()}function Kx(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function GB(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Wx(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function ww(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Qx(){const n=Mt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Yx(){return!yy()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Xx(){return!yy()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function ad(){try{return typeof indexedDB=="object"}catch{return!1}}function KB(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WB="FirebaseError";class rr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=WB,Object.setPrototypeOf(this,rr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kl.prototype.create)}}class kl{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,o=this.errors[e],u=o?QB(o,r):"Error",h=`${this.serviceName}: ${u} (${s}).`;return new rr(s,h,r)}}function QB(n,e){return n.replace(YB,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const YB=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function XB(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ms(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const o=n[s],u=e[s];if(GR(o)&&GR(u)){if(!Ms(o,u))return!1}else if(o!==u)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function GR(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bc(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Wu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function Of(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function Jx(n,e){const t=new JB(n,e);return t.subscribe.bind(t)}class JB{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");ZB(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=wE),s.error===void 0&&(s.error=wE),s.complete===void 0&&(s.complete=wE);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ZB(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function wE(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(n){return n&&n._delegate?n._delegate:n}class Ji{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eF{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new FB;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(nF(e))try{this.getOrInitializeService({instanceIdentifier:nl})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=nl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=nl){return this.instances.has(e)}getOptions(e=nl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);r===h&&u.resolve(s)}return s}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:tF(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=nl){return this.component?this.component.multipleInstances?e:nl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tF(n){return n===nl?void 0:n}function nF(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new eF(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw=[];var qe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(qe||(qe={}));const eO={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},rF=qe.INFO,iF={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},sF=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=iF[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _y{constructor(e){this.name=e,this._logLevel=rF,this._logHandler=sF,this._userLogHandler=null,Tw.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?eO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}function aF(n){Tw.forEach(e=>{e.setLogLevel(n)})}function oF(n,e){for(const t of Tw){let r=null;e&&e.level&&(r=eO[e.level]),n===null?t.userLogHandler=null:t.userLogHandler=(s,o,...u)=>{const h=u.map(d=>{if(d==null)return null;if(typeof d=="string")return d;if(typeof d=="number"||typeof d=="boolean")return d.toString();if(d instanceof Error)return d.message;try{return JSON.stringify(d)}catch{return null}}).filter(d=>d).join(" ");o>=(r??s.logLevel)&&n({level:qe[o].toLowerCase(),message:h,args:u,type:s.name})}}}const lF=(n,e)=>e.some(t=>n instanceof t);let KR,WR;function uF(){return KR||(KR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cF(){return WR||(WR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tO=new WeakMap,ab=new WeakMap,nO=new WeakMap,TE=new WeakMap,Sw=new WeakMap;function hF(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{t(ja(n.result)),s()},u=()=>{r(n.error),s()};n.addEventListener("success",o),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&tO.set(t,n)}).catch(()=>{}),Sw.set(e,n),e}function fF(n){if(ab.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{t(),s()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});ab.set(n,e)}let ob={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return ab.get(n);if(e==="objectStoreNames")return n.objectStoreNames||nO.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ja(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function dF(n){ob=n(ob)}function pF(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(SE(this),e,...t);return nO.set(r,e.sort?e.sort():[e]),ja(r)}:cF().includes(n)?function(...e){return n.apply(SE(this),e),ja(tO.get(this))}:function(...e){return ja(n.apply(SE(this),e))}}function mF(n){return typeof n=="function"?pF(n):(n instanceof IDBTransaction&&fF(n),lF(n,uF())?new Proxy(n,ob):n)}function ja(n){if(n instanceof IDBRequest)return hF(n);if(TE.has(n))return TE.get(n);const e=mF(n);return e!==n&&(TE.set(n,e),Sw.set(e,n)),e}const SE=n=>Sw.get(n);function gF(n,e,{blocked:t,upgrade:r,blocking:s,terminated:o}={}){const u=indexedDB.open(n,e),h=ja(u);return r&&u.addEventListener("upgradeneeded",d=>{r(ja(u.result),d.oldVersion,d.newVersion,ja(u.transaction),d)}),t&&u.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),h.then(d=>{o&&d.addEventListener("close",()=>o()),s&&d.addEventListener("versionchange",f=>s(f.oldVersion,f.newVersion,f))}).catch(()=>{}),h}const yF=["get","getKey","getAll","getAllKeys","count"],_F=["put","add","delete","clear"],AE=new Map;function QR(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(AE.get(e))return AE.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=_F.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||yF.includes(t)))return;const o=async function(u,...h){const d=this.transaction(u,s?"readwrite":"readonly");let f=d.store;return r&&(f=f.index(h.shift())),(await Promise.all([f[t](...h),s&&d.done]))[0]};return AE.set(e,o),o}dF(n=>({...n,get:(e,t,r)=>QR(e,t)||n.get(e,t,r),has:(e,t)=>!!QR(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(EF(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function EF(n){return n.getComponent()?.type==="VERSION"}const Tg="@firebase/app",lb="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs=new _y("@firebase/app"),bF="@firebase/app-compat",wF="@firebase/analytics-compat",TF="@firebase/analytics",SF="@firebase/app-check-compat",AF="@firebase/app-check",IF="@firebase/auth",RF="@firebase/auth-compat",CF="@firebase/database",PF="@firebase/data-connect",xF="@firebase/database-compat",OF="@firebase/functions",DF="@firebase/functions-compat",NF="@firebase/installations",kF="@firebase/installations-compat",MF="@firebase/messaging",VF="@firebase/messaging-compat",LF="@firebase/performance",UF="@firebase/performance-compat",BF="@firebase/remote-config",FF="@firebase/remote-config-compat",jF="@firebase/storage",zF="@firebase/storage-compat",qF="@firebase/firestore",HF="@firebase/ai",$F="@firebase/firestore-compat",GF="firebase",KF="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa="[DEFAULT]",WF={[Tg]:"fire-core",[bF]:"fire-core-compat",[TF]:"fire-analytics",[wF]:"fire-analytics-compat",[AF]:"fire-app-check",[SF]:"fire-app-check-compat",[IF]:"fire-auth",[RF]:"fire-auth-compat",[CF]:"fire-rtdb",[PF]:"fire-data-connect",[xF]:"fire-rtdb-compat",[OF]:"fire-fn",[DF]:"fire-fn-compat",[NF]:"fire-iid",[kF]:"fire-iid-compat",[MF]:"fire-fcm",[VF]:"fire-fcm-compat",[LF]:"fire-perf",[UF]:"fire-perf-compat",[BF]:"fire-rc",[FF]:"fire-rc-compat",[jF]:"fire-gcs",[zF]:"fire-gcs-compat",[qF]:"fire-fst",[$F]:"fire-fst-compat",[HF]:"fire-vertex","fire-js":"fire-js",[GF]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa=new Map,ac=new Map,oc=new Map;function od(n,e){try{n.container.addComponent(e)}catch(t){Vs.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function rO(n,e){n.container.addOrOverwriteComponent(e)}function Ya(n){const e=n.name;if(oc.has(e))return Vs.debug(`There were multiple attempts to register component ${e}.`),!1;oc.set(e,n);for(const t of Qa.values())od(t,n);for(const t of ac.values())od(t,n);return!0}function vy(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function QF(n,e,t=Wa){vy(n,e).clearInstance(t)}function Aw(n){return n.options!==void 0}function iO(n){return Aw(n)?!1:"authIdToken"in n||"appCheckToken"in n||"releaseOnDeref"in n||"automaticDataCollectionEnabled"in n}function Ct(n){return n==null?!1:n.settings!==void 0}function YF(){oc.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Nr=new kl("app","Firebase",XF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sO=class{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ji("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Nr.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YR(n,e){const t=vw(n.split(".")[1]);if(t===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(t).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const s=JSON.parse(t).exp*1e3,o=new Date().getTime();s-o<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class JF extends sO{constructor(e,t,r,s){const o=t.automaticDataCollectionEnabled!==void 0?t.automaticDataCollectionEnabled:!0,u={name:r,automaticDataCollectionEnabled:o};if(e.apiKey!==void 0)super(e,u,s);else{const h=e;super(h.options,u,s)}this._serverConfig={automaticDataCollectionEnabled:o,...t},this._serverConfig.authIdToken&&YR(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&YR(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,di(Tg,lb,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Rw(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Nr.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo=KF;function Iw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:Wa,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Nr.create("bad-app-name",{appName:String(s)});if(t||(t=bw()),!t)throw Nr.create("no-options");const o=Qa.get(s);if(o){if(Ms(t,o.options)&&Ms(r,o.config))return o;throw Nr.create("duplicate-app",{appName:s})}const u=new Zx(s);for(const d of oc.values())u.addComponent(d);const h=new sO(t,r,u);return Qa.set(s,h),h}function ZF(n,e={}){if($B()&&!Kx())throw Nr.create("invalid-server-app-environment");let t,r=e||{};if(n&&(Aw(n)?t=n.options:iO(n)?r=n:t=n),r.automaticDataCollectionEnabled===void 0&&(r.automaticDataCollectionEnabled=!0),t||(t=bw()),!t)throw Nr.create("no-options");const s={...r,...t};s.releaseOnDeref!==void 0&&delete s.releaseOnDeref;const o=g=>[...g].reduce((_,v)=>Math.imul(31,_)+v.charCodeAt(0)|0,0);if(r.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw Nr.create("finalization-registry-not-supported",{});const u=""+o(JSON.stringify(s)),h=ac.get(u);if(h)return h.incRefCount(r.releaseOnDeref),h;const d=new Zx(u);for(const g of oc.values())d.addComponent(g);const f=new JF(t,r,u,d);return ac.set(u,f),f}function aO(n=Wa){const e=Qa.get(n);if(!e&&n===Wa&&bw())return Iw();if(!e)throw Nr.create("no-app",{appName:n});return e}function e9(){return Array.from(Qa.values())}async function Rw(n){let e=!1;const t=n.name;Qa.has(t)?(e=!0,Qa.delete(t)):ac.has(t)&&n.decRefCount()<=0&&(ac.delete(t),e=!0),e&&(await Promise.all(n.container.getProviders().map(r=>r.delete())),n.isDeleted=!0)}function di(n,e,t){let r=WF[n]??n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const u=[`Unable to register library "${r}" with version "${e}":`];s&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&u.push("and"),o&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vs.warn(u.join(" "));return}Ya(new Ji(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}function oO(n,e){if(n!==null&&typeof n!="function")throw Nr.create("invalid-log-argument");oF(n,e)}function lO(n){aF(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t9="firebase-heartbeat-database",n9=1,ld="firebase-heartbeat-store";let IE=null;function uO(){return IE||(IE=gF(t9,n9,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ld)}catch(t){console.warn(t)}}}}).catch(n=>{throw Nr.create("idb-open",{originalErrorMessage:n.message})})),IE}async function r9(n){try{const t=(await uO()).transaction(ld),r=await t.objectStore(ld).get(cO(n));return await t.done,r}catch(e){if(e instanceof rr)Vs.warn(e.message);else{const t=Nr.create("idb-get",{originalErrorMessage:e?.message});Vs.warn(t.message)}}}async function XR(n,e){try{const r=(await uO()).transaction(ld,"readwrite");await r.objectStore(ld).put(e,cO(n)),await r.done}catch(t){if(t instanceof rr)Vs.warn(t.message);else{const r=Nr.create("idb-set",{originalErrorMessage:t?.message});Vs.warn(r.message)}}}function cO(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i9=1024,s9=30;class a9{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new l9(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=JR();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>s9){const s=u9(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Vs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=JR(),{heartbeatsToSend:t,unsentEntries:r}=o9(this._heartbeatsCache.heartbeats),s=bg(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return Vs.warn(e),""}}}function JR(){return new Date().toISOString().substring(0,10)}function o9(n,e=i9){const t=[];let r=n.slice();for(const s of n){const o=t.find(u=>u.agent===s.agent);if(o){if(o.dates.push(s.date),ZR(t)>e){o.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),ZR(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class l9{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ad()?KB().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await r9(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return XR(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return XR(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function ZR(n){return bg(JSON.stringify({version:2,heartbeats:n})).length}function u9(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c9(n){Ya(new Ji("platform-logger",e=>new vF(e),"PRIVATE")),Ya(new Ji("heartbeat",e=>new a9(e),"PRIVATE")),di(Tg,lb,n),di(Tg,lb,"esm2020"),di("fire-js","")}c9("");const h9=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:rr,SDK_VERSION:lo,_DEFAULT_ENTRY_NAME:Wa,_addComponent:od,_addOrOverwriteComponent:rO,_apps:Qa,_clearComponents:YF,_components:oc,_getProvider:vy,_isFirebaseApp:Aw,_isFirebaseServerApp:Ct,_isFirebaseServerAppSettings:iO,_registerComponent:Ya,_removeServiceInstance:QF,_serverApps:ac,deleteApp:Rw,getApp:aO,getApps:e9,initializeApp:Iw,initializeServerApp:ZF,onLog:oO,registerVersion:di,setLogLevel:lO},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f9{constructor(e,t){this._delegate=e,this.firebase=t,od(e,new Ji("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),Rw(this._delegate)))}_getService(e,t=Wa){this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return!r.isInitialized()&&r.getComponent()?.instantiationMode==="EXPLICIT"&&r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e,t=Wa){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){od(this._delegate,e)}_addOrOverwriteComponent(e){rO(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d9={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},e1=new kl("app-compat","Firebase",d9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p9(n){const e={},t={__esModule:!0,initializeApp:o,app:s,registerVersion:di,setLogLevel:lO,onLog:oO,apps:null,SDK_VERSION:lo,INTERNAL:{registerComponent:h,removeApp:r,useAsService:d,modularAPIs:h9}};t.default=t,Object.defineProperty(t,"apps",{get:u});function r(f){delete e[f]}function s(f){if(f=f||Wa,!$R(e,f))throw e1.create("no-app",{appName:f});return e[f]}s.App=n;function o(f,g={}){const _=Iw(f,g);if($R(e,_.name))return e[_.name];const v=new n(_,t);return e[_.name]=v,v}function u(){return Object.keys(e).map(f=>e[f])}function h(f){const g=f.name,_=g.replace("-compat","");if(Ya(f)&&f.type==="PUBLIC"){const v=(T=s())=>{if(typeof T[_]!="function")throw e1.create("invalid-app-argument",{appName:g});return T[_]()};f.serviceProps!==void 0&&wg(v,f.serviceProps),t[_]=v,n.prototype[_]=function(...T){return this._getService.bind(this,g).apply(this,f.multipleInstances?T:[])}}return f.type==="PUBLIC"?t[_]:null}function d(f,g){return g==="serverAuth"?null:g}return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hO(){const n=p9(f9);n.INTERNAL={...n.INTERNAL,createFirebaseNamespace:hO,extendNamespace:e,createSubscribe:Jx,ErrorFactory:kl,deepExtend:wg};function e(t){wg(n,t)}return n}const m9=hO();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1=new _y("@firebase/app-compat"),g9="@firebase/app-compat",y9="0.5.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _9(n){di(g9,y9,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const n=Ew();if(n.firebase!==void 0){t1.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=n.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&t1.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const Fc=m9;_9();var v9="firebase",E9="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fc.registerVersion(v9,E9,"app-compat");const _f={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},ku={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b9(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function fO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const w9=b9,T9=fO,dO=new kl("auth","Firebase",fO());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sg=new _y("@firebase/auth");function S9(n,...e){Sg.logLevel<=qe.WARN&&Sg.warn(`Auth (${lo}): ${n}`,...e)}function Jm(n,...e){Sg.logLevel<=qe.ERROR&&Sg.error(`Auth (${lo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(n,...e){throw Pw(n,...e)}function _n(n,...e){return Pw(n,...e)}function Cw(n,e,t){const r={...T9(),[e]:t};return new kl("auth","Firebase",r).create(e,{appName:n.name})}function In(n){return Cw(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jc(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Rn(n,"argument-error"),Cw(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Pw(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return dO.create(n,...e)}function ge(n,e,...t){if(!n)throw Pw(e,...t)}function Hi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Jm(e),new Error(e)}function gi(n,e){n||Hi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ud(){return typeof self<"u"&&self.location?.href||""}function xw(){return n1()==="http:"||n1()==="https:"}function n1(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(xw()||Wx()||"connection"in navigator)?navigator.onLine:!0}function I9(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,t){this.shortDelay=e,this.longDelay=t,gi(t>e,"Short delay should be less than long delay!"),this.isMobile=HB()||ww()}get(){return A9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(n,e){gi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C9=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],P9=new Bd(3e4,6e4);function zt(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function qt(n,e,t,r,s={}){return mO(n,s,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const h=Bc({key:n.config.apiKey,...u}).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const f={method:e,headers:d,...o};return GB()||(f.referrerPolicy="no-referrer"),n.emulatorConfig&&Uc(n.emulatorConfig.host)&&(f.credentials="include"),pO.fetch()(await gO(n,n.config.apiHost,t,h),f)})}async function mO(n,e,t){n._canInitEmulator=!1;const r={...R9,...e};try{const s=new O9(n),o=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw Df(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const h=o.ok?u.errorMessage:u.error.message,[d,f]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Df(n,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw Df(n,"email-already-in-use",u);if(d==="USER_DISABLED")throw Df(n,"user-disabled",u);const g=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw Cw(n,g,f);Rn(n,g)}}catch(s){if(s instanceof rr)throw s;Rn(n,"network-request-failed",{message:String(s)})}}async function js(n,e,t,r,s={}){const o=await qt(n,e,t,r,s);return"mfaPendingCredential"in o&&Rn(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function gO(n,e,t,r){const s=`${e}${t}?${r}`,o=n,u=o.config.emulator?Ow(n.config,s):`${n.config.apiScheme}://${s}`;return C9.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function x9(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class O9{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(_n(this.auth,"network-request-failed")),P9.get())})}}function Df(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=_n(n,e,r);return s.customData._tokenResponse=t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(n){return n!==void 0&&n.getResponse!==void 0}function i1(n){return n!==void 0&&n.enterprise!==void 0}class yO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return x9(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D9(n){return(await qt(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function _O(n,e){return qt(n,"GET","/v2/recaptchaConfig",zt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N9(n,e){return qt(n,"POST","/v1/accounts:delete",e)}async function k9(n,e){return qt(n,"POST","/v1/accounts:update",e)}async function Ag(n,e){return qt(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jf(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function M9(n,e=!1){const t=Pe(n),r=await t.getIdToken(e),s=Ey(r);ge(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,u=o?.sign_in_provider;return{claims:s,token:r,authTime:jf(RE(s.auth_time)),issuedAtTime:jf(RE(s.iat)),expirationTime:jf(RE(s.exp)),signInProvider:u||null,signInSecondFactor:o?.sign_in_second_factor||null}}function RE(n){return Number(n)*1e3}function Ey(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Jm("JWT malformed, contained fewer than 3 sections"),null;try{const s=vw(t);return s?JSON.parse(s):(Jm("Failed to decode base64 JWT payload"),null)}catch(s){return Jm("Caught error parsing JWT payload as JSON",s?.toString()),null}}function s1(n){const e=Ey(n);return ge(e,"internal-error"),ge(typeof e.exp<"u","internal-error"),ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ls(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof rr&&V9(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function V9({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=jf(this.lastLoginAt),this.creationTime=jf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cd(n){const e=n.auth,t=await n.getIdToken(),r=await Ls(n,Ag(e,{idToken:t}));ge(r?.users.length,e,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const o=s.providerUserInfo?.length?vO(s.providerUserInfo):[],u=B9(n.providerData,o),h=n.isAnonymous,d=!(n.email&&s.passwordHash)&&!u?.length,f=h?d:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new ub(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(n,g)}async function U9(n){const e=Pe(n);await cd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function B9(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function vO(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F9(n,e){const t=await mO(n,{},async()=>{const r=Bc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=n.config,u=await gO(n,s,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:h,body:r};return n.emulatorConfig&&Uc(n.emulatorConfig.host)&&(d.credentials="include"),pO.fetch()(u,d)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function j9(n,e){return qt(n,"POST","/v2/accounts:revokeToken",zt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ge(e.idToken,"internal-error"),ge(typeof e.idToken<"u","internal-error"),ge(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):s1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ge(e.length!==0,"internal-error");const t=s1(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:o}=await F9(e,t);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:o}=t,u=new Xu;return r&&(ge(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(ge(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),o&&(ge(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xu,this.toJSON())}_performRefresh(){return Hi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xa(n,e){ge(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class fi{constructor({uid:e,auth:t,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new L9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ub(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await Ls(this,this.stsTokenManager.getToken(this.auth,e));return ge(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return M9(this,e)}reload(){return U9(this)}_assign(e){this!==e&&(ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new fi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await cd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ct(this.auth.app))return Promise.reject(In(this.auth));const e=await this.getIdToken();return await Ls(this,N9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,s=t.email??void 0,o=t.phoneNumber??void 0,u=t.photoURL??void 0,h=t.tenantId??void 0,d=t._redirectEventId??void 0,f=t.createdAt??void 0,g=t.lastLoginAt??void 0,{uid:_,emailVerified:v,isAnonymous:T,providerData:w,stsTokenManager:I}=t;ge(_&&I,e,"internal-error");const x=Xu.fromJSON(this.name,I);ge(typeof _=="string",e,"internal-error"),xa(r,e.name),xa(s,e.name),ge(typeof v=="boolean",e,"internal-error"),ge(typeof T=="boolean",e,"internal-error"),xa(o,e.name),xa(u,e.name),xa(h,e.name),xa(d,e.name),xa(f,e.name),xa(g,e.name);const H=new fi({uid:_,auth:e,email:s,emailVerified:v,displayName:r,isAnonymous:T,photoURL:u,phoneNumber:o,tenantId:h,stsTokenManager:x,createdAt:f,lastLoginAt:g});return w&&Array.isArray(w)&&(H.providerData=w.map(V=>({...V}))),d&&(H._redirectEventId=d),H}static async _fromIdTokenResponse(e,t,r=!1){const s=new Xu;s.updateFromServerResponse(t);const o=new fi({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await cd(o),o}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];ge(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?vO(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!o?.length,h=new Xu;h.updateFromIdToken(r);const d=new fi({uid:s.localId,auth:e,stsTokenManager:h,isAnonymous:u}),f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new ub(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!o?.length};return Object.assign(d,f),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1=new Map;function xr(n){gi(n instanceof Function,"Expected a class definition");let e=a1.get(n);return e?(gi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,a1.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}EO.type="NONE";const lc=EO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _l(n,e,t){return`firebase:${n}:${e}:${t}`}class Ju{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=_l(this.userKey,s.apiKey,o),this.fullPersistenceKey=_l("persistence",s.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Ag(this.auth,{idToken:e}).catch(()=>{});return t?fi._fromGetAccountInfoResponse(this.auth,t,e):null}return fi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Ju(xr(lc),e,r);const s=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=s[0]||xr(lc);const u=_l(r,e.config.apiKey,e.name);let h=null;for(const f of t)try{const g=await f._get(u);if(g){let _;if(typeof g=="string"){const v=await Ag(e,{idToken:g}).catch(()=>{});if(!v)break;_=await fi._fromGetAccountInfoResponse(e,v,g)}else _=fi._fromJSON(e,g);f!==o&&(h=_),o=f;break}}catch{}const d=s.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new Ju(o,e,r):(o=d[0],h&&await o._set(u,h.toJSON()),await Promise.all(t.map(async f=>{if(f!==o)try{await f._remove(u)}catch{}})),new Ju(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(SO(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(bO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(AO(e))return"Blackberry";if(IO(e))return"Webos";if(wO(e))return"Safari";if((e.includes("chrome/")||TO(e))&&!e.includes("edge/"))return"Chrome";if(Fd(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function bO(n=Mt()){return/firefox\//i.test(n)}function wO(n=Mt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function TO(n=Mt()){return/crios\//i.test(n)}function SO(n=Mt()){return/iemobile/i.test(n)}function Fd(n=Mt()){return/android/i.test(n)}function AO(n=Mt()){return/blackberry/i.test(n)}function IO(n=Mt()){return/webos/i.test(n)}function jd(n=Mt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function z9(n=Mt()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(n)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(n)}function q9(n=Mt()){return jd(n)&&!!window.navigator?.standalone}function H9(){return Qx()&&document.documentMode===10}function RO(n=Mt()){return jd(n)||Fd(n)||IO(n)||AO(n)||/windows phone/i.test(n)||SO(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CO(n,e=[]){let t;switch(n){case"Browser":t=o1(Mt());break;case"Worker":t=`${o1(Mt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${lo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $9{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((u,h)=>{try{const d=e(o);u(d)}catch(d){h(d)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G9(n,e={}){return qt(n,"GET","/v2/passwordPolicy",zt(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K9=6;class W9{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??K9,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q9{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new l1(this),this.idTokenSubscription=new l1(this),this.beforeStateQueue=new $9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=xr(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ju.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Ag(this,{idToken:e}),r=await fi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ct(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,u=r?._redirectEventId,h=await this.tryRedirectSignIn(e);(!o||o===u)&&h?.user&&(r=h.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await cd(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=I9()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ct(this.app))return Promise.reject(In(this));const t=e?Pe(e):null;return t&&ge(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ct(this.app)?Promise.reject(In(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ct(this.app)?Promise.reject(In(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await G9(this),t=new W9(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new kl("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await j9(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&xr(e)||this._popupRedirectResolver;ge(t,this,"argument-error"),this.redirectPersistenceManager=await Ju.create(this,[xr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(h,this,"internal-error"),h.then(()=>{u||o(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,r,s);return()=>{u=!0,d()}}else{const d=e.addObserver(t);return()=>{u=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=CO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Ct(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&S9(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Vt(n){return Pe(n)}class l1{constructor(e){this.auth=e,this.observer=null,this.addObserver=Jx(t=>this.observer=t)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Y9(n){zd=n}function Dw(n){return zd.loadJS(n)}function X9(){return zd.recaptchaV2Script}function J9(){return zd.recaptchaEnterpriseScript}function Z9(){return zd.gapiScript}function PO(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ej=500,tj=6e4,Om=1e12;class nj{constructor(e){this.auth=e,this.counter=Om,this._widgets=new Map}render(e,t){const r=this.counter;return this._widgets.set(r,new sj(e,this.auth.name,t||{})),this.counter++,r}reset(e){const t=e||Om;this._widgets.get(t)?.delete(),this._widgets.delete(t)}getResponse(e){const t=e||Om;return this._widgets.get(t)?.getResponse()||""}async execute(e){const t=e||Om;return this._widgets.get(t)?.execute(),""}}class rj{constructor(){this.enterprise=new ij}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class ij{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class sj{constructor(e,t,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const s=typeof e=="string"?document.getElementById(e):e;ge(s,"argument-error",{appName:t}),this.container=s,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=aj(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},tj)},ej))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function aj(n){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<n;r++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}const oj="recaptcha-enterprise",zf="NO_RECAPTCHA";class xO{constructor(e){this.type=oj,this.auth=Vt(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,h)=>{_O(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const f=new yO(d);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,u(f.siteKey)}}).catch(d=>{h(d)})})}function s(o,u,h){const d=window.grecaptcha;i1(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(f=>{u(f)}).catch(()=>{u(zf)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new rj().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{r(this.auth).then(h=>{if(!t&&i1(window.grecaptcha))s(h,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let d=J9();d.length!==0&&(d+=h),Dw(d).then(()=>{s(h,o,u)}).catch(f=>{u(f)})}}).catch(h=>{u(h)})})}}async function vf(n,e,t,r=!1,s=!1){const o=new xO(n);let u;if(s)u=zf;else try{u=await o.verify(t)}catch{u=await o.verify(t,!0)}const h={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const d=h.phoneEnrollmentInfo.phoneNumber,f=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const d=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function za(n,e,t,r,s){if(s==="EMAIL_PASSWORD_PROVIDER")if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await vf(n,e,t,t==="getOobCode");return r(n,o)}else return r(n,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await vf(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(o)});else if(s==="PHONE_PROVIDER")if(n._getRecaptchaConfig()?.isProviderEnabled("PHONE_PROVIDER")){const o=await vf(n,e,t);return r(n,o).catch(async u=>{if(n._getRecaptchaConfig()?.getProviderEnforcementState("PHONE_PROVIDER")==="AUDIT"&&(u.code==="auth/missing-recaptcha-token"||u.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);const h=await vf(n,e,t,!1,!0);return r(n,h)}return Promise.reject(u)})}else{const o=await vf(n,e,t,!1,!0);return r(n,o)}else return Promise.reject(s+" provider is not supported.")}async function lj(n){const e=Vt(n),t=await _O(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new yO(t);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new xO(e).verify()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uj(n,e){const t=vy(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),o=t.getOptions();if(Ms(o,e??{}))return s;Rn(s,"already-initialized")}return t.initialize({options:e})}function cj(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(xr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function OO(n,e,t){const r=Vt(n);ge(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!t?.disableWarnings,o=DO(e),{host:u,port:h}=hj(e),d=h===null?"":`:${h}`,f={url:`${o}//${u}${d}/`},g=Object.freeze({host:u,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){ge(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ge(Ms(f,r.config.emulator)&&Ms(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,Uc(u)?($x(`${o}//${u}${d}`),Gx("Auth",!0)):s||fj()}function DO(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function hj(n){const e=DO(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:u1(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:u1(u)}}}function u1(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function fj(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Hi("not implemented")}_getIdTokenResponse(e){return Hi("not implemented")}_linkToIdToken(e,t){return Hi("not implemented")}_getReauthenticationResolver(e){return Hi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NO(n,e){return qt(n,"POST","/v1/accounts:resetPassword",zt(n,e))}async function dj(n,e){return qt(n,"POST","/v1/accounts:update",e)}async function pj(n,e){return qt(n,"POST","/v1/accounts:signUp",e)}async function mj(n,e){return qt(n,"POST","/v1/accounts:update",zt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gj(n,e){return js(n,"POST","/v1/accounts:signInWithPassword",zt(n,e))}async function by(n,e){return qt(n,"POST","/v1/accounts:sendOobCode",zt(n,e))}async function yj(n,e){return by(n,e)}async function _j(n,e){return by(n,e)}async function vj(n,e){return by(n,e)}async function Ej(n,e){return by(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bj(n,e){return js(n,"POST","/v1/accounts:signInWithEmailLink",zt(n,e))}async function wj(n,e){return js(n,"POST","/v1/accounts:signInWithEmailLink",zt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd extends zc{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new hd(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new hd(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return za(e,t,"signInWithPassword",gj,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return bj(e,{email:this._email,oobCode:this._password});default:Rn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return za(e,r,"signUpPassword",pj,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return wj(e,{idToken:t,email:this._email,oobCode:this._password});default:Rn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ds(n,e){return js(n,"POST","/v1/accounts:signInWithIdp",zt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tj="http://localhost";class Zi extends zc{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Zi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Rn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...o}=t;if(!r||!s)return null;const u=new Zi(r,s);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Ds(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ds(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ds(e,t)}buildRequest(){const e={requestUri:Tj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Bc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c1(n,e){return qt(n,"POST","/v1/accounts:sendVerificationCode",zt(n,e))}async function Sj(n,e){return js(n,"POST","/v1/accounts:signInWithPhoneNumber",zt(n,e))}async function Aj(n,e){const t=await js(n,"POST","/v1/accounts:signInWithPhoneNumber",zt(n,e));if(t.temporaryProof)throw Df(n,"account-exists-with-different-credential",t);return t}const Ij={USER_NOT_FOUND:"user-not-found"};async function Rj(n,e){const t={...e,operation:"REAUTH"};return js(n,"POST","/v1/accounts:signInWithPhoneNumber",zt(n,t),Ij)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl extends zc{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new vl({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new vl({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return Sj(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return Aj(e,{idToken:t,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return Rj(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:s}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:s}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:t,verificationCode:r,phoneNumber:s,temporaryProof:o}=e;return!r&&!t&&!s&&!o?null:new vl({verificationId:t,verificationCode:r,phoneNumber:s,temporaryProof:o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cj(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Pj(n){const e=Wu(Of(n)).link,t=e?Wu(Of(e)).deep_link_id:null,r=Wu(Of(n)).deep_link_id;return(r?Wu(Of(r)).link:null)||r||t||e||n}class wy{constructor(e){const t=Wu(Of(e)),r=t.apiKey??null,s=t.oobCode??null,o=Cj(t.mode??null);ge(r&&s&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=s,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=Pj(e);try{return new wy(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(){this.providerId=uo.PROVIDER_ID}static credential(e,t){return hd._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=wy.parseLink(t);return ge(r,"argument-error"),hd._fromEmailAndCode(e,r.code,r.tenantId)}}uo.PROVIDER_ID="password";uo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";uo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc extends zs{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Zu extends qc{static credentialFromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;return ge("providerId"in t&&"signInMethod"in t,"argument-error"),Zi._fromParams(t)}credential(e){return this._credential({...e,nonce:e.rawNonce})}_credential(e){return ge(e.idToken||e.accessToken,"argument-error"),Zi._fromParams({...e,providerId:this.providerId,signInMethod:this.providerId})}static credentialFromResult(e){return Zu.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Zu.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r,oauthTokenSecret:s,pendingToken:o,nonce:u,providerId:h}=e;if(!r&&!s&&!t&&!o||!h)return null;try{return new Zu(h)._credential({idToken:t,accessToken:r,nonce:u,pendingToken:o})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends qc{constructor(){super("facebook.com")}static credential(e){return Zi._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fi.credential(e.oauthAccessToken)}catch{return null}}}Fi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends qc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Zi._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return ji.credential(t,r)}catch{return null}}}ji.GOOGLE_SIGN_IN_METHOD="google.com";ji.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends qc{constructor(){super("github.com")}static credential(e){return Zi._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zi.credential(e.oauthAccessToken)}catch{return null}}}zi.GITHUB_SIGN_IN_METHOD="github.com";zi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xj="http://localhost";class uc extends zc{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){const t=this.buildRequest();return Ds(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ds(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ds(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,pendingToken:o}=t;return!r||!s||!o||r!==s?null:new uc(r,o)}static _create(e,t){return new uc(e,t)}buildRequest(){return{requestUri:xj,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oj="saml.";class Ig extends zs{constructor(e){ge(e.startsWith(Oj),"argument-error"),super(e)}static credentialFromResult(e){return Ig.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Ig.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=uc.fromJSON(e);return ge(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:r}=e;if(!t||!r)return null;try{return uc._create(r,t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends qc{constructor(){super("twitter.com")}static credential(e,t){return Zi._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return qi.credential(t,r)}catch{return null}}}qi.TWITTER_SIGN_IN_METHOD="twitter.com";qi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kO(n,e){return js(n,"POST","/v1/accounts:signUp",zt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const o=await fi._fromIdTokenResponse(e,r,s),u=h1(r);return new Xr({user:o,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=h1(r);return new Xr({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function h1(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dj(n){if(Ct(n.app))return Promise.reject(In(n));const e=Vt(n);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Xr({user:e.currentUser,providerId:null,operationType:"signIn"});const t=await kO(e,{returnSecureToken:!0}),r=await Xr._fromIdTokenResponse(e,"signIn",t,!0);return await e._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg extends rr{constructor(e,t,r,s){super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Rg.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new Rg(e,t,r,s)}}function MO(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Rg._fromErrorAndOperation(n,o,e,r):o})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VO(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nj(n,e){const t=Pe(n);await Ty(!0,t,e);const{providerUserInfo:r}=await k9(t.auth,{idToken:await t.getIdToken(),deleteProvider:[e]}),s=VO(r||[]);return t.providerData=t.providerData.filter(o=>s.has(o.providerId)),s.has("phone")||(t.phoneNumber=null),await t.auth._persistUserIfCurrent(t),t}async function Nw(n,e,t=!1){const r=await Ls(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Xr._forOperation(n,"link",r)}async function Ty(n,e,t){await cd(e);const r=VO(e.providerData),s=n===!1?"provider-already-linked":"no-such-provider";ge(r.has(t)===n,e.auth,s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LO(n,e,t=!1){const{auth:r}=n;if(Ct(r.app))return Promise.reject(In(r));const s="reauthenticate";try{const o=await Ls(n,MO(r,s,e,n),t);ge(o.idToken,r,"internal-error");const u=Ey(o.idToken);ge(u,r,"internal-error");const{sub:h}=u;return ge(n.uid===h,r,"user-mismatch"),Xr._forOperation(n,s,o)}catch(o){throw o?.code==="auth/user-not-found"&&Rn(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UO(n,e,t=!1){if(Ct(n.app))return Promise.reject(In(n));const r="signIn",s=await MO(n,r,e),o=await Xr._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(o.user),o}async function Sy(n,e){return UO(Vt(n),e)}async function BO(n,e){const t=Pe(n);return await Ty(!1,t,e.providerId),Nw(t,e)}async function FO(n,e){return LO(Pe(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kj(n,e){return js(n,"POST","/v1/accounts:signInWithCustomToken",zt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mj(n,e){if(Ct(n.app))return Promise.reject(In(n));const t=Vt(n),r=await kj(t,{token:e,returnSecureToken:!0}),s=await Xr._fromIdTokenResponse(t,"signIn",r);return await t._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?kw._fromServerResponse(e,t):"totpInfo"in t?Mw._fromServerResponse(e,t):Rn(e,"internal-error")}}class kw extends qd{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new kw(t)}}class Mw extends qd{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new Mw(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ay(n,e,t){ge(t.url?.length>0,n,"invalid-continue-uri"),ge(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),ge(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(ge(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(ge(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vw(n){const e=Vt(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Vj(n,e,t){const r=Vt(n),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&Ay(r,s,t),await za(r,s,"getOobCode",_j,"EMAIL_PASSWORD_PROVIDER")}async function Lj(n,e,t){await NO(Pe(n),{oobCode:e,newPassword:t}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Vw(n),r})}async function Uj(n,e){await mj(Pe(n),{oobCode:e})}async function jO(n,e){const t=Pe(n),r=await NO(t,{oobCode:e}),s=r.requestType;switch(ge(s,t,"internal-error"),s){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ge(r.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ge(r.mfaInfo,t,"internal-error");default:ge(r.email,t,"internal-error")}let o=null;return r.mfaInfo&&(o=qd._fromServerResponse(Vt(t),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:o},operation:s}}async function Bj(n,e){const{data:t}=await jO(Pe(n),e);return t.email}async function zO(n,e,t){if(Ct(n.app))return Promise.reject(In(n));const r=Vt(n),u=await za(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",kO,"EMAIL_PASSWORD_PROVIDER").catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&Vw(n),d}),h=await Xr._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(h.user),h}function qO(n,e,t){return Ct(n.app)?Promise.reject(In(n)):Sy(Pe(n),uo.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Vw(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fj(n,e,t){const r=Vt(n),s={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function o(u,h){ge(h.handleCodeInApp,r,"argument-error"),h&&Ay(r,u,h)}o(s,t),await za(r,s,"getOobCode",vj,"EMAIL_PASSWORD_PROVIDER")}function jj(n,e){return wy.parseLink(e)?.operation==="EMAIL_SIGNIN"}async function zj(n,e,t){if(Ct(n.app))return Promise.reject(In(n));const r=Pe(n),s=uo.credentialWithLink(e,t||ud());return ge(s._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Sy(r,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qj(n,e){return qt(n,"POST","/v1/accounts:createAuthUri",zt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hj(n,e){const t=xw()?ud():"http://localhost",r={identifier:e,continueUri:t},{signinMethods:s}=await qj(Pe(n),r);return s||[]}async function $j(n,e){const t=Pe(n),s={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()};e&&Ay(t.auth,s,e);const{email:o}=await yj(t.auth,s);o!==n.email&&await n.reload()}async function Gj(n,e,t){const r=Pe(n),o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await n.getIdToken(),newEmail:e};t&&Ay(r.auth,o,t);const{email:u}=await Ej(r.auth,o);u!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kj(n,e){return qt(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wj(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=Pe(n),o={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=await Ls(r,Kj(r.auth,o));r.displayName=u.displayName||null,r.photoURL=u.photoUrl||null;const h=r.providerData.find(({providerId:d})=>d==="password");h&&(h.displayName=r.displayName,h.photoURL=r.photoURL),await r._updateTokensIfNecessary(u)}function Qj(n,e){const t=Pe(n);return Ct(t.auth.app)?Promise.reject(In(t.auth)):HO(t,e,null)}function Yj(n,e){return HO(Pe(n),null,e)}async function HO(n,e,t){const{auth:r}=n,o={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(o.email=e),t&&(o.password=t);const u=await Ls(n,dj(r,o));await n._updateTokensIfNecessary(u,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xj(n){if(!n)return null;const{providerId:e}=n,t=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},r=n.isNewUser||n.kind==="identitytoolkit#SignupNewUserResponse";if(!e&&n?.idToken){const s=Ey(n.idToken)?.firebase?.sign_in_provider;if(s){const o=s!=="anonymous"&&s!=="custom"?s:null;return new ec(r,o)}}if(!e)return null;switch(e){case"facebook.com":return new Jj(r,t);case"github.com":return new Zj(r,t);case"google.com":return new ez(r,t);case"twitter.com":return new tz(r,t,n.screenName||null);case"custom":case"anonymous":return new ec(r,null);default:return new ec(r,e,t)}}class ec{constructor(e,t,r={}){this.isNewUser=e,this.providerId=t,this.profile=r}}class $O extends ec{constructor(e,t,r,s){super(e,t,r),this.username=s}}class Jj extends ec{constructor(e,t){super(e,"facebook.com",t)}}class Zj extends $O{constructor(e,t){super(e,"github.com",t,typeof t?.login=="string"?t?.login:null)}}class ez extends ec{constructor(e,t){super(e,"google.com",t)}}class tz extends $O{constructor(e,t,r){super(e,"twitter.com",t,r)}}function nz(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:Xj(t)}function rz(n,e,t,r){return Pe(n).onIdTokenChanged(e,t,r)}function iz(n,e,t){return Pe(n).beforeAuthStateChanged(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e,t,r){this.type=e,this.credential=t,this.user=r}static _fromIdtoken(e,t){return new fl("enroll",e,t)}static _fromMfaPendingCredential(e){return new fl("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){if(e?.multiFactorSession){if(e.multiFactorSession?.pendingCredential)return fl._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(e.multiFactorSession?.idToken)return fl._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e,t,r){this.session=e,this.hints=t,this.signInResolver=r}static _fromError(e,t){const r=Vt(e),s=t.customData._serverResponse,o=(s.mfaInfo||[]).map(h=>qd._fromServerResponse(r,h));ge(s.mfaPendingCredential,r,"internal-error");const u=fl._fromMfaPendingCredential(s.mfaPendingCredential);return new Lw(u,o,async h=>{const d=await h._process(r,u);delete s.mfaInfo,delete s.mfaPendingCredential;const f={...s,idToken:d.idToken,refreshToken:d.refreshToken};switch(t.operationType){case"signIn":const g=await Xr._fromIdTokenResponse(r,t.operationType,f);return await r._updateCurrentUser(g.user),g;case"reauthenticate":return ge(t.user,r,"internal-error"),Xr._forOperation(t.user,t.operationType,f);default:Rn(r,"internal-error")}})}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function sz(n,e){const t=Pe(n),r=e;return ge(e.customData.operationType,t,"argument-error"),ge(r.customData._serverResponse?.mfaPendingCredential,t,"argument-error"),Lw._fromError(t,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(n,e){return qt(n,"POST","/v2/accounts/mfaEnrollment:start",zt(n,e))}function az(n,e){return qt(n,"POST","/v2/accounts/mfaEnrollment:finalize",zt(n,e))}function oz(n,e){return qt(n,"POST","/v2/accounts/mfaEnrollment:withdraw",zt(n,e))}class Uw{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(r=>qd._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new Uw(e)}async getSession(){return fl._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const r=e,s=await this.getSession(),o=await Ls(this.user,r._process(this.user.auth,s,t));return await this.user._updateTokensIfNecessary(o),this.user.reload()}async unenroll(e){const t=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const s=await Ls(this.user,oz(this.user.auth,{idToken:r,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter(({uid:o})=>o!==t),await this.user._updateTokensIfNecessary(s),await this.user.reload()}catch(s){throw s}}}const CE=new WeakMap;function lz(n){const e=Pe(n);return CE.has(e)||CE.set(e,Uw._fromUser(e)),CE.get(e)}const Cg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Cg,"1"),this.storage.removeItem(Cg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uz=1e3,cz=10;class KO extends GO{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=RO(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,d)=>{this.notifyListeners(u,d)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);H9()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,cz):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},uz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}KO.type="LOCAL";const Iy=KO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO extends GO{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}WO.type="SESSION";const Xa=WO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hz(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new Ry(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:o}=t.data,u=this.handlersMap[s];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const h=Array.from(u).map(async f=>f(t.origin,o)),d=await hz(h);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ry.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fz{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,u;return new Promise((h,d)=>{const f=Hd("",20);s.port1.start();const g=setTimeout(()=>{d(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(_){const v=_;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(v.data.response);break;default:clearTimeout(g),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(){return window}function dz(n){un().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(){return typeof un().WorkerGlobalScope<"u"&&typeof un().importScripts=="function"}async function pz(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function mz(){return navigator?.serviceWorker?.controller||null}function gz(){return Bw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO="firebaseLocalStorageDb",yz=1,Pg="firebaseLocalStorage",YO="fbase_key";class $d{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Cy(n,e){return n.transaction([Pg],e?"readwrite":"readonly").objectStore(Pg)}function _z(){const n=indexedDB.deleteDatabase(QO);return new $d(n).toPromise()}function cb(){const n=indexedDB.open(QO,yz);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Pg,{keyPath:YO})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Pg)?e(r):(r.close(),await _z(),e(await cb()))})})}async function d1(n,e,t){const r=Cy(n,!0).put({[YO]:e,value:t});return new $d(r).toPromise()}async function vz(n,e){const t=Cy(n,!1).get(e),r=await new $d(t).toPromise();return r===void 0?null:r.value}function p1(n,e){const t=Cy(n,!0).delete(e);return new $d(t).toPromise()}const Ez=800,bz=3;class XO{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cb(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>bz)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Bw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ry._getInstance(gz()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await pz(),!this.activeServiceWorker)return;this.sender=new fz(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||mz()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cb();return await d1(e,Cg,"1"),await p1(e,Cg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>d1(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>vz(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>p1(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=Cy(s,!1).getAll();return new $d(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Ez)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}XO.type="LOCAL";const cc=XO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m1(n,e){return qt(n,"POST","/v2/accounts/mfaSignIn:start",zt(n,e))}function wz(n,e){return qt(n,"POST","/v2/accounts/mfaSignIn:finalize",zt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE=PO("rcb"),Tz=new Bd(3e4,6e4);class Sz{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!un().grecaptcha?.render}load(e,t=""){return ge(Az(t),e,"argument-error"),this.shouldResolveImmediately(t)&&r1(un().grecaptcha)?Promise.resolve(un().grecaptcha):new Promise((r,s)=>{const o=un().setTimeout(()=>{s(_n(e,"network-request-failed"))},Tz.get());un()[PE]=()=>{un().clearTimeout(o),delete un()[PE];const h=un().grecaptcha;if(!h||!r1(h)){s(_n(e,"internal-error"));return}const d=h.render;h.render=(f,g)=>{const _=d(f,g);return this.counter++,_},this.hostLanguage=t,r(h)};const u=`${X9()}?${Bc({onload:PE,render:"explicit",hl:t})}`;Dw(u).catch(()=>{clearTimeout(o),s(_n(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){return!!un().grecaptcha?.render&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function Az(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}class Iz{async load(e){return new nj(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qf="recaptcha",Rz={theme:"light",type:"image"};let Cz=class{constructor(e,t,r={...Rz}){this.parameters=r,this.type=qf,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Vt(e),this.isInvisible=this.parameters.size==="invisible",ge(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const s=typeof t=="string"?document.getElementById(t):t;ge(s,this.auth,"argument-error"),this.container=s,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Iz:new Sz,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),r=t.getResponse(e);return r||new Promise(s=>{const o=u=>{u&&(this.tokenChangeListeners.delete(o),s(u))};this.tokenChangeListeners.add(o),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){ge(!this.parameters.sitekey,this.auth,"argument-error"),ge(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ge(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(r=>r(t)),typeof e=="function")e(t);else if(typeof e=="string"){const r=un()[e];typeof r=="function"&&r(t)}}}assertNotDestroyed(){ge(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){ge(xw()&&!Bw(),this.auth,"internal-error"),await Pz(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await D9(this.auth);ge(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return ge(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function Pz(){let n=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}n=()=>e(),window.addEventListener("load",n)}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=vl._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function xz(n,e,t){if(Ct(n.app))return Promise.reject(In(n));const r=Vt(n),s=await Py(r,e,Pe(t));return new Fw(s,o=>Sy(r,o))}async function Oz(n,e,t){const r=Pe(n);await Ty(!1,r,"phone");const s=await Py(r.auth,e,Pe(t));return new Fw(s,o=>BO(r,o))}async function Dz(n,e,t){const r=Pe(n);if(Ct(r.auth.app))return Promise.reject(In(r.auth));const s=await Py(r.auth,e,Pe(t));return new Fw(s,o=>FO(r,o))}async function Py(n,e,t){if(!n._getRecaptchaConfig())try{await lj(n)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let r;if(typeof e=="string"?r={phoneNumber:e}:r=e,"session"in r){const s=r.session;if("phoneNumber"in r){ge(s.type==="enroll",n,"internal-error");const o={idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await za(n,o,"mfaSmsEnrollment",async(f,g)=>{if(g.phoneEnrollmentInfo.captchaResponse===zf){ge(t?.type===qf,f,"argument-error");const _=await xE(f,g,t);return f1(f,_)}return f1(f,g)},"PHONE_PROVIDER").catch(f=>Promise.reject(f))).phoneSessionInfo.sessionInfo}else{ge(s.type==="signin",n,"internal-error");const o=r.multiFactorHint?.uid||r.multiFactorUid;ge(o,n,"missing-multi-factor-info");const u={mfaPendingCredential:s.credential,mfaEnrollmentId:o,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await za(n,u,"mfaSmsSignIn",async(g,_)=>{if(_.phoneSignInInfo.captchaResponse===zf){ge(t?.type===qf,g,"argument-error");const v=await xE(g,_,t);return m1(g,v)}return m1(g,_)},"PHONE_PROVIDER").catch(g=>Promise.reject(g))).phoneResponseInfo.sessionInfo}}else{const s={phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await za(n,s,"sendVerificationCode",async(d,f)=>{if(f.captchaResponse===zf){ge(t?.type===qf,d,"argument-error");const g=await xE(d,f,t);return c1(d,g)}return c1(d,f)},"PHONE_PROVIDER").catch(d=>Promise.reject(d))).sessionInfo}}finally{t?._reset()}}async function Nz(n,e){const t=Pe(n);if(Ct(t.auth.app))return Promise.reject(In(t.auth));await Nw(t,e)}async function xE(n,e,t){ge(t.type===qf,n,"argument-error");const r=await t.verify();ge(typeof r=="string",n,"argument-error");const s={...e};if("phoneEnrollmentInfo"in s){const o=s.phoneEnrollmentInfo.phoneNumber,u=s.phoneEnrollmentInfo.captchaResponse,h=s.phoneEnrollmentInfo.clientType,d=s.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r,captchaResponse:u,clientType:h,recaptchaVersion:d}}),s}else if("phoneSignInInfo"in s){const o=s.phoneSignInInfo.captchaResponse,u=s.phoneSignInInfo.clientType,h=s.phoneSignInInfo.recaptchaVersion;return Object.assign(s,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:o,clientType:u,recaptchaVersion:h}}),s}else return Object.assign(s,{recaptchaToken:r}),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tl=class Zm{constructor(e){this.providerId=Zm.PROVIDER_ID,this.auth=Vt(e)}verifyPhoneNumber(e,t){return Py(this.auth,e,Pe(t))}static credential(e,t){return vl._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Zm.credentialFromTaggedObject(t)}static credentialFromError(e){return Zm.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:r}=e;return t&&r?vl._fromTokenResponse(t,r):null}};Tl.PROVIDER_ID="phone";Tl.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ml(n,e){return e?xr(e):(ge(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw extends zc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ds(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ds(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ds(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function kz(n){return UO(n.auth,new jw(n),n.bypassAuthState)}function Mz(n){const{auth:e,user:t}=n;return ge(t,e,"internal-error"),LO(t,new jw(n),n.bypassAuthState)}async function Vz(n){const{auth:e,user:t}=n;return ge(t,e,"internal-error"),Nw(t,new jw(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(e,t,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:o,error:u,type:h}=e;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kz;case"linkViaPopup":case"linkViaRedirect":return Vz;case"reauthViaPopup":case"reauthViaRedirect":return Mz;default:Rn(this.auth,"internal-error")}}resolve(e){gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lz=new Bd(2e3,1e4);async function Uz(n,e,t){if(Ct(n.app))return Promise.reject(_n(n,"operation-not-supported-in-this-environment"));const r=Vt(n);jc(n,e,zs);const s=Ml(r,t);return new Cs(r,"signInViaPopup",e,s).executeNotNull()}async function Bz(n,e,t){const r=Pe(n);if(Ct(r.auth.app))return Promise.reject(_n(r.auth,"operation-not-supported-in-this-environment"));jc(r.auth,e,zs);const s=Ml(r.auth,t);return new Cs(r.auth,"reauthViaPopup",e,s,r).executeNotNull()}async function Fz(n,e,t){const r=Pe(n);jc(r.auth,e,zs);const s=Ml(r.auth,t);return new Cs(r.auth,"linkViaPopup",e,s,r).executeNotNull()}class Cs extends JO{constructor(e,t,r,s,o){super(e,t,s,o),this.provider=r,this.authWindow=null,this.pollId=null,Cs.currentPopupAction&&Cs.currentPopupAction.cancel(),Cs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ge(e,this.auth,"internal-error"),e}async onExecution(){gi(this.filter.length===1,"Popup operations only handle one event");const e=Hd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(_n(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(_n(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Cs.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_n(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Lz.get())};e()}}Cs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jz="pendingRedirect",Hf=new Map;class zz extends JO{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Hf.get(this.auth._key());if(!e){try{const r=await qz(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Hf.set(this.auth._key(),e)}return this.bypassAuthState||Hf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function qz(n,e){const t=eD(e),r=ZO(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}async function zw(n,e){return ZO(n)._set(eD(e),"true")}function Hz(){Hf.clear()}function qw(n,e){Hf.set(n._key(),e)}function ZO(n){return xr(n._redirectPersistence)}function eD(n){return _l(jz,n.config.apiKey,n.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $z(n,e,t){return Gz(n,e,t)}async function Gz(n,e,t){if(Ct(n.app))return Promise.reject(In(n));const r=Vt(n);jc(n,e,zs),await r._initializationPromise;const s=Ml(r,t);return await zw(s,r),s._openRedirect(r,e,"signInViaRedirect")}function Kz(n,e,t){return Wz(n,e,t)}async function Wz(n,e,t){const r=Pe(n);if(jc(r.auth,e,zs),Ct(r.auth.app))return Promise.reject(In(r.auth));await r.auth._initializationPromise;const s=Ml(r.auth,t);await zw(s,r.auth);const o=await tD(r);return s._openRedirect(r.auth,e,"reauthViaRedirect",o)}function Qz(n,e,t){return Yz(n,e,t)}async function Yz(n,e,t){const r=Pe(n);jc(r.auth,e,zs),await r.auth._initializationPromise;const s=Ml(r.auth,t);await Ty(!1,r,e.providerId),await zw(s,r.auth);const o=await tD(r);return s._openRedirect(r.auth,e,"linkViaRedirect",o)}async function Xz(n,e){return await Vt(n)._initializationPromise,xy(n,e,!1)}async function xy(n,e,t=!1){if(Ct(n.app))return Promise.reject(In(n));const r=Vt(n),s=Ml(r,e),u=await new zz(r,s,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}async function tD(n){const e=Hd(`${n.uid}:::`);return n._redirectEventId=e,await n.auth._setRedirectUser(n),await n.auth._persistUserIfCurrent(n),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jz=600*1e3;class nD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Zz(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!rD(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(_n(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Jz&&this.cachedEventUids.clear(),this.cachedEventUids.has(g1(e))}saveEventToCache(e){this.cachedEventUids.add(g1(e)),this.lastProcessedEventTime=Date.now()}}function g1(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function rD({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function Zz(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rD(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iD(n,e={}){return qt(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eq=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tq=/^https?/;async function nq(n){if(n.config.emulator)return;const{authorizedDomains:e}=await iD(n);for(const t of e)try{if(rq(t))return}catch{}Rn(n,"unauthorized-domain")}function rq(n){const e=ud(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!tq.test(t))return!1;if(eq.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iq=new Bd(3e4,6e4);function y1(){const n=un().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function sq(n){return new Promise((e,t)=>{function r(){y1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{y1(),t(_n(n,"network-request-failed"))},timeout:iq.get()})}if(un().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(un().gapi?.load)r();else{const s=PO("iframefcb");return un()[s]=()=>{gapi.load?r():t(_n(n,"network-request-failed"))},Dw(`${Z9()}?onload=${s}`).catch(o=>t(o))}}).catch(e=>{throw eg=null,e})}let eg=null;function aq(n){return eg=eg||sq(n),eg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oq=new Bd(5e3,15e3),lq="__/auth/iframe",uq="emulator/auth/iframe",cq={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hq=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fq(n){const e=n.config;ge(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Ow(e,uq):`https://${n.config.authDomain}/${lq}`,r={apiKey:e.apiKey,appName:n.name,v:lo},s=hq.get(n.config.apiHost);s&&(r.eid=s);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Bc(r).slice(1)}`}async function dq(n){const e=await aq(n),t=un().gapi;return ge(t,n,"internal-error"),e.open({where:document.body,url:fq(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cq,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const u=_n(n,"network-request-failed"),h=un().setTimeout(()=>{o(u)},oq.get());function d(){un().clearTimeout(h),s(r)}r.ping(d).then(d,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pq={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mq=500,gq=600,yq="_blank",_q="http://localhost";class _1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function vq(n,e,t,r=mq,s=gq){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const d={...pq,width:r.toString(),height:s.toString(),top:o,left:u},f=Mt().toLowerCase();t&&(h=TO(f)?yq:t),bO(f)&&(e=e||_q,d.scrollbars="yes");const g=Object.entries(d).reduce((v,[T,w])=>`${v}${T}=${w},`,"");if(q9(f)&&h!=="_self")return Eq(e||"",h),new _1(null);const _=window.open(e||"",h,g);ge(_,n,"popup-blocked");try{_.focus()}catch{}return new _1(_)}function Eq(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bq="__/auth/handler",wq="emulator/auth/handler",Tq=encodeURIComponent("fac");async function hb(n,e,t,r,s,o){ge(n.config.authDomain,n,"auth-domain-config-required"),ge(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:lo,eventId:s};if(e instanceof zs){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",XB(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,_]of Object.entries(o||{}))u[g]=_}if(e instanceof qc){const g=e.getScopes().filter(_=>_!=="");g.length>0&&(u.scopes=g.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const d=await n._getAppCheckToken(),f=d?`#${Tq}=${encodeURIComponent(d)}`:"";return`${Sq(n)}?${Bc(h).slice(1)}${f}`}function Sq({config:n}){return n.emulator?Ow(n,wq):`https://${n.authDomain}/${bq}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE="webStorageSupport";class Aq{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Xa,this._completeRedirectFn=xy,this._overrideRedirectResult=qw}async _openPopup(e,t,r,s){gi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await hb(e,t,r,ud(),s);return vq(e,o,Hd())}async _openRedirect(e,t,r,s){await this._originValidation(e);const o=await hb(e,t,r,ud(),s);return dz(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:o}=this.eventManagers[t];return s?Promise.resolve(s):(gi(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await dq(e),r=new nD(e);return t.register("authEvent",s=>(ge(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(OE,{type:OE},s=>{const o=s?.[0]?.[OE];o!==void 0&&t(!!o),Rn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=nq(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return RO()||wO()||jd()}}const sD=Aq;class Iq{constructor(e){this.factorId=e}_process(e,t,r){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,r);case"signin":return this._finalizeSignIn(e,t.credential);default:return Hi("unexpected MultiFactorSessionType")}}}class Hw extends Iq{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Hw(e)}_finalizeEnroll(e,t,r){return az(e,{idToken:t,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return wz(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class aD{constructor(){}static assertion(e){return Hw._fromCredential(e)}}aD.FACTOR_ID="phone";var v1="@firebase/auth",E1="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rq{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cq(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Pq(n){Ya(new Ji("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;ge(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:CO(n)},f=new Q9(r,s,o,d);return cj(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ya(new Ji("auth-internal",e=>{const t=Vt(e.getProvider("auth").getImmediate());return(r=>new Rq(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),di(v1,E1,Cq(n)),di(v1,E1,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xq=300,Oq=Hx("authIdTokenMaxAge")||xq;let b1=null;const Dq=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>Oq)return;const s=t?.token;b1!==s&&(b1=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Nq(n=aO()){const e=vy(n,"auth");if(e.isInitialized())return e.getImmediate();const t=uj(n,{popupRedirectResolver:sD,persistence:[cc,Iy,Xa]}),r=Hx("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const u=Dq(o.toString());iz(t,u,()=>u(t.currentUser)),rz(t,h=>u(h))}}const s=BB("auth");return s&&OO(t,`http://${s}`),t}function kq(){return document.getElementsByTagName("head")?.[0]??document}Y9({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const o=_n("internal-error");o.customData=s,t(o)},r.type="text/javascript",r.charset="UTF-8",kq().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Pq("Browser");var w1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qa,oD;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,C){function P(){}P.prototype=C.prototype,N.F=C.prototype,N.prototype=new P,N.prototype.constructor=N,N.D=function(L,O,b){for(var R=Array(arguments.length-2),G=2;G<arguments.length;G++)R[G-2]=arguments[G];return C.prototype[O].apply(L,R)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(N,C,P){P||(P=0);const L=Array(16);if(typeof C=="string")for(var O=0;O<16;++O)L[O]=C.charCodeAt(P++)|C.charCodeAt(P++)<<8|C.charCodeAt(P++)<<16|C.charCodeAt(P++)<<24;else for(O=0;O<16;++O)L[O]=C[P++]|C[P++]<<8|C[P++]<<16|C[P++]<<24;C=N.g[0],P=N.g[1],O=N.g[2];let b=N.g[3],R;R=C+(b^P&(O^b))+L[0]+3614090360&4294967295,C=P+(R<<7&4294967295|R>>>25),R=b+(O^C&(P^O))+L[1]+3905402710&4294967295,b=C+(R<<12&4294967295|R>>>20),R=O+(P^b&(C^P))+L[2]+606105819&4294967295,O=b+(R<<17&4294967295|R>>>15),R=P+(C^O&(b^C))+L[3]+3250441966&4294967295,P=O+(R<<22&4294967295|R>>>10),R=C+(b^P&(O^b))+L[4]+4118548399&4294967295,C=P+(R<<7&4294967295|R>>>25),R=b+(O^C&(P^O))+L[5]+1200080426&4294967295,b=C+(R<<12&4294967295|R>>>20),R=O+(P^b&(C^P))+L[6]+2821735955&4294967295,O=b+(R<<17&4294967295|R>>>15),R=P+(C^O&(b^C))+L[7]+4249261313&4294967295,P=O+(R<<22&4294967295|R>>>10),R=C+(b^P&(O^b))+L[8]+1770035416&4294967295,C=P+(R<<7&4294967295|R>>>25),R=b+(O^C&(P^O))+L[9]+2336552879&4294967295,b=C+(R<<12&4294967295|R>>>20),R=O+(P^b&(C^P))+L[10]+4294925233&4294967295,O=b+(R<<17&4294967295|R>>>15),R=P+(C^O&(b^C))+L[11]+2304563134&4294967295,P=O+(R<<22&4294967295|R>>>10),R=C+(b^P&(O^b))+L[12]+1804603682&4294967295,C=P+(R<<7&4294967295|R>>>25),R=b+(O^C&(P^O))+L[13]+4254626195&4294967295,b=C+(R<<12&4294967295|R>>>20),R=O+(P^b&(C^P))+L[14]+2792965006&4294967295,O=b+(R<<17&4294967295|R>>>15),R=P+(C^O&(b^C))+L[15]+1236535329&4294967295,P=O+(R<<22&4294967295|R>>>10),R=C+(O^b&(P^O))+L[1]+4129170786&4294967295,C=P+(R<<5&4294967295|R>>>27),R=b+(P^O&(C^P))+L[6]+3225465664&4294967295,b=C+(R<<9&4294967295|R>>>23),R=O+(C^P&(b^C))+L[11]+643717713&4294967295,O=b+(R<<14&4294967295|R>>>18),R=P+(b^C&(O^b))+L[0]+3921069994&4294967295,P=O+(R<<20&4294967295|R>>>12),R=C+(O^b&(P^O))+L[5]+3593408605&4294967295,C=P+(R<<5&4294967295|R>>>27),R=b+(P^O&(C^P))+L[10]+38016083&4294967295,b=C+(R<<9&4294967295|R>>>23),R=O+(C^P&(b^C))+L[15]+3634488961&4294967295,O=b+(R<<14&4294967295|R>>>18),R=P+(b^C&(O^b))+L[4]+3889429448&4294967295,P=O+(R<<20&4294967295|R>>>12),R=C+(O^b&(P^O))+L[9]+568446438&4294967295,C=P+(R<<5&4294967295|R>>>27),R=b+(P^O&(C^P))+L[14]+3275163606&4294967295,b=C+(R<<9&4294967295|R>>>23),R=O+(C^P&(b^C))+L[3]+4107603335&4294967295,O=b+(R<<14&4294967295|R>>>18),R=P+(b^C&(O^b))+L[8]+1163531501&4294967295,P=O+(R<<20&4294967295|R>>>12),R=C+(O^b&(P^O))+L[13]+2850285829&4294967295,C=P+(R<<5&4294967295|R>>>27),R=b+(P^O&(C^P))+L[2]+4243563512&4294967295,b=C+(R<<9&4294967295|R>>>23),R=O+(C^P&(b^C))+L[7]+1735328473&4294967295,O=b+(R<<14&4294967295|R>>>18),R=P+(b^C&(O^b))+L[12]+2368359562&4294967295,P=O+(R<<20&4294967295|R>>>12),R=C+(P^O^b)+L[5]+4294588738&4294967295,C=P+(R<<4&4294967295|R>>>28),R=b+(C^P^O)+L[8]+2272392833&4294967295,b=C+(R<<11&4294967295|R>>>21),R=O+(b^C^P)+L[11]+1839030562&4294967295,O=b+(R<<16&4294967295|R>>>16),R=P+(O^b^C)+L[14]+4259657740&4294967295,P=O+(R<<23&4294967295|R>>>9),R=C+(P^O^b)+L[1]+2763975236&4294967295,C=P+(R<<4&4294967295|R>>>28),R=b+(C^P^O)+L[4]+1272893353&4294967295,b=C+(R<<11&4294967295|R>>>21),R=O+(b^C^P)+L[7]+4139469664&4294967295,O=b+(R<<16&4294967295|R>>>16),R=P+(O^b^C)+L[10]+3200236656&4294967295,P=O+(R<<23&4294967295|R>>>9),R=C+(P^O^b)+L[13]+681279174&4294967295,C=P+(R<<4&4294967295|R>>>28),R=b+(C^P^O)+L[0]+3936430074&4294967295,b=C+(R<<11&4294967295|R>>>21),R=O+(b^C^P)+L[3]+3572445317&4294967295,O=b+(R<<16&4294967295|R>>>16),R=P+(O^b^C)+L[6]+76029189&4294967295,P=O+(R<<23&4294967295|R>>>9),R=C+(P^O^b)+L[9]+3654602809&4294967295,C=P+(R<<4&4294967295|R>>>28),R=b+(C^P^O)+L[12]+3873151461&4294967295,b=C+(R<<11&4294967295|R>>>21),R=O+(b^C^P)+L[15]+530742520&4294967295,O=b+(R<<16&4294967295|R>>>16),R=P+(O^b^C)+L[2]+3299628645&4294967295,P=O+(R<<23&4294967295|R>>>9),R=C+(O^(P|~b))+L[0]+4096336452&4294967295,C=P+(R<<6&4294967295|R>>>26),R=b+(P^(C|~O))+L[7]+1126891415&4294967295,b=C+(R<<10&4294967295|R>>>22),R=O+(C^(b|~P))+L[14]+2878612391&4294967295,O=b+(R<<15&4294967295|R>>>17),R=P+(b^(O|~C))+L[5]+4237533241&4294967295,P=O+(R<<21&4294967295|R>>>11),R=C+(O^(P|~b))+L[12]+1700485571&4294967295,C=P+(R<<6&4294967295|R>>>26),R=b+(P^(C|~O))+L[3]+2399980690&4294967295,b=C+(R<<10&4294967295|R>>>22),R=O+(C^(b|~P))+L[10]+4293915773&4294967295,O=b+(R<<15&4294967295|R>>>17),R=P+(b^(O|~C))+L[1]+2240044497&4294967295,P=O+(R<<21&4294967295|R>>>11),R=C+(O^(P|~b))+L[8]+1873313359&4294967295,C=P+(R<<6&4294967295|R>>>26),R=b+(P^(C|~O))+L[15]+4264355552&4294967295,b=C+(R<<10&4294967295|R>>>22),R=O+(C^(b|~P))+L[6]+2734768916&4294967295,O=b+(R<<15&4294967295|R>>>17),R=P+(b^(O|~C))+L[13]+1309151649&4294967295,P=O+(R<<21&4294967295|R>>>11),R=C+(O^(P|~b))+L[4]+4149444226&4294967295,C=P+(R<<6&4294967295|R>>>26),R=b+(P^(C|~O))+L[11]+3174756917&4294967295,b=C+(R<<10&4294967295|R>>>22),R=O+(C^(b|~P))+L[2]+718787259&4294967295,O=b+(R<<15&4294967295|R>>>17),R=P+(b^(O|~C))+L[9]+3951481745&4294967295,N.g[0]=N.g[0]+C&4294967295,N.g[1]=N.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+O&4294967295,N.g[3]=N.g[3]+b&4294967295}r.prototype.v=function(N,C){C===void 0&&(C=N.length);const P=C-this.blockSize,L=this.C;let O=this.h,b=0;for(;b<C;){if(O==0)for(;b<=P;)s(this,N,b),b+=this.blockSize;if(typeof N=="string"){for(;b<C;)if(L[O++]=N.charCodeAt(b++),O==this.blockSize){s(this,L),O=0;break}}else for(;b<C;)if(L[O++]=N[b++],O==this.blockSize){s(this,L),O=0;break}}this.h=O,this.o+=C},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var C=1;C<N.length-8;++C)N[C]=0;C=this.o*8;for(var P=N.length-8;P<N.length;++P)N[P]=C&255,C/=256;for(this.v(N),N=Array(16),C=0,P=0;P<4;++P)for(let L=0;L<32;L+=8)N[C++]=this.g[P]>>>L&255;return N};function o(N,C){var P=h;return Object.prototype.hasOwnProperty.call(P,N)?P[N]:P[N]=C(N)}function u(N,C){this.h=C;const P=[];let L=!0;for(let O=N.length-1;O>=0;O--){const b=N[O]|0;L&&b==C||(P[O]=b,L=!1)}this.g=P}var h={};function d(N){return-128<=N&&N<128?o(N,function(C){return new u([C|0],C<0?-1:0)}):new u([N|0],N<0?-1:0)}function f(N){if(isNaN(N)||!isFinite(N))return _;if(N<0)return x(f(-N));const C=[];let P=1;for(let L=0;N>=P;L++)C[L]=N/P|0,P*=4294967296;return new u(C,0)}function g(N,C){if(N.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(N.charAt(0)=="-")return x(g(N.substring(1),C));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=f(Math.pow(C,8));let L=_;for(let b=0;b<N.length;b+=8){var O=Math.min(8,N.length-b);const R=parseInt(N.substring(b,b+O),C);O<8?(O=f(Math.pow(C,O)),L=L.j(O).add(f(R))):(L=L.j(P),L=L.add(f(R)))}return L}var _=d(0),v=d(1),T=d(16777216);n=u.prototype,n.m=function(){if(I(this))return-x(this).m();let N=0,C=1;for(let P=0;P<this.g.length;P++){const L=this.i(P);N+=(L>=0?L:4294967296+L)*C,C*=4294967296}return N},n.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(w(this))return"0";if(I(this))return"-"+x(this).toString(N);const C=f(Math.pow(N,6));var P=this;let L="";for(;;){const O=W(P,C).g;P=H(P,O.j(C));let b=((P.g.length>0?P.g[0]:P.h)>>>0).toString(N);if(P=O,w(P))return b+L;for(;b.length<6;)b="0"+b;L=b+L}},n.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function w(N){if(N.h!=0)return!1;for(let C=0;C<N.g.length;C++)if(N.g[C]!=0)return!1;return!0}function I(N){return N.h==-1}n.l=function(N){return N=H(this,N),I(N)?-1:w(N)?0:1};function x(N){const C=N.g.length,P=[];for(let L=0;L<C;L++)P[L]=~N.g[L];return new u(P,~N.h).add(v)}n.abs=function(){return I(this)?x(this):this},n.add=function(N){const C=Math.max(this.g.length,N.g.length),P=[];let L=0;for(let O=0;O<=C;O++){let b=L+(this.i(O)&65535)+(N.i(O)&65535),R=(b>>>16)+(this.i(O)>>>16)+(N.i(O)>>>16);L=R>>>16,b&=65535,R&=65535,P[O]=R<<16|b}return new u(P,P[P.length-1]&-2147483648?-1:0)};function H(N,C){return N.add(x(C))}n.j=function(N){if(w(this)||w(N))return _;if(I(this))return I(N)?x(this).j(x(N)):x(x(this).j(N));if(I(N))return x(this.j(x(N)));if(this.l(T)<0&&N.l(T)<0)return f(this.m()*N.m());const C=this.g.length+N.g.length,P=[];for(var L=0;L<2*C;L++)P[L]=0;for(L=0;L<this.g.length;L++)for(let O=0;O<N.g.length;O++){const b=this.i(L)>>>16,R=this.i(L)&65535,G=N.i(O)>>>16,M=N.i(O)&65535;P[2*L+2*O]+=R*M,V(P,2*L+2*O),P[2*L+2*O+1]+=b*M,V(P,2*L+2*O+1),P[2*L+2*O+1]+=R*G,V(P,2*L+2*O+1),P[2*L+2*O+2]+=b*G,V(P,2*L+2*O+2)}for(N=0;N<C;N++)P[N]=P[2*N+1]<<16|P[2*N];for(N=C;N<2*C;N++)P[N]=0;return new u(P,0)};function V(N,C){for(;(N[C]&65535)!=N[C];)N[C+1]+=N[C]>>>16,N[C]&=65535,C++}function F(N,C){this.g=N,this.h=C}function W(N,C){if(w(C))throw Error("division by zero");if(w(N))return new F(_,_);if(I(N))return C=W(x(N),C),new F(x(C.g),x(C.h));if(I(C))return C=W(N,x(C)),new F(x(C.g),C.h);if(N.g.length>30){if(I(N)||I(C))throw Error("slowDivide_ only works with positive integers.");for(var P=v,L=C;L.l(N)<=0;)P=j(P),L=j(L);var O=$(P,1),b=$(L,1);for(L=$(L,2),P=$(P,2);!w(L);){var R=b.add(L);R.l(N)<=0&&(O=O.add(P),b=R),L=$(L,1),P=$(P,1)}return C=H(N,O.j(C)),new F(O,C)}for(O=_;N.l(C)>=0;){for(P=Math.max(1,Math.floor(N.m()/C.m())),L=Math.ceil(Math.log(P)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),b=f(P),R=b.j(C);I(R)||R.l(N)>0;)P-=L,b=f(P),R=b.j(C);w(b)&&(b=v),O=O.add(b),N=H(N,R)}return new F(O,N)}n.B=function(N){return W(this,N).h},n.and=function(N){const C=Math.max(this.g.length,N.g.length),P=[];for(let L=0;L<C;L++)P[L]=this.i(L)&N.i(L);return new u(P,this.h&N.h)},n.or=function(N){const C=Math.max(this.g.length,N.g.length),P=[];for(let L=0;L<C;L++)P[L]=this.i(L)|N.i(L);return new u(P,this.h|N.h)},n.xor=function(N){const C=Math.max(this.g.length,N.g.length),P=[];for(let L=0;L<C;L++)P[L]=this.i(L)^N.i(L);return new u(P,this.h^N.h)};function j(N){const C=N.g.length+1,P=[];for(let L=0;L<C;L++)P[L]=N.i(L)<<1|N.i(L-1)>>>31;return new u(P,N.h)}function $(N,C){const P=C>>5;C%=32;const L=N.g.length-P,O=[];for(let b=0;b<L;b++)O[b]=C>0?N.i(b+P)>>>C|N.i(b+P+1)<<32-C:N.i(b+P);return new u(O,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,oD=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=f,u.fromString=g,qa=u}).apply(typeof w1<"u"?w1:typeof self<"u"?self:typeof window<"u"?window:{});var Dm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var lD,Nf,uD,tg,fb,cD,hD,fD;(function(){var n,e=Object.defineProperty;function t(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dm=="object"&&Dm];for(var E=0;E<p.length;++E){var S=p[E];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=t(this);function s(p,E){if(E)e:{var S=r;p=p.split(".");for(var k=0;k<p.length-1;k++){var ee=p[k];if(!(ee in S))break e;S=S[ee]}p=p[p.length-1],k=S[p],E=E(k),E!=k&&E!=null&&e(S,p,{configurable:!0,writable:!0,value:E})}}s("Symbol.dispose",function(p){return p||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(p){return p||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(p){return p||function(E){var S=[],k;for(k in E)Object.prototype.hasOwnProperty.call(E,k)&&S.push([k,E[k]]);return S}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},u=this||self;function h(p){var E=typeof p;return E=="object"&&p!=null||E=="function"}function d(p,E,S){return p.call.apply(p.bind,arguments)}function f(p,E,S){return f=d,f.apply(null,arguments)}function g(p,E){var S=Array.prototype.slice.call(arguments,1);return function(){var k=S.slice();return k.push.apply(k,arguments),p.apply(this,k)}}function _(p,E){function S(){}S.prototype=E.prototype,p.Z=E.prototype,p.prototype=new S,p.prototype.constructor=p,p.Ob=function(k,ee,ae){for(var ve=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)ve[Me-2]=arguments[Me];return E.prototype[ee].apply(k,ve)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?p=>p&&AsyncContext.Snapshot.wrap(p):p=>p;function T(p){const E=p.length;if(E>0){const S=Array(E);for(let k=0;k<E;k++)S[k]=p[k];return S}return[]}function w(p,E){for(let k=1;k<arguments.length;k++){const ee=arguments[k];var S=typeof ee;if(S=S!="object"?S:ee?Array.isArray(ee)?"array":S:"null",S=="array"||S=="object"&&typeof ee.length=="number"){S=p.length||0;const ae=ee.length||0;p.length=S+ae;for(let ve=0;ve<ae;ve++)p[S+ve]=ee[ve]}else p.push(ee)}}class I{constructor(E,S){this.i=E,this.j=S,this.h=0,this.g=null}get(){let E;return this.h>0?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function x(p){u.setTimeout(()=>{throw p},0)}function H(){var p=N;let E=null;return p.g&&(E=p.g,p.g=p.g.next,p.g||(p.h=null),E.next=null),E}class V{constructor(){this.h=this.g=null}add(E,S){const k=F.get();k.set(E,S),this.h?this.h.next=k:this.g=k,this.h=k}}var F=new I(()=>new W,p=>p.reset());class W{constructor(){this.next=this.g=this.h=null}set(E,S){this.h=E,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let j,$=!1,N=new V,C=()=>{const p=Promise.resolve(void 0);j=()=>{p.then(P)}};function P(){for(var p;p=H();){try{p.h.call(p.g)}catch(S){x(S)}var E=F;E.j(p),E.h<100&&(E.h++,p.next=E.g,E.g=p)}$=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(p,E){this.type=p,this.g=this.target=E,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var b=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var p=!1,E=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const S=()=>{};u.addEventListener("test",S,E),u.removeEventListener("test",S,E)}catch{}return p})();function R(p){return/^[\s\xa0]*$/.test(p)}function G(p,E){O.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p&&this.init(p,E)}_(G,O),G.prototype.init=function(p,E){const S=this.type=p.type,k=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;this.target=p.target||p.srcElement,this.g=E,E=p.relatedTarget,E||(S=="mouseover"?E=p.fromElement:S=="mouseout"&&(E=p.toElement)),this.relatedTarget=E,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=p.pointerType,this.state=p.state,this.i=p,p.defaultPrevented&&G.Z.h.call(this)},G.prototype.h=function(){G.Z.h.call(this);const p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var M="closure_listenable_"+(Math.random()*1e6|0),q=0;function J(p,E,S,k,ee){this.listener=p,this.proxy=null,this.src=E,this.type=S,this.capture=!!k,this.ha=ee,this.key=++q,this.da=this.fa=!1}function ne(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function we(p,E,S){for(const k in p)E.call(S,p[k],k,p)}function U(p,E){for(const S in p)E.call(void 0,p[S],S,p)}function le(p){const E={};for(const S in p)E[S]=p[S];return E}const me="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _e(p,E){let S,k;for(let ee=1;ee<arguments.length;ee++){k=arguments[ee];for(S in k)p[S]=k[S];for(let ae=0;ae<me.length;ae++)S=me[ae],Object.prototype.hasOwnProperty.call(k,S)&&(p[S]=k[S])}}function ye(p){this.src=p,this.g={},this.h=0}ye.prototype.add=function(p,E,S,k,ee){const ae=p.toString();p=this.g[ae],p||(p=this.g[ae]=[],this.h++);const ve=Ce(p,E,k,ee);return ve>-1?(E=p[ve],S||(E.fa=!1)):(E=new J(E,this.src,ae,!!k,ee),E.fa=S,p.push(E)),E};function De(p,E){const S=E.type;if(S in p.g){var k=p.g[S],ee=Array.prototype.indexOf.call(k,E,void 0),ae;(ae=ee>=0)&&Array.prototype.splice.call(k,ee,1),ae&&(ne(E),p.g[S].length==0&&(delete p.g[S],p.h--))}}function Ce(p,E,S,k){for(let ee=0;ee<p.length;++ee){const ae=p[ee];if(!ae.da&&ae.listener==E&&ae.capture==!!S&&ae.ha==k)return ee}return-1}var nn="closure_lm_"+(Math.random()*1e6|0),Ye={};function yr(p,E,S,k,ee){if(Array.isArray(E)){for(let ae=0;ae<E.length;ae++)yr(p,E[ae],S,k,ee);return null}return S=Fl(S),p&&p[M]?p.J(E,S,h(k)?!!k.capture:!1,ee):go(p,E,S,!1,k,ee)}function go(p,E,S,k,ee,ae){if(!E)throw Error("Invalid event type");const ve=h(ee)?!!ee.capture:!!ee;let Me=yo(p);if(Me||(p[nn]=Me=new ye(p)),S=Me.add(E,S,k,ve,ae),S.proxy)return S;if(k=is(),S.proxy=k,k.src=p,k.listener=S,p.addEventListener)b||(ee=ve),ee===void 0&&(ee=!1),p.addEventListener(E.toString(),k,ee);else if(p.attachEvent)p.attachEvent(_i(E.toString()),k);else if(p.addListener&&p.removeListener)p.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return S}function is(){function p(S){return E.call(p.src,p.listener,S)}const E=Zc;return p}function Mr(p,E,S,k,ee){if(Array.isArray(E))for(var ae=0;ae<E.length;ae++)Mr(p,E[ae],S,k,ee);else k=h(k)?!!k.capture:!!k,S=Fl(S),p&&p[M]?(p=p.i,ae=String(E).toString(),ae in p.g&&(E=p.g[ae],S=Ce(E,S,k,ee),S>-1&&(ne(E[S]),Array.prototype.splice.call(E,S,1),E.length==0&&(delete p.g[ae],p.h--)))):p&&(p=yo(p))&&(E=p.g[E.toString()],p=-1,E&&(p=Ce(E,S,k,ee)),(S=p>-1?E[p]:null)&&Ln(S))}function Ln(p){if(typeof p!="number"&&p&&!p.da){var E=p.src;if(E&&E[M])De(E.i,p);else{var S=p.type,k=p.proxy;E.removeEventListener?E.removeEventListener(S,k,p.capture):E.detachEvent?E.detachEvent(_i(S),k):E.addListener&&E.removeListener&&E.removeListener(k),(S=yo(E))?(De(S,p),S.h==0&&(S.src=null,E[nn]=null)):ne(p)}}}function _i(p){return p in Ye?Ye[p]:Ye[p]="on"+p}function Zc(p,E){if(p.da)p=!0;else{E=new G(E,this);const S=p.listener,k=p.ha||p.src;p.fa&&Ln(p),p=S.call(k,E)}return p}function yo(p){return p=p[nn],p instanceof ye?p:null}var Un="__closure_events_fn_"+(Math.random()*1e9>>>0);function Fl(p){return typeof p=="function"?p:(p[Un]||(p[Un]=function(E){return p.handleEvent(E)}),p[Un])}function Ht(){L.call(this),this.i=new ye(this),this.M=this,this.G=null}_(Ht,L),Ht.prototype[M]=!0,Ht.prototype.removeEventListener=function(p,E,S,k){Mr(this,p,E,S,k)};function $t(p,E){var S,k=p.G;if(k)for(S=[];k;k=k.G)S.push(k);if(p=p.M,k=E.type||E,typeof E=="string")E=new O(E,p);else if(E instanceof O)E.target=E.target||p;else{var ee=E;E=new O(k,p),_e(E,ee)}ee=!0;let ae,ve;if(S)for(ve=S.length-1;ve>=0;ve--)ae=E.g=S[ve],ee=$e(ae,k,!0,E)&&ee;if(ae=E.g=p,ee=$e(ae,k,!0,E)&&ee,ee=$e(ae,k,!1,E)&&ee,S)for(ve=0;ve<S.length;ve++)ae=E.g=S[ve],ee=$e(ae,k,!1,E)&&ee}Ht.prototype.N=function(){if(Ht.Z.N.call(this),this.i){var p=this.i;for(const E in p.g){const S=p.g[E];for(let k=0;k<S.length;k++)ne(S[k]);delete p.g[E],p.h--}}this.G=null},Ht.prototype.J=function(p,E,S,k){return this.i.add(String(p),E,!1,S,k)},Ht.prototype.K=function(p,E,S,k){return this.i.add(String(p),E,!0,S,k)};function $e(p,E,S,k){if(E=p.i.g[String(E)],!E)return!0;E=E.concat();let ee=!0;for(let ae=0;ae<E.length;++ae){const ve=E[ae];if(ve&&!ve.da&&ve.capture==S){const Me=ve.listener,wt=ve.ha||ve.src;ve.fa&&De(p.i,ve),ee=Me.call(wt,k)!==!1&&ee}}return ee&&!k.defaultPrevented}function gt(p,E){if(typeof p!="function")if(p&&typeof p.handleEvent=="function")p=f(p.handleEvent,p);else throw Error("Invalid listener argument");return Number(E)>2147483647?-1:u.setTimeout(p,E||0)}function Cn(p){p.g=gt(()=>{p.g=null,p.i&&(p.i=!1,Cn(p))},p.l);const E=p.h;p.h=null,p.m.apply(null,E)}class Ks extends L{constructor(E,S){super(),this.m=E,this.l=S,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Cn(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ar(p){L.call(this),this.h=p,this.g={}}_(ar,L);var Qn=[];function yt(p){we(p.g,function(E,S){this.g.hasOwnProperty(S)&&Ln(E)},p),p.g={}}ar.prototype.N=function(){ar.Z.N.call(this),yt(this)},ar.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rn=u.JSON.stringify,pn=u.JSON.parse,i_=class{stringify(p){return u.JSON.stringify(p,void 0)}parse(p){return u.JSON.parse(p,void 0)}};function op(){}function lp(){}var vi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ws(){O.call(this,"d")}_(Ws,O);function Zr(){O.call(this,"c")}_(Zr,O);var Vr={},Qs=null;function jl(){return Qs=Qs||new Ht}Vr.Ia="serverreachability";function eh(p){O.call(this,Vr.Ia,p)}_(eh,O);function Ys(p){const E=jl();$t(E,new eh(E))}Vr.STAT_EVENT="statevent";function zl(p,E){O.call(this,Vr.STAT_EVENT,p),this.stat=E}_(zl,O);function Gt(p){const E=jl();$t(E,new zl(E,p))}Vr.Ja="timingevent";function up(p,E){O.call(this,Vr.Ja,p),this.size=E}_(up,O);function Xs(p,E){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){p()},E)}function Js(){this.g=!0}Js.prototype.ua=function(){this.g=!1};function th(p,E,S,k,ee,ae){p.info(function(){if(p.g)if(ae){var ve="",Me=ae.split("&");for(let rt=0;rt<Me.length;rt++){var wt=Me[rt].split("=");if(wt.length>1){const Qt=wt[0];wt=wt[1];const _r=Qt.split("_");ve=_r.length>=2&&_r[1]=="type"?ve+(Qt+"="+wt+"&"):ve+(Qt+"=redacted&")}}}else ve=null;else ve=ae;return"XMLHTTP REQ ("+k+") [attempt "+ee+"]: "+E+`
`+S+`
`+ve})}function nh(p,E,S,k,ee,ae,ve){p.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+ee+"]: "+E+`
`+S+`
`+ae+" "+ve})}function ss(p,E,S,k){p.info(function(){return"XMLHTTP TEXT ("+E+"): "+Ei(p,S)+(k?" "+k:"")})}function s_(p,E){p.info(function(){return"TIMEOUT: "+E})}Js.prototype.info=function(){};function Ei(p,E){if(!p.g)return E;if(!E)return null;try{const ae=JSON.parse(E);if(ae){for(p=0;p<ae.length;p++)if(Array.isArray(ae[p])){var S=ae[p];if(!(S.length<2)){var k=S[1];if(Array.isArray(k)&&!(k.length<1)){var ee=k[0];if(ee!="noop"&&ee!="stop"&&ee!="close")for(let ve=1;ve<k.length;ve++)k[ve]=""}}}}return rn(ae)}catch{return E}}var Kt={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Pn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},as;function _o(){}_(_o,op),_o.prototype.g=function(){return new XMLHttpRequest},as=new _o;function vo(p){return encodeURIComponent(String(p))}function a_(p){var E=1;p=p.split(":");const S=[];for(;E>0&&p.length;)S.push(p.shift()),E--;return p.length&&S.push(p.join(":")),S}function ei(p,E,S,k){this.j=p,this.i=E,this.l=S,this.S=k||1,this.V=new ar(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Zs}function Zs(){this.i=null,this.g="",this.h=!1}var ql={},bi={};function wi(p,E,S){p.M=1,p.A=ls(Dt(E)),p.u=S,p.R=!0,ea(p,null)}function ea(p,E){p.F=Date.now(),Eo(p),p.B=Dt(p.A);var S=p.B,k=p.S;Array.isArray(k)||(k=[String(k)]),dp(S.i,"t",k),p.C=0,S=p.j.L,p.h=new Zs,p.g=Zl(p.j,S?E:null,!p.u),p.P>0&&(p.O=new Ks(f(p.Y,p,p.g),p.P)),E=p.V,S=p.g,k=p.ba;var ee="readystatechange";Array.isArray(ee)||(ee&&(Qn[0]=ee.toString()),ee=Qn);for(let ae=0;ae<ee.length;ae++){const ve=yr(S,ee[ae],k||E.handleEvent,!1,E.h||E);if(!ve)break;E.g[ve.key]=ve}E=p.J?le(p.J):{},p.u?(p.v||(p.v="POST"),E["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.B,p.v,p.u,E)):(p.v="GET",p.g.ea(p.B,p.v,null,E)),Ys(),th(p.i,p.v,p.B,p.l,p.S,p.u)}ei.prototype.ba=function(p){p=p.target;const E=this.O;E&&Bn(p)==3?E.j():this.Y(p)},ei.prototype.Y=function(p){try{if(p==this.g)e:{const Me=Bn(this.g),wt=this.g.ya(),rt=this.g.ca();if(!(Me<3)&&(Me!=3||this.g&&(this.h.h||this.g.la()||Oo(this.g)))){this.K||Me!=4||wt==7||(wt==8||rt<=0?Ys(3):Ys(2)),Si(this);var E=this.g.ca();this.X=E;var S=ta(this);if(this.o=E==200,nh(this.i,this.v,this.B,this.l,this.S,Me,E),this.o){if(this.U&&!this.L){t:{if(this.g){var k,ee=this.g;if((k=ee.g?ee.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(k)){var ae=k;break t}}ae=null}if(p=ae)ss(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Hl(this,p);else{this.o=!1,this.m=3,Gt(12),Ai(this),bo(this);break e}}if(this.R){p=!0;let Qt;for(;!this.K&&this.C<S.length;)if(Qt=cp(this,S),Qt==bi){Me==4&&(this.m=4,Gt(14),p=!1),ss(this.i,this.l,null,"[Incomplete Response]");break}else if(Qt==ql){this.m=4,Gt(15),ss(this.i,this.l,S,"[Invalid Chunk]"),p=!1;break}else ss(this.i,this.l,Qt,null),Hl(this,Qt);if(Wt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Me!=4||S.length!=0||this.h.h||(this.m=1,Gt(16),p=!1),this.o=this.o&&p,!p)ss(this.i,this.l,S,"[Invalid Chunked Response]"),Ai(this),bo(this);else if(S.length>0&&!this.W){this.W=!0;var ve=this.j;ve.g==this&&ve.aa&&!ve.P&&(ve.j.info("Great, no buffering proxy detected. Bytes received: "+S.length),fh(ve),ve.P=!0,Gt(11))}}else ss(this.i,this.l,S,null),Hl(this,S);Me==4&&Ai(this),this.o&&!this.K&&(Me==4?dh(this.j,this):(this.o=!1,Eo(this)))}else Do(this.g),E==400&&S.indexOf("Unknown SID")>0?(this.m=3,Gt(12)):(this.m=0,Gt(13)),Ai(this),bo(this)}}}catch{}finally{}};function ta(p){if(!Wt(p))return p.g.la();const E=Oo(p.g);if(E==="")return"";let S="";const k=E.length,ee=Bn(p.g)==4;if(!p.h.i){if(typeof TextDecoder>"u")return Ai(p),bo(p),"";p.h.i=new u.TextDecoder}for(let ae=0;ae<k;ae++)p.h.h=!0,S+=p.h.i.decode(E[ae],{stream:!(ee&&ae==k-1)});return E.length=0,p.h.g+=S,p.C=0,p.h.g}function Wt(p){return p.g?p.v=="GET"&&p.M!=2&&p.j.Aa:!1}function cp(p,E){var S=p.C,k=E.indexOf(`
`,S);return k==-1?bi:(S=Number(E.substring(S,k)),isNaN(S)?ql:(k+=1,k+S>E.length?bi:(E=E.slice(k,k+S),p.C=k+S,E)))}ei.prototype.cancel=function(){this.K=!0,Ai(this)};function Eo(p){p.T=Date.now()+p.H,Ti(p,p.H)}function Ti(p,E){if(p.D!=null)throw Error("WatchDog timer not null");p.D=Xs(f(p.aa,p),E)}function Si(p){p.D&&(u.clearTimeout(p.D),p.D=null)}ei.prototype.aa=function(){this.D=null;const p=Date.now();p-this.T>=0?(s_(this.i,this.B),this.M!=2&&(Ys(),Gt(17)),Ai(this),this.m=2,bo(this)):Ti(this,this.T-p)};function bo(p){p.j.I==0||p.K||dh(p.j,p)}function Ai(p){Si(p);var E=p.O;E&&typeof E.dispose=="function"&&E.dispose(),p.O=null,yt(p.V),p.g&&(E=p.g,p.g=null,E.abort(),E.dispose())}function Hl(p,E){try{var S=p.j;if(S.I!=0&&(S.g==p||So(S.h,p))){if(!p.L&&So(S.h,p)&&S.I==3){try{var k=S.Ba.g.parse(E)}catch{k=null}if(Array.isArray(k)&&k.length==3){var ee=k;if(ee[0]==0){e:if(!S.v){if(S.g)if(S.g.F+3e3<p.F)Jl(S),Ii(S);else break e;hh(S),Gt(18)}}else S.xa=ee[1],0<S.xa-S.K&&ee[2]<37500&&S.F&&S.A==0&&!S.C&&(S.C=Xs(f(S.Va,S),6e3));Lr(S.h)<=1&&S.ta&&(S.ta=void 0)}else hs(S,11)}else if((p.L||S.g==p)&&Jl(S),!R(E))for(ee=S.Ba.g.parse(E),E=0;E<ee.length;E++){let rt=ee[E];const Qt=rt[0];if(!(Qt<=S.K))if(S.K=Qt,rt=rt[1],S.I==2)if(rt[0]=="c"){S.M=rt[1],S.ba=rt[2];const _r=rt[3];_r!=null&&(S.ka=_r,S.j.info("VER="+S.ka));const Ri=rt[4];Ri!=null&&(S.za=Ri,S.j.info("SVER="+S.za));const ri=rt[5];ri!=null&&typeof ri=="number"&&ri>0&&(k=1.5*ri,S.O=k,S.j.info("backChannelRequestTimeoutMs_="+k)),k=S;const ii=p.g;if(ii){const si=ii.g?ii.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(si){var ae=k.h;ae.g||si.indexOf("spdy")==-1&&si.indexOf("quic")==-1&&si.indexOf("h2")==-1||(ae.j=ae.l,ae.g=new Set,ae.h&&($l(ae,ae.h),ae.h=null))}if(k.G){const mh=ii.g?ii.g.getResponseHeader("X-HTTP-Session-Id"):null;mh&&(k.wa=mh,ct(k.J,k.G,mh))}}S.I=3,S.l&&S.l.ra(),S.aa&&(S.T=Date.now()-p.F,S.j.info("Handshake RTT: "+S.T+"ms")),k=S;var ve=p;if(k.na=wp(k,k.L?k.ba:null,k.W),ve.L){os(k.h,ve);var Me=ve,wt=k.O;wt&&(Me.H=wt),Me.D&&(Si(Me),Eo(Me)),k.g=ve}else _p(k);S.i.length>0&&Vo(S)}else rt[0]!="stop"&&rt[0]!="close"||hs(S,7);else S.I==3&&(rt[0]=="stop"||rt[0]=="close"?rt[0]=="stop"?hs(S,7):ko(S):rt[0]!="noop"&&S.l&&S.l.qa(rt),S.A=0)}}Ys(4)}catch{}}var o_=class{constructor(p,E){this.g=p,this.map=E}};function wo(p){this.l=p||10,u.PerformanceNavigationTiming?(p=u.performance.getEntriesByType("navigation"),p=p.length>0&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function To(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function Lr(p){return p.h?1:p.g?p.g.size:0}function So(p,E){return p.h?p.h==E:p.g?p.g.has(E):!1}function $l(p,E){p.g?p.g.add(E):p.h=E}function os(p,E){p.h&&p.h==E?p.h=null:p.g&&p.g.has(E)&&p.g.delete(E)}wo.prototype.cancel=function(){if(this.i=Gl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function Gl(p){if(p.h!=null)return p.i.concat(p.h.G);if(p.g!=null&&p.g.size!==0){let E=p.i;for(const S of p.g.values())E=E.concat(S.G);return E}return T(p.i)}var Kl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function l_(p,E){if(p){p=p.split("&");for(let S=0;S<p.length;S++){const k=p[S].indexOf("=");let ee,ae=null;k>=0?(ee=p[S].substring(0,k),ae=p[S].substring(k+1)):ee=p[S],E(ee,ae?decodeURIComponent(ae.replace(/\+/g," ")):"")}}}function ti(p){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let E;p instanceof ti?(this.l=p.l,na(this,p.j),this.o=p.o,this.g=p.g,Ao(this,p.u),this.h=p.h,ra(this,pp(p.i)),this.m=p.m):p&&(E=String(p).match(Kl))?(this.l=!1,na(this,E[1]||"",!0),this.o=Io(E[2]||""),this.g=Io(E[3]||"",!0),Ao(this,E[4]),this.h=Io(E[5]||"",!0),ra(this,E[6]||"",!0),this.m=Io(E[7]||"")):(this.l=!1,this.i=new Ur(null,this.l))}ti.prototype.toString=function(){const p=[];var E=this.j;E&&p.push(En(E,ih,!0),":");var S=this.g;return(S||E=="file")&&(p.push("//"),(E=this.o)&&p.push(En(E,ih,!0),"@"),p.push(vo(S).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.u,S!=null&&p.push(":",String(S))),(S=this.h)&&(this.g&&S.charAt(0)!="/"&&p.push("/"),p.push(En(S,S.charAt(0)=="/"?ia:sh,!0))),(S=this.i.toString())&&p.push("?",S),(S=this.m)&&p.push("#",En(S,fp)),p.join("")},ti.prototype.resolve=function(p){const E=Dt(this);let S=!!p.j;S?na(E,p.j):S=!!p.o,S?E.o=p.o:S=!!p.g,S?E.g=p.g:S=p.u!=null;var k=p.h;if(S)Ao(E,p.u);else if(S=!!p.h){if(k.charAt(0)!="/")if(this.g&&!this.h)k="/"+k;else{var ee=E.h.lastIndexOf("/");ee!=-1&&(k=E.h.slice(0,ee+1)+k)}if(ee=k,ee==".."||ee==".")k="";else if(ee.indexOf("./")!=-1||ee.indexOf("/.")!=-1){k=ee.lastIndexOf("/",0)==0,ee=ee.split("/");const ae=[];for(let ve=0;ve<ee.length;){const Me=ee[ve++];Me=="."?k&&ve==ee.length&&ae.push(""):Me==".."?((ae.length>1||ae.length==1&&ae[0]!="")&&ae.pop(),k&&ve==ee.length&&ae.push("")):(ae.push(Me),k=!0)}k=ae.join("/")}else k=ee}return S?E.h=k:S=p.i.toString()!=="",S?ra(E,pp(p.i)):S=!!p.m,S&&(E.m=p.m),E};function Dt(p){return new ti(p)}function na(p,E,S){p.j=S?Io(E,!0):E,p.j&&(p.j=p.j.replace(/:$/,""))}function Ao(p,E){if(E){if(E=Number(E),isNaN(E)||E<0)throw Error("Bad port number "+E);p.u=E}else p.u=null}function ra(p,E,S){E instanceof Ur?(p.i=E,lh(p.i,p.l)):(S||(E=En(E,hp)),p.i=new Ur(E,p.l))}function ct(p,E,S){p.i.set(E,S)}function ls(p){return ct(p,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),p}function Io(p,E){return p?E?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function En(p,E,S){return typeof p=="string"?(p=encodeURI(p).replace(E,rh),S&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function rh(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var ih=/[#\/\?@]/g,sh=/[#\?:]/g,ia=/[#\?]/g,hp=/[#\?@]/g,fp=/#/g;function Ur(p,E){this.h=this.g=null,this.i=p||null,this.j=!!E}function us(p){p.g||(p.g=new Map,p.h=0,p.i&&l_(p.i,function(E,S){p.add(decodeURIComponent(E.replace(/\+/g," ")),S)}))}n=Ur.prototype,n.add=function(p,E){us(this),this.i=null,p=ni(this,p);let S=this.g.get(p);return S||this.g.set(p,S=[]),S.push(E),this.h+=1,this};function ah(p,E){us(p),E=ni(p,E),p.g.has(E)&&(p.i=null,p.h-=p.g.get(E).length,p.g.delete(E))}function oh(p,E){return us(p),E=ni(p,E),p.g.has(E)}n.forEach=function(p,E){us(this),this.g.forEach(function(S,k){S.forEach(function(ee){p.call(E,ee,k,this)},this)},this)};function Wl(p,E){us(p);let S=[];if(typeof E=="string")oh(p,E)&&(S=S.concat(p.g.get(ni(p,E))));else for(p=Array.from(p.g.values()),E=0;E<p.length;E++)S=S.concat(p[E]);return S}n.set=function(p,E){return us(this),this.i=null,p=ni(this,p),oh(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[E]),this.h+=1,this},n.get=function(p,E){return p?(p=Wl(this,p),p.length>0?String(p[0]):E):E};function dp(p,E,S){ah(p,E),S.length>0&&(p.i=null,p.g.set(ni(p,E),T(S)),p.h+=S.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],E=Array.from(this.g.keys());for(let k=0;k<E.length;k++){var S=E[k];const ee=vo(S);S=Wl(this,S);for(let ae=0;ae<S.length;ae++){let ve=ee;S[ae]!==""&&(ve+="="+vo(S[ae])),p.push(ve)}}return this.i=p.join("&")};function pp(p){const E=new Ur;return E.i=p.i,p.g&&(E.g=new Map(p.g),E.h=p.h),E}function ni(p,E){return E=String(E),p.j&&(E=E.toLowerCase()),E}function lh(p,E){E&&!p.j&&(us(p),p.i=null,p.g.forEach(function(S,k){const ee=k.toLowerCase();k!=ee&&(ah(this,k),dp(this,ee,S))},p)),p.j=E}function uh(p,E){const S=new Js;if(u.Image){const k=new Image;k.onload=g(Yn,S,"TestLoadImage: loaded",!0,E,k),k.onerror=g(Yn,S,"TestLoadImage: error",!1,E,k),k.onabort=g(Yn,S,"TestLoadImage: abort",!1,E,k),k.ontimeout=g(Yn,S,"TestLoadImage: timeout",!1,E,k),u.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=p}else E(!1)}function sa(p,E){const S=new Js,k=new AbortController,ee=setTimeout(()=>{k.abort(),Yn(S,"TestPingServer: timeout",!1,E)},1e4);fetch(p,{signal:k.signal}).then(ae=>{clearTimeout(ee),ae.ok?Yn(S,"TestPingServer: ok",!0,E):Yn(S,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(ee),Yn(S,"TestPingServer: error",!1,E)})}function Yn(p,E,S,k,ee){try{ee&&(ee.onload=null,ee.onerror=null,ee.onabort=null,ee.ontimeout=null),k(S)}catch{}}function mp(){this.g=new i_}function Ro(p){this.i=p.Sb||null,this.h=p.ab||!1}_(Ro,op),Ro.prototype.g=function(){return new Co(this.i,this.h)};function Co(p,E){Ht.call(this),this.H=p,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(Co,Ht),n=Co.prototype,n.open=function(p,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=p,this.D=E,this.readyState=1,cs(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const E={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};p&&(E.body=p),(this.H||u).fetch(new Request(this.D,E)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Xn(this)),this.readyState=0},n.Pa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,cs(this)),this.g&&(this.readyState=3,cs(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;aa(this)}else p.text().then(this.Oa.bind(this),this.ga.bind(this))};function aa(p){p.j.read().then(p.Ma.bind(p)).catch(p.ga.bind(p))}n.Ma=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var E=p.value?p.value:new Uint8Array(0);(E=this.B.decode(E,{stream:!p.done}))&&(this.response=this.responseText+=E)}p.done?Xn(this):cs(this),this.readyState==3&&aa(this)}},n.Oa=function(p){this.g&&(this.response=this.responseText=p,Xn(this))},n.Na=function(p){this.g&&(this.response=p,Xn(this))},n.ga=function(){this.g&&Xn(this)};function Xn(p){p.readyState=4,p.l=null,p.j=null,p.B=null,cs(p)}n.setRequestHeader=function(p,E){this.A.append(p,E)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],E=this.h.entries();for(var S=E.next();!S.done;)S=S.value,p.push(S[0]+": "+S[1]),S=E.next();return p.join(`\r
`)};function cs(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(Co.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function oa(p){let E="";return we(p,function(S,k){E+=k,E+=":",E+=S,E+=`\r
`}),E}function Br(p,E,S){e:{for(k in S){var k=!1;break e}k=!0}k||(S=oa(S),typeof p=="string"?S!=null&&vo(S):ct(p,E,S))}function _t(p){Ht.call(this),this.headers=new Map,this.L=p||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(_t,Ht);var Ql=/^https?$/i,gp=["POST","PUT"];n=_t.prototype,n.Fa=function(p){this.H=p},n.ea=function(p,E,S,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);E=E?E.toUpperCase():"GET",this.D=p,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():as.g(),this.g.onreadystatechange=v(f(this.Ca,this));try{this.B=!0,this.g.open(E,String(p),!0),this.B=!1}catch(ae){Po(this,ae);return}if(p=S||"",S=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var ee in k)S.set(ee,k[ee]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const ae of k.keys())S.set(ae,k.get(ae));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(S.keys()).find(ae=>ae.toLowerCase()=="content-type"),ee=u.FormData&&p instanceof u.FormData,!(Array.prototype.indexOf.call(gp,E,void 0)>=0)||k||ee||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ae,ve]of S)this.g.setRequestHeader(ae,ve);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(p),this.v=!1}catch(ae){Po(this,ae)}};function Po(p,E){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=E,p.o=5,xo(p),mn(p)}function xo(p){p.A||(p.A=!0,$t(p,"complete"),$t(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=p||7,$t(this,"complete"),$t(this,"abort"),mn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),mn(this,!0)),_t.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?ch(this):this.Xa())},n.Xa=function(){ch(this)};function ch(p){if(p.h&&typeof o<"u"){if(p.v&&Bn(p)==4)setTimeout(p.Ca.bind(p),0);else if($t(p,"readystatechange"),Bn(p)==4){p.h=!1;try{const ae=p.ca();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var S;if(!(S=E)){var k;if(k=ae===0){let ve=String(p.D).match(Kl)[1]||null;!ve&&u.self&&u.self.location&&(ve=u.self.location.protocol.slice(0,-1)),k=!Ql.test(ve?ve.toLowerCase():"")}S=k}if(S)$t(p,"complete"),$t(p,"success");else{p.o=6;try{var ee=Bn(p)>2?p.g.statusText:""}catch{ee=""}p.l=ee+" ["+p.ca()+"]",xo(p)}}finally{mn(p)}}}}function mn(p,E){if(p.g){p.m&&(clearTimeout(p.m),p.m=null);const S=p.g;p.g=null,E||$t(p,"ready");try{S.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Bn(p){return p.g?p.g.readyState:0}n.ca=function(){try{return Bn(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(p){if(this.g){var E=this.g.responseText;return p&&E.indexOf(p)==0&&(E=E.substring(p.length)),pn(E)}};function Oo(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.F){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Do(p){const E={};p=(p.g&&Bn(p)>=2&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<p.length;k++){if(R(p[k]))continue;var S=a_(p[k]);const ee=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const ae=E[ee]||[];E[ee]=ae,ae.push(S)}U(E,function(k){return k.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function No(p,E,S){return S&&S.internalChannelParams&&S.internalChannelParams[p]||E}function Yl(p){this.za=0,this.i=[],this.j=new Js,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=No("failFast",!1,p),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=No("baseRetryDelayMs",5e3,p),this.Za=No("retryDelaySeedMs",1e4,p),this.Ta=No("forwardChannelMaxRetries",2,p),this.va=No("forwardChannelRequestTimeoutMs",2e4,p),this.ma=p&&p.xmlHttpFactory||void 0,this.Ua=p&&p.Rb||void 0,this.Aa=p&&p.useFetchStreams||!1,this.O=void 0,this.L=p&&p.supportsCrossDomainXhr||!1,this.M="",this.h=new wo(p&&p.concurrentRequestLimit),this.Ba=new mp,this.S=p&&p.fastHandshake||!1,this.R=p&&p.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=p&&p.Pb||!1,p&&p.ua&&this.j.ua(),p&&p.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&p&&p.detectBufferingProxy||!1,this.ia=void 0,p&&p.longPollingTimeout&&p.longPollingTimeout>0&&(this.ia=p.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Yl.prototype,n.ka=8,n.I=1,n.connect=function(p,E,S,k){Gt(0),this.W=p,this.H=E||{},S&&k!==void 0&&(this.H.OSID=S,this.H.OAID=k),this.F=this.X,this.J=wp(this,null,this.W),Vo(this)};function ko(p){if(Mo(p),p.I==3){var E=p.V++,S=Dt(p.J);if(ct(S,"SID",p.M),ct(S,"RID",E),ct(S,"TYPE","terminate"),Lo(p,S),E=new ei(p,p.j,E),E.M=2,E.A=ls(Dt(S)),S=!1,u.navigator&&u.navigator.sendBeacon)try{S=u.navigator.sendBeacon(E.A.toString(),"")}catch{}!S&&u.Image&&(new Image().src=E.A,S=!0),S||(E.g=Zl(E.j,null),E.g.ea(E.A)),E.F=Date.now(),Eo(E)}bp(p)}function Ii(p){p.g&&(fh(p),p.g.cancel(),p.g=null)}function Mo(p){Ii(p),p.v&&(u.clearTimeout(p.v),p.v=null),Jl(p),p.h.cancel(),p.m&&(typeof p.m=="number"&&u.clearTimeout(p.m),p.m=null)}function Vo(p){if(!To(p.h)&&!p.m){p.m=!0;var E=p.Ea;j||C(),$||(j(),$=!0),N.add(E,p),p.D=0}}function u_(p,E){return Lr(p.h)>=p.h.j-(p.m?1:0)?!1:p.m?(p.i=E.G.concat(p.i),!0):p.I==1||p.I==2||p.D>=(p.Sa?0:p.Ta)?!1:(p.m=Xs(f(p.Ea,p,E),Ep(p,p.D)),p.D++,!0)}n.Ea=function(p){if(this.m)if(this.m=null,this.I==1){if(!p){this.V=Math.floor(Math.random()*1e5),p=this.V++;const ee=new ei(this,this.j,p);let ae=this.o;if(this.U&&(ae?(ae=le(ae),_e(ae,this.U)):ae=this.U),this.u!==null||this.R||(ee.J=ae,ae=null),this.S)e:{for(var E=0,S=0;S<this.i.length;S++){t:{var k=this.i[S];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(E+=k,E>4096){E=S;break e}if(E===4096||S===this.i.length-1){E=S+1;break e}}E=1e3}else E=1e3;E=Xl(this,ee,E),S=Dt(this.J),ct(S,"RID",p),ct(S,"CVER",22),this.G&&ct(S,"X-HTTP-Session-Id",this.G),Lo(this,S),ae&&(this.R?E="headers="+vo(oa(ae))+"&"+E:this.u&&Br(S,this.u,ae)),$l(this.h,ee),this.Ra&&ct(S,"TYPE","init"),this.S?(ct(S,"$req",E),ct(S,"SID","null"),ee.U=!0,wi(ee,S,null)):wi(ee,S,E),this.I=2}}else this.I==3&&(p?yp(this,p):this.i.length==0||To(this.h)||yp(this))};function yp(p,E){var S;E?S=E.l:S=p.V++;const k=Dt(p.J);ct(k,"SID",p.M),ct(k,"RID",S),ct(k,"AID",p.K),Lo(p,k),p.u&&p.o&&Br(k,p.u,p.o),S=new ei(p,p.j,S,p.D+1),p.u===null&&(S.J=p.o),E&&(p.i=E.G.concat(p.i)),E=Xl(p,S,1e3),S.H=Math.round(p.va*.5)+Math.round(p.va*.5*Math.random()),$l(p.h,S),wi(S,k,E)}function Lo(p,E){p.H&&we(p.H,function(S,k){ct(E,k,S)}),p.l&&we({},function(S,k){ct(E,k,S)})}function Xl(p,E,S){S=Math.min(p.i.length,S);const k=p.l?f(p.l.Ka,p.l,p):null;e:{var ee=p.i;let Me=-1;for(;;){const wt=["count="+S];Me==-1?S>0?(Me=ee[0].g,wt.push("ofs="+Me)):Me=0:wt.push("ofs="+Me);let rt=!0;for(let Qt=0;Qt<S;Qt++){var ae=ee[Qt].g;const _r=ee[Qt].map;if(ae-=Me,ae<0)Me=Math.max(0,ee[Qt].g-100),rt=!1;else try{ae="req"+ae+"_"||"";try{var ve=_r instanceof Map?_r:Object.entries(_r);for(const[Ri,ri]of ve){let ii=ri;h(ri)&&(ii=rn(ri)),wt.push(ae+Ri+"="+encodeURIComponent(ii))}}catch(Ri){throw wt.push(ae+"type="+encodeURIComponent("_badmap")),Ri}}catch{k&&k(_r)}}if(rt){ve=wt.join("&");break e}}ve=void 0}return p=p.i.splice(0,S),E.G=p,ve}function _p(p){if(!p.g&&!p.v){p.Y=1;var E=p.Da;j||C(),$||(j(),$=!0),N.add(E,p),p.A=0}}function hh(p){return p.g||p.v||p.A>=3?!1:(p.Y++,p.v=Xs(f(p.Da,p),Ep(p,p.A)),p.A++,!0)}n.Da=function(){if(this.v=null,vp(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var p=4*this.T;this.j.info("BP detection timer enabled: "+p),this.B=Xs(f(this.Wa,this),p)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Gt(10),Ii(this),vp(this))};function fh(p){p.B!=null&&(u.clearTimeout(p.B),p.B=null)}function vp(p){p.g=new ei(p,p.j,"rpc",p.Y),p.u===null&&(p.g.J=p.o),p.g.P=0;var E=Dt(p.na);ct(E,"RID","rpc"),ct(E,"SID",p.M),ct(E,"AID",p.K),ct(E,"CI",p.F?"0":"1"),!p.F&&p.ia&&ct(E,"TO",p.ia),ct(E,"TYPE","xmlhttp"),Lo(p,E),p.u&&p.o&&Br(E,p.u,p.o),p.O&&(p.g.H=p.O);var S=p.g;p=p.ba,S.M=1,S.A=ls(Dt(E)),S.u=null,S.R=!0,ea(S,p)}n.Va=function(){this.C!=null&&(this.C=null,Ii(this),hh(this),Gt(19))};function Jl(p){p.C!=null&&(u.clearTimeout(p.C),p.C=null)}function dh(p,E){var S=null;if(p.g==E){Jl(p),fh(p),p.g=null;var k=2}else if(So(p.h,E))S=E.G,os(p.h,E),k=1;else return;if(p.I!=0){if(E.o)if(k==1){S=E.u?E.u.length:0,E=Date.now()-E.F;var ee=p.D;k=jl(),$t(k,new up(k,S)),Vo(p)}else _p(p);else if(ee=E.m,ee==3||ee==0&&E.X>0||!(k==1&&u_(p,E)||k==2&&hh(p)))switch(S&&S.length>0&&(E=p.h,E.i=E.i.concat(S)),ee){case 1:hs(p,5);break;case 4:hs(p,10);break;case 3:hs(p,6);break;default:hs(p,2)}}}function Ep(p,E){let S=p.Qa+Math.floor(Math.random()*p.Za);return p.isActive()||(S*=2),S*E}function hs(p,E){if(p.j.info("Error code "+E),E==2){var S=f(p.bb,p),k=p.Ua;const ee=!k;k=new ti(k||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||na(k,"https"),ls(k),ee?uh(k.toString(),S):sa(k.toString(),S)}else Gt(2);p.I=0,p.l&&p.l.pa(E),bp(p),Mo(p)}n.bb=function(p){p?(this.j.info("Successfully pinged google.com"),Gt(2)):(this.j.info("Failed to ping google.com"),Gt(1))};function bp(p){if(p.I=0,p.ja=[],p.l){const E=Gl(p.h);(E.length!=0||p.i.length!=0)&&(w(p.ja,E),w(p.ja,p.i),p.h.i.length=0,T(p.i),p.i.length=0),p.l.oa()}}function wp(p,E,S){var k=S instanceof ti?Dt(S):new ti(S);if(k.g!="")E&&(k.g=E+"."+k.g),Ao(k,k.u);else{var ee=u.location;k=ee.protocol,E=E?E+"."+ee.hostname:ee.hostname,ee=+ee.port;const ae=new ti(null);k&&na(ae,k),E&&(ae.g=E),ee&&Ao(ae,ee),S&&(ae.h=S),k=ae}return S=p.G,E=p.wa,S&&E&&ct(k,S,E),ct(k,"VER",p.ka),Lo(p,k),k}function Zl(p,E,S){if(E&&!p.L)throw Error("Can't create secondary domain capable XhrIo object.");return E=p.Aa&&!p.ma?new _t(new Ro({ab:S})):new _t(p.ma),E.Fa(p.L),E}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tp(){}n=Tp.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function eu(){}eu.prototype.g=function(p,E){return new Jn(p,E)};function Jn(p,E){Ht.call(this),this.g=new Yl(E),this.l=p,this.h=E&&E.messageUrlParams||null,p=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(p?p["X-WebChannel-Content-Type"]=E.messageContentType:p={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.sa&&(p?p["X-WebChannel-Client-Profile"]=E.sa:p={"X-WebChannel-Client-Profile":E.sa}),this.g.U=p,(p=E&&E.Qb)&&!R(p)&&(this.g.u=p),this.A=E&&E.supportsCrossDomainXhr||!1,this.v=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!R(E)&&(this.g.G=E,p=this.h,p!==null&&E in p&&(p=this.h,E in p&&delete p[E])),this.j=new la(this)}_(Jn,Ht),Jn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Jn.prototype.close=function(){ko(this.g)},Jn.prototype.o=function(p){var E=this.g;if(typeof p=="string"){var S={};S.__data__=p,p=S}else this.v&&(S={},S.__data__=rn(p),p=S);E.i.push(new o_(E.Ya++,p)),E.I==3&&Vo(E)},Jn.prototype.N=function(){this.g.l=null,delete this.j,ko(this.g),delete this.g,Jn.Z.N.call(this)};function ph(p){Ws.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var E=p.__sm__;if(E){e:{for(const S in E){p=S;break e}p=void 0}(this.i=p)&&(p=this.i,E=E!==null&&p in E?E[p]:void 0),this.data=E}else this.data=p}_(ph,Ws);function Sp(){Zr.call(this),this.status=1}_(Sp,Zr);function la(p){this.g=p}_(la,Tp),la.prototype.ra=function(){$t(this.g,"a")},la.prototype.qa=function(p){$t(this.g,new ph(p))},la.prototype.pa=function(p){$t(this.g,new Sp)},la.prototype.oa=function(){$t(this.g,"b")},eu.prototype.createWebChannel=eu.prototype.g,Jn.prototype.send=Jn.prototype.o,Jn.prototype.open=Jn.prototype.m,Jn.prototype.close=Jn.prototype.close,fD=function(){return new eu},hD=function(){return jl()},cD=Vr,fb={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Kt.NO_ERROR=0,Kt.TIMEOUT=8,Kt.HTTP_ERROR=6,tg=Kt,Pn.COMPLETE="complete",uD=Pn,lp.EventType=vi,vi.OPEN="a",vi.CLOSE="b",vi.ERROR="c",vi.MESSAGE="d",Ht.prototype.listen=Ht.prototype.J,Nf=lp,_t.prototype.listenOnce=_t.prototype.K,_t.prototype.getLastError=_t.prototype.Ha,_t.prototype.getLastErrorCode=_t.prototype.ya,_t.prototype.getStatus=_t.prototype.ca,_t.prototype.getResponseJson=_t.prototype.La,_t.prototype.getResponseText=_t.prototype.la,_t.prototype.send=_t.prototype.ea,_t.prototype.setWithCredentials=_t.prototype.Fa,lD=_t}).apply(typeof Dm<"u"?Dm:typeof self<"u"?self:typeof window<"u"?window:{});const T1="@firebase/firestore",S1="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let An=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};An.UNAUTHENTICATED=new An(null),An.GOOGLE_CREDENTIALS=new An("google-credentials-uid"),An.FIRST_PARTY=new An("first-party-uid"),An.MOCK_USER=new An("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hc="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja=new _y("@firebase/firestore");function zu(){return Ja.logLevel}function Mq(n){Ja.setLogLevel(n)}function pe(n,...e){if(Ja.logLevel<=qe.DEBUG){const t=e.map($w);Ja.debug(`Firestore (${Hc}): ${n}`,...t)}}function Jt(n,...e){if(Ja.logLevel<=qe.ERROR){const t=e.map($w);Ja.error(`Firestore (${Hc}): ${n}`,...t)}}function es(n,...e){if(Ja.logLevel<=qe.WARN){const t=e.map($w);Ja.warn(`Firestore (${Hc}): ${n}`,...t)}}function $w(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,dD(n,r,t)}function dD(n,e,t){let r=`FIRESTORE (${Hc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Jt(r),new Error(r)}function Ae(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||dD(e,s,r)}function Vq(n,e){n||Te(57014,e)}function be(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends rr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Lq{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(An.UNAUTHENTICATED)))}shutdown(){}}class Uq{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Bq{constructor(e){this.t=e,this.currentUser=An.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ae(this.o===void 0,42304);let r=this.i;const s=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve();let o=new Vn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Vn,e.enqueueRetryable((()=>s(this.currentUser)))};const u=()=>{const d=o;e.enqueueRetryable((async()=>{await d.promise,await s(this.currentUser)}))},h=d=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((d=>h(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Vn)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ae(typeof r.accessToken=="string",31837,{l:r}),new pD(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ae(e===null||typeof e=="string",2055,{h:e}),new An(e)}}class Fq{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=An.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class jq{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new Fq(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(An.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class A1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zq{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ct(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ae(this.o===void 0,3512);const r=o=>{o.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,pe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const s=o=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>s(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new A1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ae(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new A1(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qq(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=qq(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<t&&(r+=e.charAt(s[o]%62))}return r}}function ke(n,e){return n<e?-1:n>e?1:0}function db(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const s=n.charAt(r),o=e.charAt(r);if(s!==o)return DE(s)===DE(o)?ke(s,o):DE(s)?1:-1}return ke(n.length,e.length)}const Hq=55296,$q=57343;function DE(n){const e=n.charCodeAt(0);return e>=Hq&&e<=$q}function hc(n,e,t){return n.length===e.length&&n.every(((r,s)=>t(r,e[s])))}function mD(n){return n+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1="__name__";class Vi{constructor(e,t,r){t===void 0?t=0:t>e.length&&Te(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Te(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Vi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Vi?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const o=Vi.compareSegments(e.get(s),t.get(s));if(o!==0)return o}return ke(e.length,t.length)}static compareSegments(e,t){const r=Vi.isNumericId(e),s=Vi.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?Vi.extractNumericId(e).compare(Vi.extractNumericId(t)):db(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return qa.fromString(e.substring(4,e.length-2))}}class He extends Vi{construct(e,t,r){return new He(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new de(se.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((s=>s.length>0)))}return new He(t)}static emptyPath(){return new He([])}}const Gq=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pt extends Vi{construct(e,t,r){return new Pt(e,t,r)}static isValidIdentifier(e){return Gq.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===I1}static keyField(){return new Pt([I1])}static fromServerFormat(e){const t=[];let r="",s=0;const o=()=>{if(r.length===0)throw new de(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;s<e.length;){const h=e[s];if(h==="\\"){if(s+1===e.length)throw new de(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new de(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,s+=2}else h==="`"?(u=!u,s++):h!=="."||u?(r+=h,s++):(o(),s++)}if(o(),u)throw new de(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pt(t)}static emptyPath(){return new Pt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(He.fromString(e))}static fromName(e){return new Ee(He.fromString(e).popFirst(5))}static empty(){return new Ee(He.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&He.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return He.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new He(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(n,e,t){if(!t)throw new de(se.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function gD(n,e,t,r){if(e===!0&&r===!0)throw new de(se.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function R1(n){if(!Ee.isDocumentKey(n))throw new de(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function C1(n){if(Ee.isDocumentKey(n))throw new de(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function yD(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Oy(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Te(12329,{type:typeof n})}function Je(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new de(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Oy(n);throw new de(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function _D(n,e){if(e<=0)throw new de(se.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(n,e){const t={typeString:n};return e&&(t.value=e),t}function Gd(n,e){if(!yD(n))throw new de(se.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const s=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const u=n[r];if(s&&typeof u!==s){t=`JSON field '${r}' must be a ${s}.`;break}if(o!==void 0&&u!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new de(se.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1=-62135596800,x1=1e6;class nt{static now(){return nt.fromMillis(Date.now())}static fromDate(e){return nt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*x1);return new nt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new de(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new de(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<P1)throw new de(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/x1}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:nt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Gd(e,nt._jsonSchema))return new nt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-P1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}nt._jsonSchemaVersion="firestore/timestamp/1.0",nt._jsonSchema={type:hn("string",nt._jsonSchemaVersion),seconds:hn("number"),nanoseconds:hn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new nt(0,0))}static max(){return new Ie(new nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc=-1;class xg{constructor(e,t,r,s){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=s}}function pb(n){return n.fields.find((e=>e.kind===2))}function rl(n){return n.fields.filter((e=>e.kind!==2))}xg.UNKNOWN_ID=-1;class ng{constructor(e,t){this.fieldPath=e,this.kind=t}}class fd{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new fd(0,kr.min())}}function vD(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Ie.fromTimestamp(r===1e9?new nt(t+1,0):new nt(t,r));return new kr(s,Ee.empty(),e)}function ED(n){return new kr(n.readTime,n.key,fc)}class kr{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new kr(Ie.min(),Ee.empty(),fc)}static max(){return new kr(Ie.max(),Ee.empty(),fc)}}function Ww(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ee.comparator(n.documentKey,e.documentKey),t!==0?t:ke(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function co(n){if(n.code!==se.FAILED_PRECONDITION||n.message!==bD)throw n;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new X(((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,s)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof X?t:X.resolve(t)}catch(t){return X.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):X.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):X.reject(t)}static resolve(e){return new X(((t,r)=>{t(e)}))}static reject(e){return new X(((t,r)=>{r(e)}))}static waitFor(e){return new X(((t,r)=>{let s=0,o=0,u=!1;e.forEach((h=>{++s,h.next((()=>{++o,u&&o===s&&t()}),(d=>r(d)))})),u=!0,o===s&&t()}))}static or(e){let t=X.resolve(!1);for(const r of e)t=t.next((s=>s?X.resolve(s):r()));return t}static forEach(e,t){const r=[];return e.forEach(((s,o)=>{r.push(t.call(this,s,o))})),this.waitFor(r)}static mapArray(e,t){return new X(((r,s)=>{const o=e.length,u=new Array(o);let h=0;for(let d=0;d<o;d++){const f=d;t(e[f]).next((g=>{u[f]=g,++h,h===o&&r(u)}),(g=>s(g)))}}))}static doWhile(e,t){return new X(((r,s)=>{const o=()=>{e()===!0?t().next((()=>{o()}),s):r()};o()}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rr="SimpleDb";class Dy{static open(e,t,r,s){try{return new Dy(t,e.transaction(s,r))}catch(o){throw new $f(t,o)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new Vn,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new $f(e,t.error)):this.S.resolve()},this.transaction.onerror=r=>{const s=Qw(r.target.error);this.S.reject(new $f(e,s))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(pe(Rr,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Wq(t)}}class Wi{static delete(e){return pe(Rr,"Removing database:",e),sl(Ew().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!ad())return!1;if(Wi.F())return!0;const e=Mt(),t=Wi.M(e),r=0<t&&t<10,s=TD(e),o=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,t,r){this.name=e,this.version=t,this.N=r,this.B=null,Wi.M(Mt())===12.2&&Jt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(pe(Rr,"Opening database:",this.name),this.db=await new Promise(((t,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=o=>{const u=o.target.result;t(u)},s.onblocked=()=>{r(new $f(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=o=>{const u=o.target.error;u.name==="VersionError"?r(new de(se.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):u.name==="InvalidStateError"?r(new de(se.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+u)):r(new $f(e,u))},s.onupgradeneeded=o=>{pe(Rr,'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const u=o.target.result;this.N.k(u,s.transaction,o.oldVersion,this.version).next((()=>{pe(Rr,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=t=>this.q(t)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,s){const o=t==="readonly";let u=0;for(;;){++u;try{this.db=await this.L(e);const h=Dy.open(this.db,e,o?"readonly":"readwrite",r),d=s(h).next((f=>(h.C(),f))).catch((f=>(h.abort(f),X.reject(f)))).toPromise();return d.catch((()=>{})),await h.D,d}catch(h){const d=h,f=d.name!=="FirebaseError"&&u<3;if(pe(Rr,"Transaction failed with error:",d.message,"Retrying:",f),this.close(),!f)return Promise.reject(d)}}}close(){this.db&&this.db.close(),this.db=void 0}}function TD(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class Kq{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return sl(this.U.delete())}}class $f extends de{constructor(e,t){super(se.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ho(n){return n.name==="IndexedDbTransactionError"}class Wq{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(pe(Rr,"PUT",this.store.name,e,t),r=this.store.put(t,e)):(pe(Rr,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),sl(r)}add(e){return pe(Rr,"ADD",this.store.name,e,e),sl(this.store.add(e))}get(e){return sl(this.store.get(e)).next((t=>(t===void 0&&(t=null),pe(Rr,"GET",this.store.name,e,t),t)))}delete(e){return pe(Rr,"DELETE",this.store.name,e),sl(this.store.delete(e))}count(){return pe(Rr,"COUNT",this.store.name),sl(this.store.count())}J(e,t){const r=this.options(e,t),s=r.index?this.store.index(r.index):this.store;if(typeof s.getAll=="function"){const o=s.getAll(r.range);return new X(((u,h)=>{o.onerror=d=>{h(d.target.error)},o.onsuccess=d=>{u(d.target.result)}}))}{const o=this.cursor(r),u=[];return this.H(o,((h,d)=>{u.push(d)})).next((()=>u))}}Y(e,t){const r=this.store.getAll(e,t===null?void 0:t);return new X(((s,o)=>{r.onerror=u=>{o(u.target.error)},r.onsuccess=u=>{s(u.target.result)}}))}Z(e,t){pe(Rr,"DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const s=this.cursor(r);return this.H(s,((o,u,h)=>h.delete()))}ee(e,t){let r;t?r=e:(r={},t=e);const s=this.cursor(r);return this.H(s,t)}te(e){const t=this.cursor({});return new X(((r,s)=>{t.onerror=o=>{const u=Qw(o.target.error);s(u)},t.onsuccess=o=>{const u=o.target.result;u?e(u.primaryKey,u.value).next((h=>{h?u.continue():r()})):r()}}))}H(e,t){const r=[];return new X(((s,o)=>{e.onerror=u=>{o(u.target.error)},e.onsuccess=u=>{const h=u.target.result;if(!h)return void s();const d=new Kq(h),f=t(h.primaryKey,h.value,d);if(f instanceof X){const g=f.catch((_=>(d.done(),X.reject(_))));r.push(g)}d.isDone?s():d.G===null?h.continue():h.continue(d.G)}})).next((()=>X.waitFor(r)))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function sl(n){return new X(((e,t)=>{n.onsuccess=r=>{const s=r.target.result;e(s)},n.onerror=r=>{const s=Qw(r.target.error);t(s)}}))}let O1=!1;function Qw(n){const e=Wi.M(Mt());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new de("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return O1||(O1=!0,setTimeout((()=>{throw r}),0)),r}}return n}const Gf="IndexBackfiller";class Qq{constructor(e,t){this.asyncQueue=e,this.ne=t,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){pe(Gf,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const t=await this.ne.ie();pe(Gf,`Documents written: ${t}`)}catch(t){ho(t)?pe(Gf,"Ignoring IndexedDB error during index backfill: ",t):await co(t)}await this.re(6e4)}))}}class Yq{constructor(e,t){this.localStore=e,this.persistence=t}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.se(t,e)))}se(e,t){const r=new Set;let s=t,o=!0;return X.doWhile((()=>o===!0&&s>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((u=>{if(u!==null&&!r.has(u))return pe(Gf,`Processing collection: ${u}`),this.oe(e,u,s).next((h=>{s-=h,r.add(u)}));o=!1})))).next((()=>t-s))}oe(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((s=>this.localStore.localDocuments.getNextDocuments(e,t,s,r).next((o=>{const u=o.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next((()=>this._e(s,o))).next((h=>(pe(Gf,`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,t,h)))).next((()=>u.size))}))))}_e(e,t){let r=e;return t.changes.forEach(((s,o)=>{const u=ED(o);Ww(u,r)>0&&(r=u)})),new kr(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}hr.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha=-1;function Kd(n){return n==null}function dd(n){return n===0&&1/n==-1/0}function SD(n){return typeof n=="number"&&Number.isInteger(n)&&!dd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Og="";function Kn(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=D1(e)),e=Xq(n.get(t),e);return D1(e)}function Xq(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const o=n.charAt(s);switch(o){case"\0":t+="";break;case Og:t+="";break;default:t+=o}}return t}function D1(n){return n+Og+""}function $i(n){const e=n.length;if(Ae(e>=2,64408,{path:n}),e===2)return Ae(n.charAt(0)===Og&&n.charAt(1)==="",56145,{path:n}),He.emptyPath();const t=e-2,r=[];let s="";for(let o=0;o<e;){const u=n.indexOf(Og,o);switch((u<0||u>t)&&Te(50515,{path:n}),n.charAt(u+1)){case"":const h=n.substring(o,u);let d;s.length===0?d=h:(s+=h,d=s,s=""),r.push(d);break;case"":s+=n.substring(o,u),s+="\0";break;case"":s+=n.substring(o,u+1);break;default:Te(61167,{path:n})}o=u+2}return new He(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const il="remoteDocuments",Wd="owner",Mu="owner",pd="mutationQueues",Jq="userId",ci="mutations",N1="batchId",dl="userMutationsIndex",k1=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rg(n,e){return[n,Kn(e)]}function AD(n,e,t){return[n,Kn(e),t]}const Zq={},dc="documentMutations",Dg="remoteDocumentsV14",e8=["prefixPath","collectionGroup","readTime","documentId"],ig="documentKeyIndex",t8=["prefixPath","collectionGroup","documentId"],ID="collectionGroupIndex",n8=["collectionGroup","readTime","prefixPath","documentId"],md="remoteDocumentGlobal",mb="remoteDocumentGlobalKey",pc="targets",RD="queryTargetsIndex",r8=["canonicalId","targetId"],mc="targetDocuments",i8=["targetId","path"],Yw="documentTargetsIndex",s8=["path","targetId"],Ng="targetGlobalKey",El="targetGlobal",gd="collectionParents",a8=["collectionId","parent"],gc="clientMetadata",o8="clientId",Ny="bundles",l8="bundleId",ky="namedQueries",u8="name",Xw="indexConfiguration",c8="indexId",gb="collectionGroupIndex",h8="collectionGroup",Kf="indexState",f8=["indexId","uid"],CD="sequenceNumberIndex",d8=["uid","sequenceNumber"],Wf="indexEntries",p8=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],PD="documentKeyIndex",m8=["indexId","uid","orderedDocumentKey"],My="documentOverlays",g8=["userId","collectionPath","documentId"],yb="collectionPathOverlayIndex",y8=["userId","collectionPath","largestBatchId"],xD="collectionGroupOverlayIndex",_8=["userId","collectionGroup","largestBatchId"],Jw="globals",v8="name",OD=[pd,ci,dc,il,pc,Wd,El,mc,gc,md,gd,Ny,ky],E8=[...OD,My],DD=[pd,ci,dc,Dg,pc,Wd,El,mc,gc,md,gd,Ny,ky,My],ND=DD,Zw=[...ND,Xw,Kf,Wf],b8=Zw,kD=[...Zw,Jw],w8=kD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b extends wD{constructor(e,t){super(),this.le=e,this.currentSequenceNumber=t}}function vn(n,e){const t=be(n);return Wi.O(t.le,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function fo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function MD(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,t){this.comparator=e,this.root=t||Nn.EMPTY}insert(e,t){return new bt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Nn.BLACK,null,null))}remove(e){return new bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nm(this.root,e,this.comparator,!0)}}class Nm{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Nn{constructor(e,t,r,s,o){this.key=e,this.value=t,this.color=r??Nn.RED,this.left=s??Nn.EMPTY,this.right=o??Nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,o){return new Nn(e??this.key,t??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,t,r),null):o===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Nn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Nn.EMPTY=null,Nn.RED=!0,Nn.BLACK=!1;Nn.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,t,r,s,o){return this}insert(e,t,r){return new Nn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new V1(this.data.getIterator())}getIteratorFrom(e){return new V1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof ut)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new ut(this.comparator);return t.data=e,t}}class V1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Vu(n){return n.hasNext()?n.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e){this.fields=e,e.sort(Pt.comparator)}static empty(){return new fr([])}unionWith(e){let t=new ut(Pt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new fr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return hc(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T8(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new VD("Invalid base64 string: "+o):o}})(e);return new jt(t)}static fromUint8Array(e){const t=(function(s){let o="";for(let u=0;u<s.length;++u)o+=String.fromCharCode(s[u]);return o})(e);return new jt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jt.EMPTY_BYTE_STRING=new jt("");const S8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Us(n){if(Ae(!!n,39018),typeof n=="string"){let e=0;const t=S8.exec(n);if(Ae(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Rt(n.seconds),nanos:Rt(n.nanos)}}function Rt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Bs(n){return typeof n=="string"?jt.fromBase64String(n):jt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD="server_timestamp",UD="__type__",BD="__previous_value__",FD="__local_write_time__";function Vy(n){return(n?.mapValue?.fields||{})[UD]?.stringValue===LD}function Ly(n){const e=n.mapValue.fields[BD];return Vy(e)?Ly(e):e}function yd(n){const e=Us(n.mapValue.fields[FD].timestampValue);return new nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A8{constructor(e,t,r,s,o,u,h,d,f,g){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=f,this.isUsingEmulator=g}}const vb="(default)";class Za{constructor(e,t){this.projectId=e,this.database=t||vb}static empty(){return new Za("","")}get isDefaultDatabase(){return this.database===vb}isEqual(e){return e instanceof Za&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0="__type__",jD="__max__",La={mapValue:{fields:{__type__:{stringValue:jD}}}},t0="__vector__",yc="value",sg={nullValue:"NULL_VALUE"};function eo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Vy(n)?4:zD(n)?9007199254740991:Uy(n)?10:11:Te(28295,{value:n})}function ts(n,e){if(n===e)return!0;const t=eo(n);if(t!==eo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return yd(n).isEqual(yd(e));case 3:return(function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const u=Us(s.timestampValue),h=Us(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(s,o){return Bs(s.bytesValue).isEqual(Bs(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(s,o){return Rt(s.geoPointValue.latitude)===Rt(o.geoPointValue.latitude)&&Rt(s.geoPointValue.longitude)===Rt(o.geoPointValue.longitude)})(n,e);case 2:return(function(s,o){if("integerValue"in s&&"integerValue"in o)return Rt(s.integerValue)===Rt(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const u=Rt(s.doubleValue),h=Rt(o.doubleValue);return u===h?dd(u)===dd(h):isNaN(u)&&isNaN(h)}return!1})(n,e);case 9:return hc(n.arrayValue.values||[],e.arrayValue.values||[],ts);case 10:case 11:return(function(s,o){const u=s.mapValue.fields||{},h=o.mapValue.fields||{};if(M1(u)!==M1(h))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(h[d]===void 0||!ts(u[d],h[d])))return!1;return!0})(n,e);default:return Te(52216,{left:n})}}function _d(n,e){return(n.values||[]).find((t=>ts(t,e)))!==void 0}function to(n,e){if(n===e)return 0;const t=eo(n),r=eo(e);if(t!==r)return ke(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ke(n.booleanValue,e.booleanValue);case 2:return(function(o,u){const h=Rt(o.integerValue||o.doubleValue),d=Rt(u.integerValue||u.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1})(n,e);case 3:return L1(n.timestampValue,e.timestampValue);case 4:return L1(yd(n),yd(e));case 5:return db(n.stringValue,e.stringValue);case 6:return(function(o,u){const h=Bs(o),d=Bs(u);return h.compareTo(d)})(n.bytesValue,e.bytesValue);case 7:return(function(o,u){const h=o.split("/"),d=u.split("/");for(let f=0;f<h.length&&f<d.length;f++){const g=ke(h[f],d[f]);if(g!==0)return g}return ke(h.length,d.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,u){const h=ke(Rt(o.latitude),Rt(u.latitude));return h!==0?h:ke(Rt(o.longitude),Rt(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return U1(n.arrayValue,e.arrayValue);case 10:return(function(o,u){const h=o.fields||{},d=u.fields||{},f=h[yc]?.arrayValue,g=d[yc]?.arrayValue,_=ke(f?.values?.length||0,g?.values?.length||0);return _!==0?_:U1(f,g)})(n.mapValue,e.mapValue);case 11:return(function(o,u){if(o===La.mapValue&&u===La.mapValue)return 0;if(o===La.mapValue)return 1;if(u===La.mapValue)return-1;const h=o.fields||{},d=Object.keys(h),f=u.fields||{},g=Object.keys(f);d.sort(),g.sort();for(let _=0;_<d.length&&_<g.length;++_){const v=db(d[_],g[_]);if(v!==0)return v;const T=to(h[d[_]],f[g[_]]);if(T!==0)return T}return ke(d.length,g.length)})(n.mapValue,e.mapValue);default:throw Te(23264,{he:t})}}function L1(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ke(n,e);const t=Us(n),r=Us(e),s=ke(t.seconds,r.seconds);return s!==0?s:ke(t.nanos,r.nanos)}function U1(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const o=to(t[s],r[s]);if(o)return o}return ke(t.length,r.length)}function _c(n){return Eb(n)}function Eb(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=Us(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Bs(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Ee.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",s=!0;for(const o of t.values||[])s?s=!1:r+=",",r+=Eb(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let s="{",o=!0;for(const u of r)o?o=!1:s+=",",s+=`${u}:${Eb(t.fields[u])}`;return s+"}"})(n.mapValue):Te(61005,{value:n})}function ag(n){switch(eo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ly(n);return e?16+ag(e):16;case 5:return 2*n.stringValue.length;case 6:return Bs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,o)=>s+ag(o)),0)})(n.arrayValue);case 10:case 11:return(function(r){let s=0;return fo(r.fields,((o,u)=>{s+=o.length+ag(u)})),s})(n.mapValue);default:throw Te(13486,{value:n})}}function Sl(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function bb(n){return!!n&&"integerValue"in n}function vd(n){return!!n&&"arrayValue"in n}function B1(n){return!!n&&"nullValue"in n}function F1(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function og(n){return!!n&&"mapValue"in n}function Uy(n){return(n?.mapValue?.fields||{})[e0]?.stringValue===t0}function Qf(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return fo(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Qf(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Qf(n.arrayValue.values[t]);return e}return{...n}}function zD(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===jD}const qD={mapValue:{fields:{[e0]:{stringValue:t0},[yc]:{arrayValue:{}}}}};function I8(n){return"nullValue"in n?sg:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Sl(Za.empty(),Ee.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?Uy(n)?qD:{mapValue:{}}:Te(35942,{value:n})}function R8(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Sl(Za.empty(),Ee.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?qD:"mapValue"in n?Uy(n)?{mapValue:{}}:La:Te(61959,{value:n})}function j1(n,e){const t=to(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function z1(n,e){const t=to(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.value=e}static empty(){return new Mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!og(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qf(t)}setAll(e){let t=Pt.emptyPath(),r={},s=[];e.forEach(((u,h)=>{if(!t.isImmediateParentOf(h)){const d=this.getFieldsMap(t);this.applyChanges(d,r,s),r={},s=[],t=h.popLast()}u?r[h.lastSegment()]=Qf(u):s.push(h.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,r,s)}delete(e){const t=this.field(e.popLast());og(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ts(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];og(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){fo(t,((s,o)=>e[s]=o));for(const s of r)delete e[s]}clone(){return new Mn(Qf(this.value))}}function HD(n){const e=[];return fo(n.fields,((t,r)=>{const s=new Pt([t]);if(og(r)){const o=HD(r.mapValue).fields;if(o.length===0)e.push(s);else for(const u of o)e.push(s.child(u))}else e.push(s)})),new fr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e,t,r,s,o,u,h){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(e){return new St(e,0,Ie.min(),Ie.min(),Ie.min(),Mn.empty(),0)}static newFoundDocument(e,t,r,s){return new St(e,1,t,Ie.min(),r,s,0)}static newNoDocument(e,t){return new St(e,2,t,Ie.min(),Ie.min(),Mn.empty(),0)}static newUnknownDocument(e,t){return new St(e,3,t,Ie.min(),Ie.min(),Mn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof St&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new St(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e,t){this.position=e,this.inclusive=t}}function q1(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const o=e[s],u=n.position[s];if(o.field.isKeyField()?r=Ee.comparator(Ee.fromName(u.referenceValue),t.key):r=to(u,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function H1(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ts(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,t="asc"){this.field=e,this.dir=t}}function C8(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{}class Ge extends $D{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new P8(e,t,r):t==="array-contains"?new D8(e,r):t==="in"?new XD(e,r):t==="not-in"?new N8(e,r):t==="array-contains-any"?new k8(e,r):new Ge(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new x8(e,r):new O8(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(to(t,this.value)):t!==null&&eo(this.value)===eo(t)&&this.matchesComparison(to(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class lt extends $D{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new lt(e,t)}matches(e){return vc(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function vc(n){return n.op==="and"}function wb(n){return n.op==="or"}function n0(n){return GD(n)&&vc(n)}function GD(n){for(const e of n.filters)if(e instanceof lt)return!1;return!0}function Tb(n){if(n instanceof Ge)return n.field.canonicalString()+n.op.toString()+_c(n.value);if(n0(n))return n.filters.map((e=>Tb(e))).join(",");{const e=n.filters.map((t=>Tb(t))).join(",");return`${n.op}(${e})`}}function KD(n,e){return n instanceof Ge?(function(r,s){return s instanceof Ge&&r.op===s.op&&r.field.isEqual(s.field)&&ts(r.value,s.value)})(n,e):n instanceof lt?(function(r,s){return s instanceof lt&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((o,u,h)=>o&&KD(u,s.filters[h])),!0):!1})(n,e):void Te(19439)}function WD(n,e){const t=n.filters.concat(e);return lt.create(t,n.op)}function QD(n){return n instanceof Ge?(function(t){return`${t.field.canonicalString()} ${t.op} ${_c(t.value)}`})(n):n instanceof lt?(function(t){return t.op.toString()+" {"+t.getFilters().map(QD).join(" ,")+"}"})(n):"Filter"}class P8 extends Ge{constructor(e,t,r){super(e,t,r),this.key=Ee.fromName(r.referenceValue)}matches(e){const t=Ee.comparator(e.key,this.key);return this.matchesComparison(t)}}class x8 extends Ge{constructor(e,t){super(e,"in",t),this.keys=YD("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class O8 extends Ge{constructor(e,t){super(e,"not-in",t),this.keys=YD("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function YD(n,e){return(e.arrayValue?.values||[]).map((t=>Ee.fromName(t.referenceValue)))}class D8 extends Ge{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return vd(t)&&_d(t.arrayValue,this.value)}}class XD extends Ge{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&_d(this.value.arrayValue,t)}}class N8 extends Ge{constructor(e,t){super(e,"not-in",t)}matches(e){if(_d(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!_d(this.value.arrayValue,t)}}class k8 extends Ge{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!vd(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>_d(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M8{constructor(e,t=null,r=[],s=[],o=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=u,this.endAt=h,this.Te=null}}function Sb(n,e=null,t=[],r=[],s=null,o=null,u=null){return new M8(n,e,t,r,s,o,u)}function Al(n){const e=be(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>Tb(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),Kd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>_c(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>_c(r))).join(",")),e.Te=t}return e.Te}function Qd(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!C8(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!KD(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!H1(n.startAt,e.startAt)&&H1(n.endAt,e.endAt)}function kg(n){return Ee.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function Mg(n,e){return n.filters.filter((t=>t instanceof Ge&&t.field.isEqual(e)))}function $1(n,e,t){let r=sg,s=!0;for(const o of Mg(n,e)){let u=sg,h=!0;switch(o.op){case"<":case"<=":u=I8(o.value);break;case"==":case"in":case">=":u=o.value;break;case">":u=o.value,h=!1;break;case"!=":case"not-in":u=sg}j1({value:r,inclusive:s},{value:u,inclusive:h})<0&&(r=u,s=h)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const u=t.position[o];j1({value:r,inclusive:s},{value:u,inclusive:t.inclusive})<0&&(r=u,s=t.inclusive);break}}return{value:r,inclusive:s}}function G1(n,e,t){let r=La,s=!0;for(const o of Mg(n,e)){let u=La,h=!0;switch(o.op){case">=":case">":u=R8(o.value),h=!1;break;case"==":case"in":case"<=":u=o.value;break;case"<":u=o.value,h=!1;break;case"!=":case"not-in":u=La}z1({value:r,inclusive:s},{value:u,inclusive:h})>0&&(r=u,s=h)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const u=t.position[o];z1({value:r,inclusive:s},{value:u,inclusive:t.inclusive})>0&&(r=u,s=t.inclusive);break}}return{value:r,inclusive:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e,t=null,r=[],s=[],o=null,u="F",h=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function JD(n,e,t,r,s,o,u,h){return new qs(n,e,t,r,s,o,u,h)}function $c(n){return new qs(n)}function K1(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function r0(n){return n.collectionGroup!==null}function tc(n){const e=be(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new ut(Pt.comparator);return u.filters.forEach((d=>{d.getFlattenedFilters().forEach((f=>{f.isInequality()&&(h=h.add(f.field))}))})),h})(e).forEach((o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Ed(o,r))})),t.has(Pt.keyField().canonicalString())||e.Ie.push(new Ed(Pt.keyField(),r))}return e.Ie}function ir(n){const e=be(n);return e.Ee||(e.Ee=V8(e,tc(n))),e.Ee}function V8(n,e){if(n.limitType==="F")return Sb(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((s=>{const o=s.dir==="desc"?"asc":"desc";return new Ed(s.field,o)}));const t=n.endAt?new no(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new no(n.startAt.position,n.startAt.inclusive):null;return Sb(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Ab(n,e){const t=n.filters.concat([e]);return new qs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Vg(n,e,t){return new qs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Yd(n,e){return Qd(ir(n),ir(e))&&n.limitType===e.limitType}function ZD(n){return`${Al(ir(n))}|lt:${n.limitType}`}function qu(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((s=>QD(s))).join(", ")}]`),Kd(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((s=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(s))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((s=>_c(s))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((s=>_c(s))).join(",")),`Target(${r})`})(ir(n))}; limitType=${n.limitType})`}function Xd(n,e){return e.isFoundDocument()&&(function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Ee.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,s){for(const o of tc(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0})(n,e)&&(function(r,s){return!(r.startAt&&!(function(u,h,d){const f=q1(u,h,d);return u.inclusive?f<=0:f<0})(r.startAt,tc(r),s)||r.endAt&&!(function(u,h,d){const f=q1(u,h,d);return u.inclusive?f>=0:f>0})(r.endAt,tc(r),s))})(n,e)}function eN(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function tN(n){return(e,t)=>{let r=!1;for(const s of tc(n)){const o=L8(s,e,t);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function L8(n,e,t){const r=n.field.isKeyField()?Ee.comparator(e.key,t.key):(function(o,u,h){const d=u.data.field(o),f=h.data.field(o);return d!==null&&f!==null?to(d,f):Te(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Te(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){fo(this.inner,((t,r)=>{for(const[s,o]of r)e(s,o)}))}isEmpty(){return MD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U8=new bt(Ee.comparator);function dr(){return U8}const nN=new bt(Ee.comparator);function kf(...n){let e=nN;for(const t of n)e=e.insert(t.key,t);return e}function rN(n){let e=nN;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Gi(){return Yf()}function iN(){return Yf()}function Yf(){return new Hs((n=>n.toString()),((n,e)=>n.isEqual(e)))}const B8=new bt(Ee.comparator),F8=new ut(Ee.comparator);function Le(...n){let e=F8;for(const t of n)e=e.add(t);return e}const j8=new ut(ke);function i0(){return j8}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dd(e)?"-0":e}}function sN(n){return{integerValue:""+n}}function aN(n,e){return SD(e)?sN(e):s0(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(){this._=void 0}}function z8(n,e,t){return n instanceof Ec?(function(s,o){const u={fields:{[UD]:{stringValue:LD},[FD]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&Vy(o)&&(o=Ly(o)),o&&(u.fields[BD]=o),{mapValue:u}})(t,e):n instanceof Il?lN(n,e):n instanceof Rl?uN(n,e):(function(s,o){const u=oN(s,o),h=W1(u)+W1(s.Ae);return bb(u)&&bb(s.Ae)?sN(h):s0(s.serializer,h)})(n,e)}function q8(n,e,t){return n instanceof Il?lN(n,e):n instanceof Rl?uN(n,e):t}function oN(n,e){return n instanceof bc?(function(r){return bb(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class Ec extends By{}class Il extends By{constructor(e){super(),this.elements=e}}function lN(n,e){const t=cN(e);for(const r of n.elements)t.some((s=>ts(s,r)))||t.push(r);return{arrayValue:{values:t}}}class Rl extends By{constructor(e){super(),this.elements=e}}function uN(n,e){let t=cN(e);for(const r of n.elements)t=t.filter((s=>!ts(s,r)));return{arrayValue:{values:t}}}class bc extends By{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function W1(n){return Rt(n.integerValue||n.doubleValue)}function cN(n){return vd(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e,t){this.field=e,this.transform=t}}function H8(n,e){return n.field.isEqual(e.field)&&(function(r,s){return r instanceof Il&&s instanceof Il||r instanceof Rl&&s instanceof Rl?hc(r.elements,s.elements,ts):r instanceof bc&&s instanceof bc?ts(r.Ae,s.Ae):r instanceof Ec&&s instanceof Ec})(n.transform,e.transform)}class $8{constructor(e,t){this.version=e,this.transformResults=t}}class xt{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new xt}static exists(e){return new xt(void 0,e)}static updateTime(e){return new xt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lg(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Fy{}function hN(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Kc(n.key,xt.none()):new Gc(n.key,n.data,xt.none());{const t=n.data,r=Mn.empty();let s=new ut(Pt.comparator);for(let o of e.fields)if(!s.has(o)){let u=t.field(o);u===null&&o.length>1&&(o=o.popLast(),u=t.field(o)),u===null?r.delete(o):r.set(o,u),s=s.add(o)}return new $s(n.key,r,new fr(s.toArray()),xt.none())}}function G8(n,e,t){n instanceof Gc?(function(s,o,u){const h=s.value.clone(),d=Y1(s.fieldTransforms,o,u.transformResults);h.setAll(d),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(n,e,t):n instanceof $s?(function(s,o,u){if(!lg(s.precondition,o))return void o.convertToUnknownDocument(u.version);const h=Y1(s.fieldTransforms,o,u.transformResults),d=o.data;d.setAll(fN(s)),d.setAll(h),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(n,e,t):(function(s,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function Xf(n,e,t,r){return n instanceof Gc?(function(o,u,h,d){if(!lg(o.precondition,u))return h;const f=o.value.clone(),g=X1(o.fieldTransforms,d,u);return f.setAll(g),u.convertToFoundDocument(u.version,f).setHasLocalMutations(),null})(n,e,t,r):n instanceof $s?(function(o,u,h,d){if(!lg(o.precondition,u))return h;const f=X1(o.fieldTransforms,d,u),g=u.data;return g.setAll(fN(o)),g.setAll(f),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((_=>_.field)))})(n,e,t,r):(function(o,u,h){return lg(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(n,e,t)}function K8(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),o=oN(r.transform,s||null);o!=null&&(t===null&&(t=Mn.empty()),t.set(r.field,o))}return t||null}function Q1(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&hc(r,s,((o,u)=>H8(o,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Gc extends Fy{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class $s extends Fy{constructor(e,t,r,s,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function fN(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function Y1(n,e,t){const r=new Map;Ae(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let s=0;s<t.length;s++){const o=n[s],u=o.transform,h=e.data.field(o.field);r.set(o.field,q8(u,h,t[s]))}return r}function X1(n,e,t){const r=new Map;for(const s of n){const o=s.transform,u=t.data.field(s.field);r.set(s.field,z8(o,u,e))}return r}class Kc extends Fy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class a0 extends Fy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&G8(o,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Xf(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Xf(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=iN();return this.mutations.forEach((s=>{const o=e.get(s.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=t.has(s.key)?null:h;const d=hN(u,h);d!==null&&r.set(s.key,d),u.isValidDocument()||u.convertToNoDocument(Ie.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Le())}isEqual(e){return this.batchId===e.batchId&&hc(this.mutations,e.mutations,((t,r)=>Q1(t,r)))&&hc(this.baseMutations,e.baseMutations,((t,r)=>Q1(t,r)))}}class l0{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){Ae(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return B8})();const o=e.mutations;for(let u=0;u<o.length;u++)s=s.insert(o[u].key,r[u].version);return new l0(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W8{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ln,We;function dN(n){switch(n){case se.OK:return Te(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return Te(15467,{code:n})}}function pN(n){if(n===void 0)return Jt("GRPC error has no .code"),se.UNKNOWN;switch(n){case ln.OK:return se.OK;case ln.CANCELLED:return se.CANCELLED;case ln.UNKNOWN:return se.UNKNOWN;case ln.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case ln.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case ln.INTERNAL:return se.INTERNAL;case ln.UNAVAILABLE:return se.UNAVAILABLE;case ln.UNAUTHENTICATED:return se.UNAUTHENTICATED;case ln.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case ln.NOT_FOUND:return se.NOT_FOUND;case ln.ALREADY_EXISTS:return se.ALREADY_EXISTS;case ln.PERMISSION_DENIED:return se.PERMISSION_DENIED;case ln.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case ln.ABORTED:return se.ABORTED;case ln.OUT_OF_RANGE:return se.OUT_OF_RANGE;case ln.UNIMPLEMENTED:return se.UNIMPLEMENTED;case ln.DATA_LOSS:return se.DATA_LOSS;default:return Te(39323,{code:n})}}(We=ln||(ln={}))[We.OK=0]="OK",We[We.CANCELLED=1]="CANCELLED",We[We.UNKNOWN=2]="UNKNOWN",We[We.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",We[We.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",We[We.NOT_FOUND=5]="NOT_FOUND",We[We.ALREADY_EXISTS=6]="ALREADY_EXISTS",We[We.PERMISSION_DENIED=7]="PERMISSION_DENIED",We[We.UNAUTHENTICATED=16]="UNAUTHENTICATED",We[We.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",We[We.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",We[We.ABORTED=10]="ABORTED",We[We.OUT_OF_RANGE=11]="OUT_OF_RANGE",We[We.UNIMPLEMENTED=12]="UNIMPLEMENTED",We[We.INTERNAL=13]="INTERNAL",We[We.UNAVAILABLE=14]="UNAVAILABLE",We[We.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q8=new qa([4294967295,4294967295],0);function J1(n){const e=mN().encode(n),t=new oD;return t.update(e),new Uint8Array(t.digest())}function Z1(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new qa([t,r],0),new qa([s,o],0)]}class c0{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Mf(`Invalid padding: ${t}`);if(r<0)throw new Mf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Mf(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Mf(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=qa.fromNumber(this.ge)}ye(e,t,r){let s=e.add(t.multiply(qa.fromNumber(r)));return s.compare(Q8)===1&&(s=new qa([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=J1(e),[r,s]=Z1(t);for(let o=0;o<this.hashCount;o++){const u=this.ye(r,s,o);if(!this.we(u))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new c0(o,s,t);return r.forEach((h=>u.insert(h))),u}insert(e){if(this.ge===0)return;const t=J1(e),[r,s]=Z1(t);for(let o=0;o<this.hashCount;o++){const u=this.ye(r,s,o);this.Se(u)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Mf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e,t,r,s,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,ep.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Zd(Ie.min(),s,new bt(ke),dr(),Le())}}class ep{constructor(e,t,r,s,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new ep(r,t,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,t,r,s){this.be=e,this.removedTargetIds=t,this.key=r,this.De=s}}class gN{constructor(e,t){this.targetId=e,this.Ce=t}}class yN{constructor(e,t,r=jt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class eC{constructor(){this.ve=0,this.Fe=tC(),this.Me=jt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Le(),t=Le(),r=Le();return this.Fe.forEach(((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Te(38017,{changeType:o})}})),new ep(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=tC()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ae(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Y8{constructor(e){this.Ge=e,this.ze=new Map,this.je=dr(),this.Je=km(),this.He=km(),this.Ye=new bt(ke)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,s)=>{this.rt(s)&&t(s)}))}st(e){const t=e.targetId,r=e.Ce.count,s=this.ot(t);if(s){const o=s.target;if(kg(o))if(r===0){const u=new Ee(o.path);this.et(t,u,St.newNoDocument(u,Ie.min()))}else Ae(r===1,20013,{expectedCount:r});else{const u=this._t(t);if(u!==r){const h=this.ut(e),d=h?this.ct(h,e,u):1;if(d!==0){this.it(t);const f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,f)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=t;let u,h;try{u=Bs(r).toUint8Array()}catch(d){if(d instanceof VD)return es("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new c0(u,s,o)}catch(d){return es(d instanceof Mf?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.ge===0?null:h}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let s=0;return r.forEach((o=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.et(t,o,null),s++)})),s}Tt(e){const t=new Map;this.ze.forEach(((o,u)=>{const h=this.ot(u);if(h){if(o.current&&kg(h.target)){const d=new Ee(h.target.path);this.It(d).has(u)||this.Et(u,d)||this.et(u,d,St.newNoDocument(d,e))}o.Be&&(t.set(u,o.ke()),o.qe())}}));let r=Le();this.He.forEach(((o,u)=>{let h=!0;u.forEachWhile((d=>{const f=this.ot(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(o))})),this.je.forEach(((o,u)=>u.setReadTime(e)));const s=new Zd(e,t,this.Ye,this.je,r);return this.je=dr(),this.Je=km(),this.He=km(),this.Ye=new bt(ke),s}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.Qe(t,1):s.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new eC,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new ut(ke),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new ut(ke),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||pe("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new eC),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function km(){return new bt(Ee.comparator)}function tC(){return new bt(Ee.comparator)}const X8={asc:"ASCENDING",desc:"DESCENDING"},J8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Z8={and:"AND",or:"OR"};class e7{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ib(n,e){return n.useProto3Json||Kd(e)?e:{value:e}}function wc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _N(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function t7(n,e){return wc(n,e.toTimestamp())}function Zt(n){return Ae(!!n,49232),Ie.fromTimestamp((function(t){const r=Us(t);return new nt(r.seconds,r.nanos)})(n))}function h0(n,e){return Rb(n,e).canonicalString()}function Rb(n,e){const t=(function(s){return new He(["projects",s.projectId,"databases",s.database])})(n).child("documents");return e===void 0?t:t.child(e)}function vN(n){const e=He.fromString(n);return Ae(PN(e),10190,{key:e.toString()}),e}function bd(n,e){return h0(n.databaseId,e.path)}function Qi(n,e){const t=vN(e);if(t.get(1)!==n.databaseId.projectId)throw new de(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new de(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ee(wN(t))}function EN(n,e){return h0(n.databaseId,e)}function bN(n){const e=vN(n);return e.length===4?He.emptyPath():wN(e)}function Cb(n){return new He(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function wN(n){return Ae(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function nC(n,e,t){return{name:bd(n,e),fields:t.value.mapValue.fields}}function TN(n,e,t){const r=Qi(n,e.name),s=Zt(e.updateTime),o=e.createTime?Zt(e.createTime):Ie.min(),u=new Mn({mapValue:{fields:e.fields}}),h=St.newFoundDocument(r,s,o,u);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function n7(n,e){return"found"in e?(function(r,s){Ae(!!s.found,43571),s.found.name,s.found.updateTime;const o=Qi(r,s.found.name),u=Zt(s.found.updateTime),h=s.found.createTime?Zt(s.found.createTime):Ie.min(),d=new Mn({mapValue:{fields:s.found.fields}});return St.newFoundDocument(o,u,h,d)})(n,e):"missing"in e?(function(r,s){Ae(!!s.missing,3894),Ae(!!s.readTime,22933);const o=Qi(r,s.missing),u=Zt(s.readTime);return St.newNoDocument(o,u)})(n,e):Te(7234,{result:e})}function r7(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Te(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=(function(f,g){return f.useProto3Json?(Ae(g===void 0||typeof g=="string",58123),jt.fromBase64String(g||"")):(Ae(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),jt.fromUint8Array(g||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&(function(f){const g=f.code===void 0?se.UNKNOWN:pN(f.code);return new de(g,f.message||"")})(u);t=new yN(r,s,o,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Qi(n,r.document.name),o=Zt(r.document.updateTime),u=r.document.createTime?Zt(r.document.createTime):Ie.min(),h=new Mn({mapValue:{fields:r.document.fields}}),d=St.newFoundDocument(s,o,u,h),f=r.targetIds||[],g=r.removedTargetIds||[];t=new ug(f,g,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Qi(n,r.document),o=r.readTime?Zt(r.readTime):Ie.min(),u=St.newNoDocument(s,o),h=r.removedTargetIds||[];t=new ug([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Qi(n,r.document),o=r.removedTargetIds||[];t=new ug([],o,s,null)}else{if(!("filter"in e))return Te(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,u=new W8(s,o),h=r.targetId;t=new gN(h,u)}}return t}function wd(n,e){let t;if(e instanceof Gc)t={update:nC(n,e.key,e.value)};else if(e instanceof Kc)t={delete:bd(n,e.key)};else if(e instanceof $s)t={update:nC(n,e.key,e.data),updateMask:u7(e.fieldMask)};else{if(!(e instanceof a0))return Te(16599,{Vt:e.type});t={verify:bd(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(o,u){const h=u.transform;if(h instanceof Ec)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Il)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Rl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof bc)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw Te(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(s,o){return o.updateTime!==void 0?{updateTime:t7(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Te(27497)})(n,e.precondition)),t}function Pb(n,e){const t=e.currentDocument?(function(o){return o.updateTime!==void 0?xt.updateTime(Zt(o.updateTime)):o.exists!==void 0?xt.exists(o.exists):xt.none()})(e.currentDocument):xt.none(),r=e.updateTransforms?e.updateTransforms.map((s=>(function(u,h){let d=null;if("setToServerValue"in h)Ae(h.setToServerValue==="REQUEST_TIME",16630,{proto:h}),d=new Ec;else if("appendMissingElements"in h){const g=h.appendMissingElements.values||[];d=new Il(g)}else if("removeAllFromArray"in h){const g=h.removeAllFromArray.values||[];d=new Rl(g)}else"increment"in h?d=new bc(u,h.increment):Te(16584,{proto:h});const f=Pt.fromServerFormat(h.fieldPath);return new Jd(f,d)})(n,s))):[];if(e.update){e.update.name;const s=Qi(n,e.update.name),o=new Mn({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=(function(d){const f=d.fieldPaths||[];return new fr(f.map((g=>Pt.fromServerFormat(g))))})(e.updateMask);return new $s(s,o,u,t,r)}return new Gc(s,o,t,r)}if(e.delete){const s=Qi(n,e.delete);return new Kc(s,t)}if(e.verify){const s=Qi(n,e.verify);return new a0(s,t)}return Te(1463,{proto:e})}function i7(n,e){return n&&n.length>0?(Ae(e!==void 0,14353),n.map((t=>(function(s,o){let u=s.updateTime?Zt(s.updateTime):Zt(o);return u.isEqual(Ie.min())&&(u=Zt(o)),new $8(u,s.transformResults||[])})(t,e)))):[]}function SN(n,e){return{documents:[EN(n,e.path)]}}function AN(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=EN(n,s);const o=(function(f){if(f.length!==0)return CN(lt.create(f,"and"))})(e.filters);o&&(t.structuredQuery.where=o);const u=(function(f){if(f.length!==0)return f.map((g=>(function(v){return{field:Hu(v.field),direction:a7(v.dir)}})(g)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=Ib(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:t,parent:s}}function IN(n){let e=bN(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){Ae(r===1,65062);const g=t.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let o=[];t.where&&(o=(function(_){const v=RN(_);return v instanceof lt&&n0(v)?v.getFilters():[v]})(t.where));let u=[];t.orderBy&&(u=(function(_){return _.map((v=>(function(w){return new Ed($u(w.field),(function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(w.direction))})(v)))})(t.orderBy));let h=null;t.limit&&(h=(function(_){let v;return v=typeof _=="object"?_.value:_,Kd(v)?null:v})(t.limit));let d=null;t.startAt&&(d=(function(_){const v=!!_.before,T=_.values||[];return new no(T,v)})(t.startAt));let f=null;return t.endAt&&(f=(function(_){const v=!_.before,T=_.values||[];return new no(T,v)})(t.endAt)),JD(e,s,u,o,h,"F",d,f)}function s7(n,e){const t=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:s})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function RN(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=$u(t.unaryFilter.field);return Ge.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=$u(t.unaryFilter.field);return Ge.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=$u(t.unaryFilter.field);return Ge.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=$u(t.unaryFilter.field);return Ge.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Ge.create($u(t.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return lt.create(t.compositeFilter.filters.map((r=>RN(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(t.compositeFilter.op))})(n):Te(30097,{filter:n})}function a7(n){return X8[n]}function o7(n){return J8[n]}function l7(n){return Z8[n]}function Hu(n){return{fieldPath:n.canonicalString()}}function $u(n){return Pt.fromServerFormat(n.fieldPath)}function CN(n){return n instanceof Ge?(function(t){if(t.op==="=="){if(F1(t.value))return{unaryFilter:{field:Hu(t.field),op:"IS_NAN"}};if(B1(t.value))return{unaryFilter:{field:Hu(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(F1(t.value))return{unaryFilter:{field:Hu(t.field),op:"IS_NOT_NAN"}};if(B1(t.value))return{unaryFilter:{field:Hu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hu(t.field),op:o7(t.op),value:t.value}}})(n):n instanceof lt?(function(t){const r=t.getFilters().map((s=>CN(s)));return r.length===1?r[0]:{compositeFilter:{op:l7(t.op),filters:r}}})(n):Te(54877,{filter:n})}function u7(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function PN(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e,t,r,s,o=Ie.min(),u=Ie.min(),h=jt.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new Ps(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ps(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e){this.yt=e}}function c7(n,e){let t;if(e.document)t=TN(n.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Ee.fromSegments(e.noDocument.path),s=Pl(e.noDocument.readTime);t=St.newNoDocument(r,s),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Te(56709);{const r=Ee.fromSegments(e.unknownDocument.path),s=Pl(e.unknownDocument.version);t=St.newUnknownDocument(r,s)}}return e.readTime&&t.setReadTime((function(s){const o=new nt(s[0],s[1]);return Ie.fromTimestamp(o)})(e.readTime)),t}function rC(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Lg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(o,u){return{name:bd(o,u.key),fields:u.data.value.mapValue.fields,updateTime:wc(o,u.version.toTimestamp()),createTime:wc(o,u.createTime.toTimestamp())}})(n.yt,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Cl(e.version)};else{if(!e.isUnknownDocument())return Te(57904,{document:e});r.unknownDocument={path:t.path.toArray(),version:Cl(e.version)}}return r}function Lg(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Cl(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Pl(n){const e=new nt(n.seconds,n.nanoseconds);return Ie.fromTimestamp(e)}function al(n,e){const t=(e.baseMutations||[]).map((o=>Pb(n.yt,o)));for(let o=0;o<e.mutations.length-1;++o){const u=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const h=e.mutations[o+1];u.updateTransforms=h.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const r=e.mutations.map((o=>Pb(n.yt,o))),s=nt.fromMillis(e.localWriteTimeMs);return new o0(e.batchId,s,t,r)}function Vf(n){const e=Pl(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?Pl(n.lastLimboFreeSnapshotVersion):Ie.min();let r;return r=(function(o){return o.documents!==void 0})(n.query)?(function(o){const u=o.documents.length;return Ae(u===1,1966,{count:u}),ir($c(bN(o.documents[0])))})(n.query):(function(o){return ir(IN(o))})(n.query),new Ps(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,jt.fromBase64String(n.resumeToken))}function ON(n,e){const t=Cl(e.snapshotVersion),r=Cl(e.lastLimboFreeSnapshotVersion);let s;s=kg(e.target)?SN(n.yt,e.target):AN(n.yt,e.target).ft;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Al(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function f0(n){const e=IN({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Vg(e,e.limit,"L"):e}function NE(n,e){return new u0(e.largestBatchId,Pb(n.yt,e.overlayMutation))}function iC(n,e){const t=e.path.lastSegment();return[n,Kn(e.path.popLast()),t]}function sC(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:Cl(r.readTime),documentKey:Kn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h7{getBundleMetadata(e,t){return aC(e).get(t).next((r=>{if(r)return(function(o){return{id:o.bundleId,createTime:Pl(o.createTime),version:o.version}})(r)}))}saveBundleMetadata(e,t){return aC(e).put((function(s){return{bundleId:s.id,createTime:Cl(Zt(s.createTime)),version:s.version}})(t))}getNamedQuery(e,t){return oC(e).get(t).next((r=>{if(r)return(function(o){return{name:o.name,query:f0(o.bundledQuery),readTime:Pl(o.readTime)}})(r)}))}saveNamedQuery(e,t){return oC(e).put((function(s){return{name:s.name,readTime:Cl(Zt(s.readTime)),bundledQuery:s.bundledQuery}})(t))}}function aC(n){return vn(n,Ny)}function oC(n){return vn(n,ky)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(e,t){this.serializer=e,this.userId=t}static wt(e,t){const r=t.uid||"";return new jy(e,r)}getOverlay(e,t){return Ef(e).get(iC(this.userId,t)).next((r=>r?NE(this.serializer,r):null))}getOverlays(e,t){const r=Gi();return X.forEach(t,(s=>this.getOverlay(e,s).next((o=>{o!==null&&r.set(s,o)})))).next((()=>r))}saveOverlays(e,t,r){const s=[];return r.forEach(((o,u)=>{const h=new u0(t,u);s.push(this.St(e,h))})),X.waitFor(s)}removeOverlaysForBatchId(e,t,r){const s=new Set;t.forEach((u=>s.add(Kn(u.getCollectionPath()))));const o=[];return s.forEach((u=>{const h=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,r+1],!1,!0);o.push(Ef(e).Z(yb,h))})),X.waitFor(o)}getOverlaysForCollection(e,t,r){const s=Gi(),o=Kn(t),u=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Ef(e).J(yb,u).next((h=>{for(const d of h){const f=NE(this.serializer,d);s.set(f.getKey(),f)}return s}))}getOverlaysForCollectionGroup(e,t,r,s){const o=Gi();let u;const h=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Ef(e).ee({index:xD,range:h},((d,f,g)=>{const _=NE(this.serializer,f);o.size()<s||_.largestBatchId===u?(o.set(_.getKey(),_),u=_.largestBatchId):g.done()})).next((()=>o))}St(e,t){return Ef(e).put((function(s,o,u){const[h,d,f]=iC(o,u.mutation.key);return{userId:o,collectionPath:d,documentId:f,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:wd(s.yt,u.mutation)}})(this.serializer,this.userId,t))}}function Ef(n){return vn(n,My)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f7{bt(e){return vn(e,Jw)}getSessionToken(e){return this.bt(e).get("sessionToken").next((t=>{const r=t?.value;return r?jt.fromUint8Array(r):jt.EMPTY_BYTE_STRING}))}setSessionToken(e,t){return this.bt(e).put({name:"sessionToken",value:t.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(Rt(e.integerValue));else if("doubleValue"in e){const r=Rt(e.doubleValue);isNaN(r)?this.Ft(t,13):(this.Ft(t,15),dd(r)?t.Mt(0):t.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(t,20),typeof r=="string"&&(r=Us(r)),t.xt(`${r.seconds||""}`),t.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(Bs(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(t,45),t.Mt(r.latitude||0),t.Mt(r.longitude||0)}else"mapValue"in e?zD(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):Uy(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):Te(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const r=e.fields||{};this.Ft(t,55);for(const s of Object.keys(r))this.Ot(s,t),this.Ct(r[s],t)}kt(e,t){const r=e.fields||{};this.Ft(t,53);const s=yc,o=r[s].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(Rt(o)),this.Ot(s,t),this.Ct(r[s],t)}Qt(e,t){const r=e.values||[];this.Ft(t,50);for(const s of r)this.Ct(s,t)}Lt(e,t){this.Ft(t,37),Ee.fromName(e).path.forEach((r=>{this.Ft(t,60),this.Ut(r,t)}))}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}ol.Kt=new ol;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lu=255;function d7(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function lC(n){const e=64-(function(r){let s=0;for(let o=0;o<8;++o){const u=d7(255&r[o]);if(s+=u,u!==8)break}return s})(n);return Math.ceil(e/8)}class p7{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Gt(r.value),r=t.next();this.zt()}jt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Jt(r.value),r=t.next();this.Ht()}Yt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const s=t.codePointAt(0);this.Gt(240|s>>>18),this.Gt(128|63&s>>>12),this.Gt(128|63&s>>>6),this.Gt(128|63&s)}}this.zt()}Zt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const s=t.codePointAt(0);this.Jt(240|s>>>18),this.Jt(128|63&s>>>12),this.Jt(128|63&s>>>6),this.Jt(128|63&s)}}this.Ht()}Xt(e){const t=this.en(e),r=lC(t);this.tn(1+r),this.buffer[this.position++]=255&r;for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=255&t[s]}nn(e){const t=this.en(e),r=lC(t);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=~(255&t[s])}rn(){this.sn(Lu),this.sn(255)}_n(){this.an(Lu),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const t=(function(o){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,o,!1),new Uint8Array(u.buffer)})(e),r=!!(128&t[0]);t[0]^=r?255:128;for(let s=1;s<t.length;++s)t[s]^=r?255:0;return t}Gt(e){const t=255&e;t===0?(this.sn(0),this.sn(255)):t===Lu?(this.sn(Lu),this.sn(0)):this.sn(t)}Jt(e){const t=255&e;t===0?(this.an(0),this.an(255)):t===Lu?(this.an(Lu),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class m7{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class g7{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class bf{constructor(){this.cn=new p7,this.ln=new m7(this.cn),this.hn=new g7(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e,t,r,s){this.Tn=e,this.In=t,this.En=r,this.dn=s}An(){const e=this.dn.length,t=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.dn,0),t!==e?r.set([0],this.dn.length):++r[r.length-1],new ll(this.Tn,this.In,this.En,r)}Rn(e,t,r){return{indexId:this.Tn,uid:e,arrayValue:cg(this.En),directionalValue:cg(this.dn),orderedDocumentKey:cg(t),documentKey:r.path.toArray()}}Vn(e,t,r){const s=this.Rn(e,t,r);return[s.indexId,s.uid,s.arrayValue,s.directionalValue,s.orderedDocumentKey,s.documentKey]}}function Oa(n,e){let t=n.Tn-e.Tn;return t!==0?t:(t=uC(n.En,e.En),t!==0?t:(t=uC(n.dn,e.dn),t!==0?t:Ee.comparator(n.In,e.In)))}function uC(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}function cg(n){return Xx()?(function(t){let r="";for(let s=0;s<t.length;s++)r+=String.fromCharCode(t[s]);return r})(n):n}function cC(n){return typeof n!="string"?n:(function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r})(n)}class hC{constructor(e){this.mn=new ut(((t,r)=>Pt.comparator(t.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const t of e.filters){const r=t;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(Ae(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const t=pb(e);if(t!==void 0&&!this.wn(t))return!1;const r=rl(e);let s=new Set,o=0,u=0;for(;o<r.length&&this.wn(r[o]);++o)s=s.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.mn.size>0){const h=this.mn.getIterator().getNext();if(!s.has(h.field.canonicalString())){const d=r[o];if(!this.Sn(h,d)||!this.bn(this.fn[u++],d))return!1}++o}for(;o<r.length;++o){const h=r[o];if(u>=this.fn.length||!this.bn(this.fn[u++],h))return!1}return!0}Dn(){if(this.pn)return null;let e=new ut(Pt.comparator);const t=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new ng(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new ng(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new ng(r.field,r.dir==="asc"?0:1)));return new xg(xg.UNKNOWN_ID,this.collectionId,t,fd.empty())}wn(e){for(const t of this.gn)if(this.Sn(t,e))return!0;return!1}Sn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}bn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(n){if(Ae(n instanceof Ge||n instanceof lt,20012),n instanceof Ge){if(n instanceof XD){const t=n.value.arrayValue?.values?.map((r=>Ge.create(n.field,"==",r)))||[];return lt.create(t,"or")}return n}const e=n.filters.map((t=>DN(t)));return lt.create(e,n.op)}function y7(n){if(n.getFilters().length===0)return[];const e=Db(DN(n));return Ae(NN(e),7391),xb(e)||Ob(e)?[e]:e.getFilters()}function xb(n){return n instanceof Ge}function Ob(n){return n instanceof lt&&n0(n)}function NN(n){return xb(n)||Ob(n)||(function(t){if(t instanceof lt&&wb(t)){for(const r of t.getFilters())if(!xb(r)&&!Ob(r))return!1;return!0}return!1})(n)}function Db(n){if(Ae(n instanceof Ge||n instanceof lt,34018),n instanceof Ge)return n;if(n.filters.length===1)return Db(n.filters[0]);const e=n.filters.map((r=>Db(r)));let t=lt.create(e,n.op);return t=Ug(t),NN(t)?t:(Ae(t instanceof lt,64498),Ae(vc(t),40251),Ae(t.filters.length>1,57927),t.filters.reduce(((r,s)=>d0(r,s))))}function d0(n,e){let t;return Ae(n instanceof Ge||n instanceof lt,38388),Ae(e instanceof Ge||e instanceof lt,25473),t=n instanceof Ge?e instanceof Ge?(function(s,o){return lt.create([s,o],"and")})(n,e):fC(n,e):e instanceof Ge?fC(e,n):(function(s,o){if(Ae(s.filters.length>0&&o.filters.length>0,48005),vc(s)&&vc(o))return WD(s,o.getFilters());const u=wb(s)?s:o,h=wb(s)?o:s,d=u.filters.map((f=>d0(f,h)));return lt.create(d,"or")})(n,e),Ug(t)}function fC(n,e){if(vc(e))return WD(e,n.getFilters());{const t=e.filters.map((r=>d0(n,r)));return lt.create(t,"or")}}function Ug(n){if(Ae(n instanceof Ge||n instanceof lt,11850),n instanceof Ge)return n;const e=n.getFilters();if(e.length===1)return Ug(e[0]);if(GD(n))return n;const t=e.map((s=>Ug(s))),r=[];return t.forEach((s=>{s instanceof Ge?r.push(s):s instanceof lt&&(s.op===n.op?r.push(...s.filters):r.push(s))})),r.length===1?r[0]:lt.create(r,n.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _7{constructor(){this.Cn=new p0}addToCollectionParentIndex(e,t){return this.Cn.add(t),X.resolve()}getCollectionParents(e,t){return X.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return X.resolve()}deleteFieldIndex(e,t){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,t){return X.resolve()}getDocumentsMatchingTarget(e,t){return X.resolve(null)}getIndexType(e,t){return X.resolve(0)}getFieldIndexes(e,t){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,t){return X.resolve(kr.min())}getMinOffsetFromCollectionGroup(e,t){return X.resolve(kr.min())}updateCollectionGroup(e,t,r){return X.resolve()}updateIndexEntries(e,t){return X.resolve()}}class p0{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new ut(He.comparator),o=!s.has(r);return this.index[t]=s.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new ut(He.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC="IndexedDbIndexManager",Mm=new Uint8Array(0);class v7{constructor(e,t){this.databaseId=t,this.vn=new p0,this.Fn=new Hs((r=>Al(r)),((r,s)=>Qd(r,s))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.vn.has(t)){const r=t.lastSegment(),s=t.popLast();e.addOnCommittedListener((()=>{this.vn.add(t)}));const o={collectionId:r,parent:Kn(s)};return pC(e).put(o)}return X.resolve()}getCollectionParents(e,t){const r=[],s=IDBKeyRange.bound([t,""],[mD(t),""],!1,!0);return pC(e).J(s).next((o=>{for(const u of o){if(u.collectionId!==t)break;r.push($i(u.parent))}return r}))}addFieldIndex(e,t){const r=wf(e),s=(function(h){return{indexId:h.indexId,collectionGroup:h.collectionGroup,fields:h.fields.map((d=>[d.fieldPath.canonicalString(),d.kind]))}})(t);delete s.indexId;const o=r.add(s);if(t.indexState){const u=Bu(e);return o.next((h=>{u.put(sC(h,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return o.next()}deleteFieldIndex(e,t){const r=wf(e),s=Bu(e),o=Uu(e);return r.delete(t.indexId).next((()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=wf(e),r=Uu(e),s=Bu(e);return t.Z().next((()=>r.Z())).next((()=>s.Z()))}createTargetIndexes(e,t){return X.forEach(this.Mn(t),(r=>this.getIndexType(e,r).next((s=>{if(s===0||s===1){const o=new hC(r).Dn();if(o!=null)return this.addFieldIndex(e,o)}}))))}getDocumentsMatchingTarget(e,t){const r=Uu(e);let s=!0;const o=new Map;return X.forEach(this.Mn(t),(u=>this.xn(e,u).next((h=>{s&&(s=!!h),o.set(u,h)})))).next((()=>{if(s){let u=Le();const h=[];return X.forEach(o,((d,f)=>{pe(dC,`Using index ${(function(F){return`id=${F.indexId}|cg=${F.collectionGroup}|f=${F.fields.map((W=>`${W.fieldPath}:${W.kind}`)).join(",")}`})(d)} to execute ${Al(t)}`);const g=(function(F,W){const j=pb(W);if(j===void 0)return null;for(const $ of Mg(F,j.fieldPath))switch($.op){case"array-contains-any":return $.value.arrayValue.values||[];case"array-contains":return[$.value]}return null})(f,d),_=(function(F,W){const j=new Map;for(const $ of rl(W))for(const N of Mg(F,$.fieldPath))switch(N.op){case"==":case"in":j.set($.fieldPath.canonicalString(),N.value);break;case"not-in":case"!=":return j.set($.fieldPath.canonicalString(),N.value),Array.from(j.values())}return null})(f,d),v=(function(F,W){const j=[];let $=!0;for(const N of rl(W)){const C=N.kind===0?$1(F,N.fieldPath,F.startAt):G1(F,N.fieldPath,F.startAt);j.push(C.value),$&&($=C.inclusive)}return new no(j,$)})(f,d),T=(function(F,W){const j=[];let $=!0;for(const N of rl(W)){const C=N.kind===0?G1(F,N.fieldPath,F.endAt):$1(F,N.fieldPath,F.endAt);j.push(C.value),$&&($=C.inclusive)}return new no(j,$)})(f,d),w=this.On(d,f,v),I=this.On(d,f,T),x=this.Nn(d,f,_),H=this.Bn(d.indexId,g,w,v.inclusive,I,T.inclusive,x);return X.forEach(H,(V=>r.Y(V,t.limit).next((F=>{F.forEach((W=>{const j=Ee.fromSegments(W.documentKey);u.has(j)||(u=u.add(j),h.push(j))}))}))))})).next((()=>h))}return X.resolve(null)}))}Mn(e){let t=this.Fn.get(e);return t||(e.filters.length===0?t=[e]:t=y7(lt.create(e.filters,"and")).map((r=>Sb(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,t),t)}Bn(e,t,r,s,o,u,h){const d=(t!=null?t.length:1)*Math.max(r.length,o.length),f=d/(t!=null?t.length:1),g=[];for(let _=0;_<d;++_){const v=t?this.Ln(t[_/f]):Mm,T=this.kn(e,v,r[_%f],s),w=this.qn(e,v,o[_%f],u),I=h.map((x=>this.kn(e,v,x,!0)));g.push(...this.createRange(T,w,I))}return g}kn(e,t,r,s){const o=new ll(e,Ee.empty(),t,r);return s?o:o.An()}qn(e,t,r,s){const o=new ll(e,Ee.empty(),t,r);return s?o.An():o}xn(e,t){const r=new hC(t),s=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,s).next((o=>{let u=null;for(const h of o)r.yn(h)&&(!u||h.fields.length>u.fields.length)&&(u=h);return u}))}getIndexType(e,t){let r=2;const s=this.Mn(t);return X.forEach(s,(o=>this.xn(e,o).next((u=>{u?r!==0&&u.fields.length<(function(d){let f=new ut(Pt.comparator),g=!1;for(const _ of d.filters)for(const v of _.getFlattenedFilters())v.field.isKeyField()||(v.op==="array-contains"||v.op==="array-contains-any"?g=!0:f=f.add(v.field));for(const _ of d.orderBy)_.field.isKeyField()||(f=f.add(_.field));return f.size+(g?1:0)})(o)&&(r=1):r=0})))).next((()=>(function(u){return u.limit!==null})(t)&&s.length>1&&r===2?1:r))}Qn(e,t){const r=new bf;for(const s of rl(e)){const o=t.data.field(s.fieldPath);if(o==null)return null;const u=r.Pn(s.kind);ol.Kt.Dt(o,u)}return r.un()}Ln(e){const t=new bf;return ol.Kt.Dt(e,t.Pn(0)),t.un()}$n(e,t){const r=new bf;return ol.Kt.Dt(Sl(this.databaseId,t),r.Pn((function(o){const u=rl(o);return u.length===0?0:u[u.length-1].kind})(e))),r.un()}Nn(e,t,r){if(r===null)return[];let s=[];s.push(new bf);let o=0;for(const u of rl(e)){const h=r[o++];for(const d of s)if(this.Un(t,u.fieldPath)&&vd(h))s=this.Kn(s,u,h);else{const f=d.Pn(u.kind);ol.Kt.Dt(h,f)}}return this.Wn(s)}On(e,t,r){return this.Nn(e,t,r.position)}Wn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].un();return t}Kn(e,t,r){const s=[...e],o=[];for(const u of r.arrayValue.values||[])for(const h of s){const d=new bf;d.seed(h.un()),ol.Kt.Dt(u,d.Pn(t.kind)),o.push(d)}return o}Un(e,t){return!!e.filters.find((r=>r instanceof Ge&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,t){const r=wf(e),s=Bu(e);return(t?r.J(gb,IDBKeyRange.bound(t,t)):r.J()).next((o=>{const u=[];return X.forEach(o,(h=>s.get([h.indexId,this.uid]).next((d=>{u.push((function(g,_){const v=_?new fd(_.sequenceNumber,new kr(Pl(_.readTime),new Ee($i(_.documentKey)),_.largestBatchId)):fd.empty(),T=g.fields.map((([w,I])=>new ng(Pt.fromServerFormat(w),I)));return new xg(g.indexId,g.collectionGroup,T,v)})(h,d))})))).next((()=>u))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((t=>t.length===0?null:(t.sort(((r,s)=>{const o=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return o!==0?o:ke(r.collectionGroup,s.collectionGroup)})),t[0].collectionGroup)))}updateCollectionGroup(e,t,r){const s=wf(e),o=Bu(e);return this.Gn(e).next((u=>s.J(gb,IDBKeyRange.bound(t,t)).next((h=>X.forEach(h,(d=>o.put(sC(d.indexId,this.uid,u,r))))))))}updateIndexEntries(e,t){const r=new Map;return X.forEach(t,((s,o)=>{const u=r.get(s.collectionGroup);return(u?X.resolve(u):this.getFieldIndexes(e,s.collectionGroup)).next((h=>(r.set(s.collectionGroup,h),X.forEach(h,(d=>this.zn(e,s,d).next((f=>{const g=this.jn(o,d);return f.isEqual(g)?X.resolve():this.Jn(e,o,d,f,g)})))))))}))}Hn(e,t,r,s){return Uu(e).put(s.Rn(this.uid,this.$n(r,t.key),t.key))}Yn(e,t,r,s){return Uu(e).delete(s.Vn(this.uid,this.$n(r,t.key),t.key))}zn(e,t,r){const s=Uu(e);let o=new ut(Oa);return s.ee({index:PD,range:IDBKeyRange.only([r.indexId,this.uid,cg(this.$n(r,t))])},((u,h)=>{o=o.add(new ll(r.indexId,t,cC(h.arrayValue),cC(h.directionalValue)))})).next((()=>o))}jn(e,t){let r=new ut(Oa);const s=this.Qn(t,e);if(s==null)return r;const o=pb(t);if(o!=null){const u=e.data.field(o.fieldPath);if(vd(u))for(const h of u.arrayValue.values||[])r=r.add(new ll(t.indexId,e.key,this.Ln(h),s))}else r=r.add(new ll(t.indexId,e.key,Mm,s));return r}Jn(e,t,r,s,o){pe(dC,"Updating index entries for document '%s'",t.key);const u=[];return(function(d,f,g,_,v){const T=d.getIterator(),w=f.getIterator();let I=Vu(T),x=Vu(w);for(;I||x;){let H=!1,V=!1;if(I&&x){const F=g(I,x);F<0?V=!0:F>0&&(H=!0)}else I!=null?V=!0:H=!0;H?(_(x),x=Vu(w)):V?(v(I),I=Vu(T)):(I=Vu(T),x=Vu(w))}})(s,o,Oa,(h=>{u.push(this.Hn(e,t,r,h))}),(h=>{u.push(this.Yn(e,t,r,h))})),X.waitFor(u)}Gn(e){let t=1;return Bu(e).ee({index:CD,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,s,o)=>{o.done(),t=s.sequenceNumber+1})).next((()=>t))}createRange(e,t,r){r=r.sort(((u,h)=>Oa(u,h))).filter(((u,h,d)=>!h||Oa(u,d[h-1])!==0));const s=[];s.push(e);for(const u of r){const h=Oa(u,e),d=Oa(u,t);if(h===0)s[0]=e.An();else if(h>0&&d<0)s.push(u),s.push(u.An());else if(d>0)break}s.push(t);const o=[];for(let u=0;u<s.length;u+=2){if(this.Zn(s[u],s[u+1]))return[];const h=s[u].Vn(this.uid,Mm,Ee.empty()),d=s[u+1].Vn(this.uid,Mm,Ee.empty());o.push(IDBKeyRange.bound(h,d))}return o}Zn(e,t){return Oa(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(mC)}getMinOffset(e,t){return X.mapArray(this.Mn(t),(r=>this.xn(e,r).next((s=>s||Te(44426))))).next(mC)}}function pC(n){return vn(n,gd)}function Uu(n){return vn(n,Wf)}function wf(n){return vn(n,Xw)}function Bu(n){return vn(n,Kf)}function mC(n){Ae(n.length!==0,28825);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const s=n[r].indexState.offset;Ww(s,e)<0&&(e=s),t<s.largestBatchId&&(t=s.largestBatchId)}return new kr(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kN=41943040;class Hn{static withCacheSize(e){return new Hn(e,Hn.DEFAULT_COLLECTION_PERCENTILE,Hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(n,e,t){const r=n.store(ci),s=n.store(dc),o=[],u=IDBKeyRange.only(t.batchId);let h=0;const d=r.ee({range:u},((g,_,v)=>(h++,v.delete())));o.push(d.next((()=>{Ae(h===1,47070,{batchId:t.batchId})})));const f=[];for(const g of t.mutations){const _=AD(e,g.key.path,t.batchId);o.push(s.delete(_)),f.push(g.key)}return X.waitFor(o).next((()=>f))}function Bg(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Te(14731);e=n.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hn.DEFAULT_COLLECTION_PERCENTILE=10,Hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hn.DEFAULT=new Hn(kN,Hn.DEFAULT_COLLECTION_PERCENTILE,Hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hn.DISABLED=new Hn(-1,0,0);class zy{constructor(e,t,r,s){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=s,this.Xn={}}static wt(e,t,r,s){Ae(e.uid!=="",64387);const o=e.isAuthenticated()?e.uid:"";return new zy(o,t,r,s)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Da(e).ee({index:dl,range:r},((s,o,u)=>{t=!1,u.done()})).next((()=>t))}addMutationBatch(e,t,r,s){const o=Gu(e),u=Da(e);return u.add({}).next((h=>{Ae(typeof h=="number",49019);const d=new o0(h,t,r,s),f=(function(T,w,I){const x=I.baseMutations.map((V=>wd(T.yt,V))),H=I.mutations.map((V=>wd(T.yt,V)));return{userId:w,batchId:I.batchId,localWriteTimeMs:I.localWriteTime.toMillis(),baseMutations:x,mutations:H}})(this.serializer,this.userId,d),g=[];let _=new ut(((v,T)=>ke(v.canonicalString(),T.canonicalString())));for(const v of s){const T=AD(this.userId,v.key.path,h);_=_.add(v.key.path.popLast()),g.push(u.put(f)),g.push(o.put(T,Zq))}return _.forEach((v=>{g.push(this.indexManager.addToCollectionParentIndex(e,v))})),e.addOnCommittedListener((()=>{this.Xn[h]=d.keys()})),X.waitFor(g).next((()=>d))}))}lookupMutationBatch(e,t){return Da(e).get(t).next((r=>r?(Ae(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:t}),al(this.serializer,r)):null))}er(e,t){return this.Xn[t]?X.resolve(this.Xn[t]):this.lookupMutationBatch(e,t).next((r=>{if(r){const s=r.keys();return this.Xn[t]=s,s}return null}))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return Da(e).ee({index:dl,range:s},((u,h,d)=>{h.userId===this.userId&&(Ae(h.batchId>=r,47524,{tr:r}),o=al(this.serializer,h)),d.done()})).next((()=>o))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=Ha;return Da(e).ee({index:dl,range:t,reverse:!0},((s,o,u)=>{r=o.batchId,u.done()})).next((()=>r))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,Ha],[this.userId,Number.POSITIVE_INFINITY]);return Da(e).J(dl,t).next((r=>r.map((s=>al(this.serializer,s)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=rg(this.userId,t.path),s=IDBKeyRange.lowerBound(r),o=[];return Gu(e).ee({range:s},((u,h,d)=>{const[f,g,_]=u,v=$i(g);if(f===this.userId&&t.path.isEqual(v))return Da(e).get(_).next((T=>{if(!T)throw Te(61480,{nr:u,batchId:_});Ae(T.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:T.userId,batchId:_}),o.push(al(this.serializer,T))}));d.done()})).next((()=>o))}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ut(ke);const s=[];return t.forEach((o=>{const u=rg(this.userId,o.path),h=IDBKeyRange.lowerBound(u),d=Gu(e).ee({range:h},((f,g,_)=>{const[v,T,w]=f,I=$i(T);v===this.userId&&o.path.isEqual(I)?r=r.add(w):_.done()}));s.push(d)})),X.waitFor(s).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1,o=rg(this.userId,r),u=IDBKeyRange.lowerBound(o);let h=new ut(ke);return Gu(e).ee({range:u},((d,f,g)=>{const[_,v,T]=d,w=$i(v);_===this.userId&&r.isPrefixOf(w)?w.length===s&&(h=h.add(T)):g.done()})).next((()=>this.rr(e,h)))}rr(e,t){const r=[],s=[];return t.forEach((o=>{s.push(Da(e).get(o).next((u=>{if(u===null)throw Te(35274,{batchId:o});Ae(u.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:u.userId,batchId:o}),r.push(al(this.serializer,u))})))})),X.waitFor(s).next((()=>r))}removeMutationBatch(e,t){return MN(e.le,this.userId,t).next((r=>(e.addOnCommittedListener((()=>{this.ir(t.batchId)})),X.forEach(r,(s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return X.resolve();const r=IDBKeyRange.lowerBound((function(u){return[u]})(this.userId)),s=[];return Gu(e).ee({range:r},((o,u,h)=>{if(o[0]===this.userId){const d=$i(o[1]);s.push(d)}else h.done()})).next((()=>{Ae(s.length===0,56720,{sr:s.map((o=>o.canonicalString()))})}))}))}containsKey(e,t){return VN(e,this.userId,t)}_r(e){return LN(e).get(this.userId).next((t=>t||{userId:this.userId,lastAcknowledgedBatchId:Ha,lastStreamToken:""}))}}function VN(n,e,t){const r=rg(e,t.path),s=r[1],o=IDBKeyRange.lowerBound(r);let u=!1;return Gu(n).ee({range:o,X:!0},((h,d,f)=>{const[g,_,v]=h;g===e&&_===s&&(u=!0),f.done()})).next((()=>u))}function Da(n){return vn(n,ci)}function Gu(n){return vn(n,dc)}function LN(n){return vn(n,pd)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new xl(0)}static cr(){return new xl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E7{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.lr(e).next((t=>{const r=new xl(t.highestTargetId);return t.highestTargetId=r.next(),this.hr(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((t=>Ie.fromTimestamp(new nt(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((t=>t.highestListenSequenceNumber))}setTargetsMetadata(e,t,r){return this.lr(e).next((s=>(s.highestListenSequenceNumber=t,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),t>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=t),this.hr(e,s))))}addTargetData(e,t){return this.Pr(e,t).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(t,r),this.hr(e,r))))))}updateTargetData(e,t){return this.Pr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>Fu(e).delete(t.targetId))).next((()=>this.lr(e))).next((r=>(Ae(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,t,r){let s=0;const o=[];return Fu(e).ee(((u,h)=>{const d=Vf(h);d.sequenceNumber<=t&&r.get(d.targetId)===null&&(s++,o.push(this.removeTargetData(e,d)))})).next((()=>X.waitFor(o))).next((()=>s))}forEachTarget(e,t){return Fu(e).ee(((r,s)=>{const o=Vf(s);t(o)}))}lr(e){return yC(e).get(Ng).next((t=>(Ae(t!==null,2888),t)))}hr(e,t){return yC(e).put(Ng,t)}Pr(e,t){return Fu(e).put(ON(this.serializer,t))}Tr(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((t=>t.targetCount))}getTargetData(e,t){const r=Al(t),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return Fu(e).ee({range:s,index:RD},((u,h,d)=>{const f=Vf(h);Qd(t,f.target)&&(o=f,d.done())})).next((()=>o))}addMatchingKeys(e,t,r){const s=[],o=Va(e);return t.forEach((u=>{const h=Kn(u.path);s.push(o.put({targetId:r,path:h})),s.push(this.referenceDelegate.addReference(e,r,u))})),X.waitFor(s)}removeMatchingKeys(e,t,r){const s=Va(e);return X.forEach(t,(o=>{const u=Kn(o.path);return X.waitFor([s.delete([r,u]),this.referenceDelegate.removeReference(e,r,o)])}))}removeMatchingKeysForTargetId(e,t){const r=Va(e),s=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),s=Va(e);let o=Le();return s.ee({range:r,X:!0},((u,h,d)=>{const f=$i(u[1]),g=new Ee(f);o=o.add(g)})).next((()=>o))}containsKey(e,t){const r=Kn(t.path),s=IDBKeyRange.bound([r],[mD(r)],!1,!0);let o=0;return Va(e).ee({index:Yw,X:!0,range:s},(([u,h],d,f)=>{u!==0&&(o++,f.done())})).next((()=>o>0))}At(e,t){return Fu(e).get(t).next((r=>r?Vf(r):null))}}function Fu(n){return vn(n,pc)}function yC(n){return vn(n,El)}function Va(n){return vn(n,mc)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C="LruGarbageCollector",b7=1048576;function vC([n,e],[t,r]){const s=ke(n,t);return s===0?ke(e,r):s}class w7{constructor(e){this.Ir=e,this.buffer=new ut(vC),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();vC(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class UN{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){pe(_C,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ho(t)?pe(_C,"Ignoring IndexedDB error during garbage collection: ",t):await co(t)}await this.Vr(3e5)}))}}class T7{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return X.resolve(hr.ce);const r=new w7(t);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(gC)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gC):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,s,o,u,h,d,f;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),s=this.params.maximumSequenceNumbersToCollect):s=_,u=Date.now(),this.nthSequenceNumber(e,s)))).next((_=>(r=_,h=Date.now(),this.removeTargets(e,r,t)))).next((_=>(o=_,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((_=>(f=Date.now(),zu()<=qe.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${s} in `+(h-u)+`ms
	Removed ${o} targets in `+(d-h)+`ms
	Removed ${_} documents in `+(f-d)+`ms
Total Duration: ${f-g}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:_}))))}}function BN(n,e){return new T7(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S7{constructor(e,t){this.db=e,this.garbageCollector=BN(this,t)}gr(e){const t=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>t.next((s=>r+s))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pr(e,t){return this.Sr(e,((r,s)=>t(s)))}addReference(e,t,r){return Vm(e,r)}removeReference(e,t,r){return Vm(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Vm(e,t)}br(e,t){return(function(s,o){let u=!1;return LN(s).te((h=>VN(s,h,o).next((d=>(d&&(u=!0),X.resolve(!d)))))).next((()=>u))})(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let o=0;return this.Sr(e,((u,h)=>{if(h<=t){const d=this.br(e,u).next((f=>{if(!f)return o++,r.getEntry(e,u).next((()=>(r.removeEntry(u,Ie.min()),Va(e).delete((function(_){return[0,Kn(_.path)]})(u)))))}));s.push(d)}})).next((()=>X.waitFor(s))).next((()=>r.apply(e))).next((()=>o))}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Vm(e,t)}Sr(e,t){const r=Va(e);let s,o=hr.ce;return r.ee({index:Yw},(([u,h],{path:d,sequenceNumber:f})=>{u===0?(o!==hr.ce&&t(new Ee($i(s)),o),o=f,s=d):o=hr.ce})).next((()=>{o!==hr.ce&&t(new Ee($i(s)),o)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Vm(n,e){return Va(n).put((function(r,s){return{targetId:0,path:Kn(r.path),sequenceNumber:s}})(e,n.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(){this.changes=new Hs((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,St.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?X.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A7{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return el(e).put(r)}removeEntry(e,t,r){return el(e).delete((function(o,u){const h=o.path.toArray();return[h.slice(0,h.length-2),h[h.length-2],Lg(u),h[h.length-1]]})(t,r))}updateMetadata(e,t){return this.getMetadata(e).next((r=>(r.byteSize+=t,this.Dr(e,r))))}getEntry(e,t){let r=St.newInvalidDocument(t);return el(e).ee({index:ig,range:IDBKeyRange.only(Tf(t))},((s,o)=>{r=this.Cr(t,o)})).next((()=>r))}vr(e,t){let r={size:0,document:St.newInvalidDocument(t)};return el(e).ee({index:ig,range:IDBKeyRange.only(Tf(t))},((s,o)=>{r={document:this.Cr(t,o),size:Bg(o)}})).next((()=>r))}getEntries(e,t){let r=dr();return this.Fr(e,t,((s,o)=>{const u=this.Cr(s,o);r=r.insert(s,u)})).next((()=>r))}Mr(e,t){let r=dr(),s=new bt(Ee.comparator);return this.Fr(e,t,((o,u)=>{const h=this.Cr(o,u);r=r.insert(o,h),s=s.insert(o,Bg(u))})).next((()=>({documents:r,Or:s})))}Fr(e,t,r){if(t.isEmpty())return X.resolve();let s=new ut(wC);t.forEach((d=>s=s.add(d)));const o=IDBKeyRange.bound(Tf(s.first()),Tf(s.last())),u=s.getIterator();let h=u.getNext();return el(e).ee({index:ig,range:o},((d,f,g)=>{const _=Ee.fromSegments([...f.prefixPath,f.collectionGroup,f.documentId]);for(;h&&wC(h,_)<0;)r(h,null),h=u.getNext();h&&h.isEqual(_)&&(r(h,f),h=u.hasNext()?u.getNext():null),h?g.j(Tf(h)):g.done()})).next((()=>{for(;h;)r(h,null),h=u.hasNext()?u.getNext():null}))}getDocumentsMatchingQuery(e,t,r,s,o){const u=t.path,h=[u.popLast().toArray(),u.lastSegment(),Lg(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],d=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return el(e).J(IDBKeyRange.bound(h,d,!0)).next((f=>{o?.incrementDocumentReadCount(f.length);let g=dr();for(const _ of f){const v=this.Cr(Ee.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);v.isFoundDocument()&&(Xd(t,v)||s.has(v.key))&&(g=g.insert(v.key,v))}return g}))}getAllFromCollectionGroup(e,t,r,s){let o=dr();const u=bC(t,r),h=bC(t,kr.max());return el(e).ee({index:ID,range:IDBKeyRange.bound(u,h,!0)},((d,f,g)=>{const _=this.Cr(Ee.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);o=o.insert(_.key,_),o.size===s&&g.done()})).next((()=>o))}newChangeBuffer(e){return new I7(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((t=>t.byteSize))}getMetadata(e){return EC(e).get(mb).next((t=>(Ae(!!t,20021),t)))}Dr(e,t){return EC(e).put(mb,t)}Cr(e,t){if(t){const r=c7(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(Ie.min())))return r}return St.newInvalidDocument(e)}}function jN(n){return new A7(n)}class I7 extends FN{constructor(e,t){super(),this.Nr=e,this.trackRemovals=t,this.Br=new Hs((r=>r.toString()),((r,s)=>r.isEqual(s)))}applyChanges(e){const t=[];let r=0,s=new ut(((o,u)=>ke(o.canonicalString(),u.canonicalString())));return this.changes.forEach(((o,u)=>{const h=this.Br.get(o);if(t.push(this.Nr.removeEntry(e,o,h.readTime)),u.isValidDocument()){const d=rC(this.Nr.serializer,u);s=s.add(o.path.popLast());const f=Bg(d);r+=f-h.size,t.push(this.Nr.addEntry(e,o,d))}else if(r-=h.size,this.trackRemovals){const d=rC(this.Nr.serializer,u.convertToNoDocument(Ie.min()));t.push(this.Nr.addEntry(e,o,d))}})),s.forEach((o=>{t.push(this.Nr.indexManager.addToCollectionParentIndex(e,o))})),t.push(this.Nr.updateMetadata(e,r)),X.waitFor(t)}getFromCache(e,t){return this.Nr.vr(e,t).next((r=>(this.Br.set(t,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,t){return this.Nr.Mr(e,t).next((({documents:r,Or:s})=>(s.forEach(((o,u)=>{this.Br.set(o,{size:u,readTime:r.get(o).readTime})})),r)))}}function EC(n){return vn(n,md)}function el(n){return vn(n,Dg)}function Tf(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function bC(n,e){const t=e.documentKey.path.toArray();return[n,Lg(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function wC(n,e){const t=n.path.toArray(),r=e.path.toArray();let s=0;for(let o=0;o<t.length-2&&o<r.length-2;++o)if(s=ke(t[o],r[o]),s)return s;return s=ke(t.length,r.length),s||(s=ke(t[t.length-2],r[r.length-2]),s||ke(t[t.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R7{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,t)))).next((s=>(r!==null&&Xf(r.mutation,s,fr.empty(),nt.now()),s)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,Le()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=Le()){const s=Gi();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,r).next((o=>{let u=kf();return o.forEach(((h,d)=>{u=u.insert(h,d.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const r=Gi();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,Le())))}populateOverlays(e,t,r){const s=[];return r.forEach((o=>{t.has(o)||s.push(o)})),this.documentOverlayCache.getOverlays(e,s).next((o=>{o.forEach(((u,h)=>{t.set(u,h)}))}))}computeViews(e,t,r,s){let o=dr();const u=Yf(),h=(function(){return Yf()})();return t.forEach(((d,f)=>{const g=r.get(f.key);s.has(f.key)&&(g===void 0||g.mutation instanceof $s)?o=o.insert(f.key,f):g!==void 0?(u.set(f.key,g.mutation.getFieldMask()),Xf(g.mutation,f,g.mutation.getFieldMask(),nt.now())):u.set(f.key,fr.empty())})),this.recalculateAndSaveOverlays(e,o).next((d=>(d.forEach(((f,g)=>u.set(f,g))),t.forEach(((f,g)=>h.set(f,new R7(g,u.get(f)??null)))),h)))}recalculateAndSaveOverlays(e,t){const r=Yf();let s=new bt(((u,h)=>u-h)),o=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const h of u)h.keys().forEach((d=>{const f=t.get(d);if(f===null)return;let g=r.get(d)||fr.empty();g=h.applyToLocalView(f,g),r.set(d,g);const _=(s.get(h.batchId)||Le()).add(d);s=s.insert(h.batchId,_)}))})).next((()=>{const u=[],h=s.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),f=d.key,g=d.value,_=iN();g.forEach((v=>{if(!o.has(v)){const T=hN(t.get(v),r.get(v));T!==null&&_.set(v,T),o=o.add(v)}})),u.push(this.documentOverlayCache.saveOverlays(e,f,_))}return X.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,s){return(function(u){return Ee.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):r0(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next((o=>{const u=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-o.size):X.resolve(Gi());let h=fc,d=o;return u.next((f=>X.forEach(f,((g,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),o.get(g)?X.resolve():this.remoteDocumentCache.getEntry(e,g).next((v=>{d=d.insert(g,v)}))))).next((()=>this.populateOverlays(e,f,o))).next((()=>this.computeViews(e,d,f,Le()))).next((g=>({batchId:h,changes:rN(g)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ee(t)).next((r=>{let s=kf();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const o=t.collectionGroup;let u=kf();return this.indexManager.getCollectionParents(e,o).next((h=>X.forEach(h,(d=>{const f=(function(_,v){return new qs(v,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(t,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,r,s).next((g=>{g.forEach(((_,v)=>{u=u.insert(_,v)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,s)))).next((u=>{o.forEach(((d,f)=>{const g=f.getKey();u.get(g)===null&&(u=u.insert(g,St.newInvalidDocument(g)))}));let h=kf();return u.forEach(((d,f)=>{const g=o.get(d);g!==void 0&&Xf(g.mutation,f,fr.empty(),nt.now()),Xd(t,f)&&(h=h.insert(d,f))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C7{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return X.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(s){return{id:s.id,version:s.version,createTime:Zt(s.createTime)}})(t)),X.resolve()}getNamedQuery(e,t){return X.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(s){return{name:s.name,query:f0(s.bundledQuery),readTime:Zt(s.readTime)}})(t)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P7{constructor(){this.overlays=new bt(Ee.comparator),this.qr=new Map}getOverlay(e,t){return X.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Gi();return X.forEach(t,(s=>this.getOverlay(e,s).next((o=>{o!==null&&r.set(s,o)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((s,o)=>{this.St(e,t,o)})),X.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(r)),X.resolve()}getOverlaysForCollection(e,t,r){const s=Gi(),o=t.length+1,u=new Ee(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const d=h.getNext().value,f=d.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===o&&d.largestBatchId>r&&s.set(d.getKey(),d)}return X.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let o=new bt(((f,g)=>f-g));const u=this.overlays.getIterator();for(;u.hasNext();){const f=u.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>r){let g=o.get(f.largestBatchId);g===null&&(g=Gi(),o=o.insert(f.largestBatchId,g)),g.set(f.getKey(),f)}}const h=Gi(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((f,g)=>h.set(f,g))),!(h.size()>=s)););return X.resolve(h)}St(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new u0(t,r));let o=this.qr.get(t);o===void 0&&(o=Le(),this.qr.set(t,o)),this.qr.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x7{constructor(){this.sessionToken=jt.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(){this.Qr=new ut(Sn.$r),this.Ur=new ut(Sn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new Sn(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new Sn(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new Ee(new He([])),r=new Sn(t,e),s=new Sn(t,e+1),o=[];return this.Ur.forEachInRange([r,s],(u=>{this.Gr(u),o.push(u.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Ee(new He([])),r=new Sn(t,e),s=new Sn(t,e+1);let o=Le();return this.Ur.forEachInRange([r,s],(u=>{o=o.add(u.key)})),o}containsKey(e){const t=new Sn(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Sn{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Ee.comparator(e.key,t.key)||ke(e.Yr,t.Yr)}static Kr(e,t){return ke(e.Yr,t.Yr)||Ee.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O7{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new ut(Sn.$r)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new o0(o,t,r,s);this.mutationQueue.push(u);for(const h of s)this.Zr=this.Zr.add(new Sn(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return X.resolve(u)}lookupMutationBatch(e,t){return X.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.ei(r),o=s<0?0:s;return X.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Ha:this.tr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Sn(t,0),s=new Sn(t,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,s],(u=>{const h=this.Xr(u.Yr);o.push(h)})),X.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ut(ke);return t.forEach((s=>{const o=new Sn(s,0),u=new Sn(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,u],(h=>{r=r.add(h.Yr)}))})),X.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let o=r;Ee.isDocumentKey(o)||(o=o.child(""));const u=new Sn(new Ee(o),0);let h=new ut(ke);return this.Zr.forEachWhile((d=>{const f=d.key.path;return!!r.isPrefixOf(f)&&(f.length===s&&(h=h.add(d.Yr)),!0)}),u),X.resolve(this.ti(h))}ti(e){const t=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&t.push(s)})),t}removeMutationBatch(e,t){Ae(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return X.forEach(t.mutations,(s=>{const o=new Sn(s.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new Sn(t,0),s=this.Zr.firstAfterOrEqual(r);return X.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D7{constructor(e){this.ri=e,this.docs=(function(){return new bt(Ee.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),o=s?s.size:0,u=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return X.resolve(r?r.document.mutableCopy():St.newInvalidDocument(t))}getEntries(e,t){let r=dr();return t.forEach((s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():St.newInvalidDocument(s))})),X.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let o=dr();const u=t.path,h=new Ee(u.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:f,value:{document:g}}=d.getNext();if(!u.isPrefixOf(f.path))break;f.path.length>u.length+1||Ww(ED(g),r)<=0||(s.has(g.key)||Xd(t,g))&&(o=o.insert(g.key,g.mutableCopy()))}return X.resolve(o)}getAllFromCollectionGroup(e,t,r,s){Te(9500)}ii(e,t){return X.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new N7(this)}getSize(e){return X.resolve(this.size)}}class N7 extends FN{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?t.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),X.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k7{constructor(e){this.persistence=e,this.si=new Hs((t=>Al(t)),Qd),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.oi=0,this._i=new m0,this.targetCount=0,this.ai=xl.ur()}forEachTarget(e,t){return this.si.forEach(((r,s)=>t(s))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),X.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new xl(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,X.resolve()}updateTargetData(e,t){return this.Pr(t),X.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,t,r){let s=0;const o=[];return this.si.forEach(((u,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.si.delete(u),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),s++)})),X.waitFor(o).next((()=>s))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return X.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),X.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const s=this.persistence.referenceDelegate,o=[];return s&&t.forEach((u=>{o.push(s.markPotentiallyOrphaned(e,u))})),X.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),X.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return X.resolve(r)}containsKey(e,t){return X.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e,t){this.ui={},this.overlays={},this.ci=new hr(0),this.li=!1,this.li=!0,this.hi=new x7,this.referenceDelegate=e(this),this.Pi=new k7(this),this.indexManager=new _7,this.remoteDocumentCache=(function(s){return new D7(s)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new xN(t),this.Ii=new C7(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new P7,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new O7(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){pe("MemoryPersistence","Starting transaction:",e);const s=new M7(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((o=>this.referenceDelegate.di(s).next((()=>o)))).toPromise().then((o=>(s.raiseOnCommittedEvent(),o)))}Ai(e,t){return X.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class M7 extends wD{constructor(e){super(),this.currentSequenceNumber=e}}class qy{constructor(e){this.persistence=e,this.Ri=new m0,this.Vi=null}static mi(e){return new qy(e)}get fi(){if(this.Vi)return this.Vi;throw Te(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),X.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),X.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),X.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((s=>{s.forEach((o=>this.fi.add(o.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(r=>{const s=Ee.fromPath(r);return this.gi(e,s).next((o=>{o||t.removeEntry(s,Ie.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return X.or([()=>X.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Fg{constructor(e,t){this.persistence=e,this.pi=new Hs((r=>Kn(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=BN(this,t)}static mi(e,t){return new Fg(e,t)}Ei(){}di(e){return X.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((s=>r+s))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return X.forEach(this.pi,((r,s)=>this.br(e,r,s).next((o=>o?X.resolve():t(s)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ii(e,(u=>this.br(e,u,t).next((h=>{h||(r++,o.removeEntry(u,Ie.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),X.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),X.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),X.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ag(e.data.value)),t}br(e,t,r){return X.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.pi.get(t);return X.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V7{constructor(e){this.serializer=e}k(e,t,r,s){const o=new Dy("createOrUpgrade",t);r<1&&s>=1&&((function(d){d.createObjectStore(Wd)})(e),(function(d){d.createObjectStore(pd,{keyPath:Jq}),d.createObjectStore(ci,{keyPath:N1,autoIncrement:!0}).createIndex(dl,k1,{unique:!0}),d.createObjectStore(dc)})(e),TC(e),(function(d){d.createObjectStore(il)})(e));let u=X.resolve();return r<3&&s>=3&&(r!==0&&((function(d){d.deleteObjectStore(mc),d.deleteObjectStore(pc),d.deleteObjectStore(El)})(e),TC(e)),u=u.next((()=>(function(d){const f=d.store(El),g={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ie.min().toTimestamp(),targetCount:0};return f.put(Ng,g)})(o)))),r<4&&s>=4&&(r!==0&&(u=u.next((()=>(function(d,f){return f.store(ci).J().next((_=>{d.deleteObjectStore(ci),d.createObjectStore(ci,{keyPath:N1,autoIncrement:!0}).createIndex(dl,k1,{unique:!0});const v=f.store(ci),T=_.map((w=>v.put(w)));return X.waitFor(T)}))})(e,o)))),u=u.next((()=>{(function(d){d.createObjectStore(gc,{keyPath:o8})})(e)}))),r<5&&s>=5&&(u=u.next((()=>this.yi(o)))),r<6&&s>=6&&(u=u.next((()=>((function(d){d.createObjectStore(md)})(e),this.wi(o))))),r<7&&s>=7&&(u=u.next((()=>this.Si(o)))),r<8&&s>=8&&(u=u.next((()=>this.bi(e,o)))),r<9&&s>=9&&(u=u.next((()=>{(function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&s>=10&&(u=u.next((()=>this.Di(o)))),r<11&&s>=11&&(u=u.next((()=>{(function(d){d.createObjectStore(Ny,{keyPath:l8})})(e),(function(d){d.createObjectStore(ky,{keyPath:u8})})(e)}))),r<12&&s>=12&&(u=u.next((()=>{(function(d){const f=d.createObjectStore(My,{keyPath:g8});f.createIndex(yb,y8,{unique:!1}),f.createIndex(xD,_8,{unique:!1})})(e)}))),r<13&&s>=13&&(u=u.next((()=>(function(d){const f=d.createObjectStore(Dg,{keyPath:e8});f.createIndex(ig,t8),f.createIndex(ID,n8)})(e))).next((()=>this.Ci(e,o))).next((()=>e.deleteObjectStore(il)))),r<14&&s>=14&&(u=u.next((()=>this.Fi(e,o)))),r<15&&s>=15&&(u=u.next((()=>(function(d){d.createObjectStore(Xw,{keyPath:c8,autoIncrement:!0}).createIndex(gb,h8,{unique:!1}),d.createObjectStore(Kf,{keyPath:f8}).createIndex(CD,d8,{unique:!1}),d.createObjectStore(Wf,{keyPath:p8}).createIndex(PD,m8,{unique:!1})})(e)))),r<16&&s>=16&&(u=u.next((()=>{t.objectStore(Kf).clear()})).next((()=>{t.objectStore(Wf).clear()}))),r<17&&s>=17&&(u=u.next((()=>{(function(d){d.createObjectStore(Jw,{keyPath:v8})})(e)}))),r<18&&s>=18&&Xx()&&(u=u.next((()=>{t.objectStore(Kf).clear()})).next((()=>{t.objectStore(Wf).clear()}))),u}wi(e){let t=0;return e.store(il).ee(((r,s)=>{t+=Bg(s)})).next((()=>{const r={byteSize:t};return e.store(md).put(mb,r)}))}yi(e){const t=e.store(pd),r=e.store(ci);return t.J().next((s=>X.forEach(s,(o=>{const u=IDBKeyRange.bound([o.userId,Ha],[o.userId,o.lastAcknowledgedBatchId]);return r.J(dl,u).next((h=>X.forEach(h,(d=>{Ae(d.userId===o.userId,18650,"Cannot process batch from unexpected user",{batchId:d.batchId});const f=al(this.serializer,d);return MN(e,o.userId,f).next((()=>{}))}))))}))))}Si(e){const t=e.store(mc),r=e.store(il);return e.store(El).get(Ng).next((s=>{const o=[];return r.ee(((u,h)=>{const d=new He(u),f=(function(_){return[0,Kn(_)]})(d);o.push(t.get(f).next((g=>g?X.resolve():(_=>t.put({targetId:0,path:Kn(_),sequenceNumber:s.highestListenSequenceNumber}))(d))))})).next((()=>X.waitFor(o)))}))}bi(e,t){e.createObjectStore(gd,{keyPath:a8});const r=t.store(gd),s=new p0,o=u=>{if(s.add(u)){const h=u.lastSegment(),d=u.popLast();return r.put({collectionId:h,parent:Kn(d)})}};return t.store(il).ee({X:!0},((u,h)=>{const d=new He(u);return o(d.popLast())})).next((()=>t.store(dc).ee({X:!0},(([u,h,d],f)=>{const g=$i(h);return o(g.popLast())}))))}Di(e){const t=e.store(pc);return t.ee(((r,s)=>{const o=Vf(s),u=ON(this.serializer,o);return t.put(u)}))}Ci(e,t){const r=t.store(il),s=[];return r.ee(((o,u)=>{const h=t.store(Dg),d=(function(_){return _.document?new Ee(He.fromString(_.document.name).popFirst(5)):_.noDocument?Ee.fromSegments(_.noDocument.path):_.unknownDocument?Ee.fromSegments(_.unknownDocument.path):Te(36783)})(u).path.toArray(),f={prefixPath:d.slice(0,d.length-2),collectionGroup:d[d.length-2],documentId:d[d.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};s.push(h.put(f))})).next((()=>X.waitFor(s)))}Fi(e,t){const r=t.store(ci),s=jN(this.serializer),o=new g0(qy.mi,this.serializer.yt);return r.J().next((u=>{const h=new Map;return u.forEach((d=>{let f=h.get(d.userId)??Le();al(this.serializer,d).keys().forEach((g=>f=f.add(g))),h.set(d.userId,f)})),X.forEach(h,((d,f)=>{const g=new An(f),_=jy.wt(this.serializer,g),v=o.getIndexManager(g),T=zy.wt(g,this.serializer,v,o.referenceDelegate);return new zN(s,T,_,v).recalculateAndSaveOverlaysForDocumentKeys(new _b(t,hr.ce),d).next()}))}))}}function TC(n){n.createObjectStore(mc,{keyPath:i8}).createIndex(Yw,s8,{unique:!0}),n.createObjectStore(pc,{keyPath:"targetId"}).createIndex(RD,r8,{unique:!0}),n.createObjectStore(El)}const Na="IndexedDbPersistence",kE=18e5,ME=5e3,VE="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",qN="main";class y0{constructor(e,t,r,s,o,u,h,d,f,g,_=18){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Mi=o,this.window=u,this.document=h,this.xi=f,this.Oi=g,this.Ni=_,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=v=>Promise.resolve(),!y0.v())throw new de(se.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new S7(this,s),this.$i=t+qN,this.serializer=new xN(d),this.Ui=new Wi(this.$i,this.Ni,new V7(this.serializer)),this.hi=new f7,this.Pi=new E7(this.referenceDelegate,this.serializer),this.remoteDocumentCache=jN(this.serializer),this.Ii=new h7,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,g===!1&&Jt(Na,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new de(se.FAILED_PRECONDITION,VE);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new hr(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async t=>{t.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Lm(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((t=>{t||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((t=>this.isPrimary&&!t?this.Zi(e).next((()=>!1)):!!t&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(ho(e))return pe(Na,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return pe(Na,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return Sf(e).get(Mu).next((t=>X.resolve(this.es(t))))}ts(e){return Lm(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,kE)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(t=>{const r=vn(t,gc);return r.J().next((s=>{const o=this.ss(s,kE),u=s.filter((h=>o.indexOf(h)===-1));return X.forEach(u,(h=>r.delete(h.clientId))).next((()=>u))}))})).catch((()=>[]));if(this.Ki)for(const t of e)this.Ki.removeItem(this._s(t.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?X.resolve(!0):Sf(e).get(Mu).next((t=>{if(t!==null&&this.rs(t.leaseTimestampMs,ME)&&!this.us(t.ownerId)){if(this.es(t)&&this.networkEnabled)return!0;if(!this.es(t)){if(!t.allowTabSynchronization)throw new de(se.FAILED_PRECONDITION,VE);return!1}}return!(!this.networkEnabled||!this.inForeground)||Lm(e).J().next((r=>this.ss(r,ME).find((s=>{if(this.clientId!==s.clientId){const o=!this.networkEnabled&&s.networkEnabled,u=!this.inForeground&&s.inForeground,h=this.networkEnabled===s.networkEnabled;if(o||u&&h)return!0}return!1}))===void 0))})).next((t=>(this.isPrimary!==t&&pe(Na,`Client ${t?"is":"is not"} eligible for a primary lease.`),t)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[Wd,gc],(e=>{const t=new _b(e,hr.ce);return this.Zi(t).next((()=>this.ts(t)))})),this.Ui.close(),this.Ps()}ss(e,t){return e.filter((r=>this.rs(r.updateTimeMs,t)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>Lm(e).J().next((t=>this.ss(t,kE).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,t){return zy.wt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new v7(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return jy.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,t,r){pe(Na,"Starting transaction:",e);const s=t==="readonly"?"readonly":"readwrite",o=(function(d){return d===18?w8:d===17?kD:d===16?b8:d===15?Zw:d===14?ND:d===13?DD:d===12?E8:d===11?OD:void Te(60245)})(this.Ni);let u;return this.Ui.runTransaction(e,s,o,(h=>(u=new _b(h,this.ci?this.ci.next():hr.ce),t==="readwrite-primary"?this.Hi(u).next((d=>!!d||this.Yi(u))).next((d=>{if(!d)throw Jt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new de(se.FAILED_PRECONDITION,bD);return r(u)})).next((d=>this.Xi(u).next((()=>d)))):this.Is(u).next((()=>r(u)))))).then((h=>(u.raiseOnCommittedEvent(),h)))}Is(e){return Sf(e).get(Mu).next((t=>{if(t!==null&&this.rs(t.leaseTimestampMs,ME)&&!this.us(t.ownerId)&&!this.es(t)&&!(this.Oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new de(se.FAILED_PRECONDITION,VE)}))}Xi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Sf(e).put(Mu,t)}static v(){return Wi.v()}Zi(e){const t=Sf(e);return t.get(Mu).next((r=>this.es(r)?(pe(Na,"Releasing primary lease."),t.delete(Mu)):X.resolve()))}rs(e,t){const r=Date.now();return!(e<r-t)&&(!(e>r)||(Jt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){typeof this.window?.addEventListener=="function"&&(this.Bi=()=>{this.cs();const e=/(?:Version|Mobile)\/1[456]/;Yx()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){try{const t=this.Ki?.getItem(this._s(e))!==null;return pe(Na,`Client '${e}' ${t?"is":"is not"} zombied in LocalStorage`),t}catch(t){return Jt(Na,"Failed to get zombied client id.",t),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){Jt("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Sf(n){return vn(n,Wd)}function Lm(n){return vn(n,gc)}function _0(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=s}static As(e,t){let r=Le(),s=Le();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new v0(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L7{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Yx()?8:TD(Mt())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,s){const o={result:null};return this.ys(e,t).next((u=>{o.result=u})).next((()=>{if(!o.result)return this.ws(e,t,s,r).next((u=>{o.result=u}))})).next((()=>{if(o.result)return;const u=new L7;return this.Ss(e,t,u).next((h=>{if(o.result=h,this.Vs)return this.bs(e,t,u,h.size)}))})).next((()=>o.result))}bs(e,t,r,s){return r.documentReadCount<this.fs?(zu()<=qe.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",qu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(zu()<=qe.DEBUG&&pe("QueryEngine","Query:",qu(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(zu()<=qe.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",qu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ir(t))):X.resolve())}ys(e,t){if(K1(t))return X.resolve(null);let r=ir(t);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(t.limit!==null&&s===1&&(t=Vg(t,null,"F"),r=ir(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const u=Le(...o);return this.ps.getDocuments(e,u).next((h=>this.indexManager.getMinOffset(e,r).next((d=>{const f=this.Ds(t,h);return this.Cs(t,f,u,d.readTime)?this.ys(e,Vg(t,null,"F")):this.vs(e,f,t,d)}))))})))))}ws(e,t,r,s){return K1(t)||s.isEqual(Ie.min())?X.resolve(null):this.ps.getDocuments(e,r).next((o=>{const u=this.Ds(t,o);return this.Cs(t,u,r,s)?X.resolve(null):(zu()<=qe.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),qu(t)),this.vs(e,u,t,vD(s,fc)).next((h=>h)))}))}Ds(e,t){let r=new ut(tN(e));return t.forEach(((s,o)=>{Xd(e,o)&&(r=r.add(o))})),r}Cs(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Ss(e,t,r){return zu()<=qe.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",qu(t)),this.ps.getDocumentsMatchingQuery(e,t,kr.min(),r)}vs(e,t,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((o=>(t.forEach((u=>{o=o.insert(u.key,u)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0="LocalStore",U7=3e8;class B7{constructor(e,t,r,s){this.persistence=e,this.Fs=t,this.serializer=s,this.Ms=new bt(ke),this.xs=new Hs((o=>Al(o)),Qd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function $N(n,e,t,r){return new B7(n,e,t,r)}async function GN(n,e){const t=be(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next((o=>(s=o,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((o=>{const u=[],h=[];let d=Le();for(const f of s){u.push(f.batchId);for(const g of f.mutations)d=d.add(g.key)}for(const f of o){h.push(f.batchId);for(const g of f.mutations)d=d.add(g.key)}return t.localDocuments.getDocuments(r,d).next((f=>({Ls:f,removedBatchIds:u,addedBatchIds:h})))}))}))}function F7(n,e){const t=be(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),o=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,d,f,g){const _=f.batch,v=_.keys();let T=X.resolve();return v.forEach((w=>{T=T.next((()=>g.getEntry(d,w))).next((I=>{const x=f.docVersions.get(w);Ae(x!==null,48541),I.version.compareTo(x)<0&&(_.applyToRemoteDocument(I,f),I.isValidDocument()&&(I.setReadTime(f.commitVersion),g.addEntry(I)))}))})),T.next((()=>h.mutationQueue.removeMutationBatch(d,_)))})(t,r,e,o).next((()=>o.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let d=Le();for(let f=0;f<h.mutationResults.length;++f)h.mutationResults[f].transformResults.length>0&&(d=d.add(h.batch.mutations[f].key));return d})(e)))).next((()=>t.localDocuments.getDocuments(r,s)))}))}function KN(n){const e=be(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function j7(n,e){const t=be(n),r=e.snapshotVersion;let s=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});s=t.Ms;const h=[];e.targetChanges.forEach(((g,_)=>{const v=s.get(_);if(!v)return;h.push(t.Pi.removeMatchingKeys(o,g.removedDocuments,_).next((()=>t.Pi.addMatchingKeys(o,g.addedDocuments,_))));let T=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(_)!==null?T=T.withResumeToken(jt.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):g.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(g.resumeToken,r)),s=s.insert(_,T),(function(I,x,H){return I.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=U7?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0})(v,T,g)&&h.push(t.Pi.updateTargetData(o,T))}));let d=dr(),f=Le();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(o,g))})),h.push(WN(o,u,e.documentUpdates).next((g=>{d=g.ks,f=g.qs}))),!r.isEqual(Ie.min())){const g=t.Pi.getLastRemoteSnapshotVersion(o).next((_=>t.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r)));h.push(g)}return X.waitFor(h).next((()=>u.apply(o))).next((()=>t.localDocuments.getLocalViewOfDocuments(o,d,f))).next((()=>d))})).then((o=>(t.Ms=s,o)))}function WN(n,e,t){let r=Le(),s=Le();return t.forEach((o=>r=r.add(o))),e.getEntries(n,r).next((o=>{let u=dr();return t.forEach(((h,d)=>{const f=o.get(h);d.isFoundDocument()!==f.isFoundDocument()&&(s=s.add(h)),d.isNoDocument()&&d.version.isEqual(Ie.min())?(e.removeEntry(h,d.readTime),u=u.insert(h,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(d),u=u.insert(h,d)):pe(E0,"Ignoring outdated watch update for ",h,". Current version:",f.version," Watch version:",d.version)})),{ks:u,qs:s}}))}function z7(n,e){const t=be(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Ha),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Tc(n,e){const t=be(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return t.Pi.getTargetData(r,e).next((o=>o?(s=o,X.resolve(s)):t.Pi.allocateTargetId(r).next((u=>(s=new Ps(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=t.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function Sc(n,e,t){const r=be(n),s=r.Ms.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,(u=>r.persistence.referenceDelegate.removeTarget(u,s)))}catch(u){if(!ho(u))throw u;pe(E0,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function jg(n,e,t){const r=be(n);let s=Ie.min(),o=Le();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(d,f,g){const _=be(d),v=_.xs.get(g);return v!==void 0?X.resolve(_.Ms.get(v)):_.Pi.getTargetData(f,g)})(r,u,ir(e)).next((h=>{if(h)return s=h.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,h.targetId).next((d=>{o=d}))})).next((()=>r.Fs.getDocumentsMatchingQuery(u,e,t?s:Ie.min(),t?o:Le()))).next((h=>(XN(r,eN(e),h),{documents:h,Qs:o})))))}function QN(n,e){const t=be(n),r=be(t.Pi),s=t.Ms.get(e);return s?Promise.resolve(s.target):t.persistence.runTransaction("Get target data","readonly",(o=>r.At(o,e).next((u=>u?u.target:null))))}function YN(n,e){const t=be(n),r=t.Os.get(e)||Ie.min();return t.persistence.runTransaction("Get new document changes","readonly",(s=>t.Ns.getAllFromCollectionGroup(s,e,vD(r,fc),Number.MAX_SAFE_INTEGER))).then((s=>(XN(t,e,s),s)))}function XN(n,e,t){let r=n.Os.get(e)||Ie.min();t.forEach(((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),n.Os.set(e,r)}async function q7(n,e,t,r){const s=be(n);let o=Le(),u=dr();for(const f of t){const g=e.$s(f.metadata.name);f.document&&(o=o.add(g));const _=e.Us(f);_.setReadTime(e.Ks(f.metadata.readTime)),u=u.insert(g,_)}const h=s.Ns.newChangeBuffer({trackRemovals:!0}),d=await Tc(s,(function(g){return ir($c(He.fromString(`__bundle__/docs/${g}`)))})(r));return s.persistence.runTransaction("Apply bundle documents","readwrite",(f=>WN(f,h,u).next((g=>(h.apply(f),g))).next((g=>s.Pi.removeMatchingKeysForTargetId(f,d.targetId).next((()=>s.Pi.addMatchingKeys(f,o,d.targetId))).next((()=>s.localDocuments.getLocalViewOfDocuments(f,g.ks,g.qs))).next((()=>g.ks))))))}async function H7(n,e,t=Le()){const r=await Tc(n,ir(f0(e.bundledQuery))),s=be(n);return s.persistence.runTransaction("Save named query","readwrite",(o=>{const u=Zt(e.readTime);if(r.snapshotVersion.compareTo(u)>=0)return s.Ii.saveNamedQuery(o,e);const h=r.withResumeToken(jt.EMPTY_BYTE_STRING,u);return s.Ms=s.Ms.insert(h.targetId,h),s.Pi.updateTargetData(o,h).next((()=>s.Pi.removeMatchingKeysForTargetId(o,r.targetId))).next((()=>s.Pi.addMatchingKeys(o,t,r.targetId))).next((()=>s.Ii.saveNamedQuery(o,e)))}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN="firestore_clients";function SC(n,e){return`${JN}_${n}_${e}`}const ZN="firestore_mutations";function AC(n,e,t){let r=`${ZN}_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const e2="firestore_targets";function LE(n,e){return`${e2}_${n}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi="SharedClientState";class zg{constructor(e,t,r,s){this.user=e,this.batchId=t,this.state=r,this.error=s}static Ws(e,t,r){const s=JSON.parse(r);let o,u=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return u&&s.error&&(u=typeof s.error.message=="string"&&typeof s.error.code=="string",u&&(o=new de(s.error.code,s.error.message))),u?new zg(e,t,s.state,o):(Jt(Bi,`Failed to parse mutation state for ID '${t}': ${r}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Jf{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ws(e,t){const r=JSON.parse(t);let s,o=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return o&&r.error&&(o=typeof r.error.message=="string"&&typeof r.error.code=="string",o&&(s=new de(r.error.code,r.error.message))),o?new Jf(e,r.state,s):(Jt(Bi,`Failed to parse target state for ID '${e}': ${t}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class qg{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ws(e,t){const r=JSON.parse(t);let s=typeof r=="object"&&r.activeTargetIds instanceof Array,o=i0();for(let u=0;s&&u<r.activeTargetIds.length;++u)s=SD(r.activeTargetIds[u]),o=o.add(r.activeTargetIds[u]);return s?new qg(e,o):(Jt(Bi,`Failed to parse client data for instance '${e}': ${t}`),null)}}class b0{constructor(e,t){this.clientId=e,this.onlineState=t}static Ws(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new b0(t.clientId,t.onlineState):(Jt(Bi,`Failed to parse online state: ${e}`),null)}}class Nb{constructor(){this.activeTargetIds=i0()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class UE{constructor(e,t,r,s,o){this.window=e,this.Mi=t,this.persistenceKey=r,this.Js=s,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Hs=this.Ys.bind(this),this.Zs=new bt(ke),this.started=!1,this.Xs=[];const u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.eo=SC(this.persistenceKey,this.Js),this.no=(function(d){return`firestore_sequence_number_${d}`})(this.persistenceKey),this.Zs=this.Zs.insert(this.Js,new Nb),this.ro=new RegExp(`^${JN}_${u}_([^_]*)$`),this.io=new RegExp(`^${ZN}_${u}_(\\d+)(?:_(.*))?$`),this.so=new RegExp(`^${e2}_${u}_(\\d+)$`),this.oo=(function(d){return`firestore_online_state_${d}`})(this.persistenceKey),this._o=(function(d){return`firestore_bundle_loaded_v2_${d}`})(this.persistenceKey),this.window.addEventListener("storage",this.Hs)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Ts();for(const r of e){if(r===this.Js)continue;const s=this.getItem(SC(this.persistenceKey,r));if(s){const o=qg.Ws(r,s);o&&(this.Zs=this.Zs.insert(o.clientId,o))}}this.ao();const t=this.storage.getItem(this.oo);if(t){const r=this.uo(t);r&&this.co(r)}for(const r of this.Xs)this.Ys(r);this.Xs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.no,JSON.stringify(e))}getAllActiveQueryTargets(){return this.lo(this.Zs)}isActiveQueryTarget(e){let t=!1;return this.Zs.forEach(((r,s)=>{s.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.ho(e,"pending")}updateMutationState(e,t,r){this.ho(e,t,r),this.Po(e)}addLocalQueryTarget(e,t=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(LE(this.persistenceKey,e));if(s){const o=Jf.Ws(e,s);o&&(r=o.state)}}return t&&this.To.zs(e),this.ao(),r}removeLocalQueryTarget(e){this.To.js(e),this.ao()}isLocalQueryTarget(e){return this.To.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(LE(this.persistenceKey,e))}updateQueryState(e,t,r){this.Io(e,t,r)}handleUserChange(e,t,r){t.forEach((s=>{this.Po(s)})),this.currentUser=e,r.forEach((s=>{this.addPendingMutation(s)}))}setOnlineState(e){this.Eo(e)}notifyBundleLoaded(e){this.Ao(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Hs),this.removeItem(this.eo),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return pe(Bi,"READ",e,t),t}setItem(e,t){pe(Bi,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){pe(Bi,"REMOVE",e),this.storage.removeItem(e)}Ys(e){const t=e;if(t.storageArea===this.storage){if(pe(Bi,"EVENT",t.key,t.newValue),t.key===this.eo)return void Jt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Mi.enqueueRetryable((async()=>{if(this.started){if(t.key!==null){if(this.ro.test(t.key)){if(t.newValue==null){const r=this.Ro(t.key);return this.Vo(r,null)}{const r=this.mo(t.key,t.newValue);if(r)return this.Vo(r.clientId,r)}}else if(this.io.test(t.key)){if(t.newValue!==null){const r=this.fo(t.key,t.newValue);if(r)return this.po(r)}}else if(this.so.test(t.key)){if(t.newValue!==null){const r=this.yo(t.key,t.newValue);if(r)return this.wo(r)}}else if(t.key===this.oo){if(t.newValue!==null){const r=this.uo(t.newValue);if(r)return this.co(r)}}else if(t.key===this.no){const r=(function(o){let u=hr.ce;if(o!=null)try{const h=JSON.parse(o);Ae(typeof h=="number",30636,{So:o}),u=h}catch(h){Jt(Bi,"Failed to read sequence number from WebStorage",h)}return u})(t.newValue);r!==hr.ce&&this.sequenceNumberHandler(r)}else if(t.key===this._o){const r=this.bo(t.newValue);await Promise.all(r.map((s=>this.syncEngine.Do(s))))}}}else this.Xs.push(t)}))}}get To(){return this.Zs.get(this.Js)}ao(){this.setItem(this.eo,this.To.Gs())}ho(e,t,r){const s=new zg(this.currentUser,e,t,r),o=AC(this.persistenceKey,this.currentUser,e);this.setItem(o,s.Gs())}Po(e){const t=AC(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Eo(e){const t={clientId:this.Js,onlineState:e};this.storage.setItem(this.oo,JSON.stringify(t))}Io(e,t,r){const s=LE(this.persistenceKey,e),o=new Jf(e,t,r);this.setItem(s,o.Gs())}Ao(e){const t=JSON.stringify(Array.from(e));this.setItem(this._o,t)}Ro(e){const t=this.ro.exec(e);return t?t[1]:null}mo(e,t){const r=this.Ro(e);return qg.Ws(r,t)}fo(e,t){const r=this.io.exec(e),s=Number(r[1]),o=r[2]!==void 0?r[2]:null;return zg.Ws(new An(o),s,t)}yo(e,t){const r=this.so.exec(e),s=Number(r[1]);return Jf.Ws(s,t)}uo(e){return b0.Ws(e)}bo(e){return JSON.parse(e)}async po(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Co(e.batchId,e.state,e.error);pe(Bi,`Ignoring mutation for non-active user ${e.user.uid}`)}wo(e){return this.syncEngine.vo(e.targetId,e.state,e.error)}Vo(e,t){const r=t?this.Zs.insert(e,t):this.Zs.remove(e),s=this.lo(this.Zs),o=this.lo(r),u=[],h=[];return o.forEach((d=>{s.has(d)||u.push(d)})),s.forEach((d=>{o.has(d)||h.push(d)})),this.syncEngine.Fo(u,h).then((()=>{this.Zs=r}))}co(e){this.Zs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}lo(e){let t=i0();return e.forEach(((r,s)=>{t=t.unionWith(s.activeTargetIds)})),t}}class t2{constructor(){this.Mo=new Nb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Nb,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $7{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC="ConnectivityMonitor";class RC{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){pe(IC,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){pe(IC,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Um=null;function kb(){return Um===null?Um=(function(){return 268435456+Math.round(2147483648*Math.random())})():Um++,"0x"+Um.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE="RestConnection",G7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class K7{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===vb?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,t,r,s,o){const u=kb(),h=this.zo(e,t.toUriEncodedString());pe(BE,`Sending RPC '${e}' ${u}:`,h,r);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,s,o);const{host:f}=new URL(h),g=Uc(f);return this.Jo(e,h,d,r,g).then((_=>(pe(BE,`Received RPC '${e}' ${u}: `,_),_)),(_=>{throw es(BE,`RPC '${e}' ${u} failed with error: `,_,"url: ",h,"request:",r),_}))}Ho(e,t,r,s,o,u){return this.Go(e,t,r,s,o)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Hc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((s,o)=>e[o]=s)),r&&r.headers.forEach(((s,o)=>e[o]=s))}zo(e,t){const r=G7[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W7{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zn="WebChannelConnection";class Q7 extends K7{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,s,o){const u=kb();return new Promise(((h,d)=>{const f=new lD;f.setWithCredentials(!0),f.listenOnce(uD.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case tg.NO_ERROR:const _=f.getResponseJson();pe(zn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(_)),h(_);break;case tg.TIMEOUT:pe(zn,`RPC '${e}' ${u} timed out`),d(new de(se.DEADLINE_EXCEEDED,"Request time out"));break;case tg.HTTP_ERROR:const v=f.getStatus();if(pe(zn,`RPC '${e}' ${u} failed with status:`,v,"response text:",f.getResponseText()),v>0){let T=f.getResponseJson();Array.isArray(T)&&(T=T[0]);const w=T?.error;if(w&&w.status&&w.message){const I=(function(H){const V=H.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(V)>=0?V:se.UNKNOWN})(w.status);d(new de(I,w.message))}else d(new de(se.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new de(se.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:u,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{pe(zn,`RPC '${e}' ${u} completed.`)}}));const g=JSON.stringify(s);pe(zn,`RPC '${e}' ${u} sending request:`,s),f.send(t,"POST",g,r,15)}))}T_(e,t,r){const s=kb(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=fD(),h=hD(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,t,r),d.encodeInitMessageHeaders=!0;const g=o.join("");pe(zn,`Creating RPC '${e}' stream ${s}: ${g}`,d);const _=u.createWebChannel(g,d);this.I_(_);let v=!1,T=!1;const w=new W7({Yo:x=>{T?pe(zn,`Not sending because RPC '${e}' stream ${s} is closed:`,x):(v||(pe(zn,`Opening RPC '${e}' stream ${s} transport.`),_.open(),v=!0),pe(zn,`RPC '${e}' stream ${s} sending:`,x),_.send(x))},Zo:()=>_.close()}),I=(x,H,V)=>{x.listen(H,(F=>{try{V(F)}catch(W){setTimeout((()=>{throw W}),0)}}))};return I(_,Nf.EventType.OPEN,(()=>{T||(pe(zn,`RPC '${e}' stream ${s} transport opened.`),w.o_())})),I(_,Nf.EventType.CLOSE,(()=>{T||(T=!0,pe(zn,`RPC '${e}' stream ${s} transport closed`),w.a_(),this.E_(_))})),I(_,Nf.EventType.ERROR,(x=>{T||(T=!0,es(zn,`RPC '${e}' stream ${s} transport errored. Name:`,x.name,"Message:",x.message),w.a_(new de(se.UNAVAILABLE,"The operation could not be completed")))})),I(_,Nf.EventType.MESSAGE,(x=>{if(!T){const H=x.data[0];Ae(!!H,16349);const V=H,F=V?.error||V[0]?.error;if(F){pe(zn,`RPC '${e}' stream ${s} received error:`,F);const W=F.status;let j=(function(C){const P=ln[C];if(P!==void 0)return pN(P)})(W),$=F.message;j===void 0&&(j=se.INTERNAL,$="Unknown error status: "+W+" with message "+F.message),T=!0,w.a_(new de(j,$)),_.close()}else pe(zn,`RPC '${e}' stream ${s} received:`,H),w.u_(H)}})),I(h,cD.STAT_EVENT,(x=>{x.stat===fb.PROXY?pe(zn,`RPC '${e}' stream ${s} detected buffering proxy`):x.stat===fb.NOPROXY&&pe(zn,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{w.__()}),0),w}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(){return typeof window<"u"?window:null}function hg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tp(n){return new e7(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(e,t,r=1e3,s=1.5,o=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=s,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-r);s>0&&pe("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC="PersistentStream";class r2{constructor(e,t,r,s,o,u,h,d){this.Mi=e,this.S_=r,this.b_=s,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new w0(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===se.RESOURCE_EXHAUSTED?(Jt(t.toString()),Jt("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===t&&this.G_(r,s)}),(r=>{e((()=>{const s=new de(se.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return pe(CC,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(pe(CC,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Y7 extends r2{constructor(e,t,r,s,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,u),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=r7(this.serializer,e),r=(function(o){if(!("targetChange"in o))return Ie.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Ie.min():u.readTime?Zt(u.readTime):Ie.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=Cb(this.serializer),t.addTarget=(function(o,u){let h;const d=u.target;if(h=kg(d)?{documents:SN(o,d)}:{query:AN(o,d).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=_N(o,u.resumeToken);const f=Ib(o,u.expectedCount);f!==null&&(h.expectedCount=f)}else if(u.snapshotVersion.compareTo(Ie.min())>0){h.readTime=wc(o,u.snapshotVersion.toTimestamp());const f=Ib(o,u.expectedCount);f!==null&&(h.expectedCount=f)}return h})(this.serializer,e);const r=s7(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=Cb(this.serializer),t.removeTarget=e,this.q_(t)}}class X7 extends r2{constructor(e,t,r,s,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,u),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Ae(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ae(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ae(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=i7(e.writeResults,e.commitTime),r=Zt(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=Cb(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>wd(this.serializer,r)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J7{}class Z7 extends J7{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new de(se.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,u])=>this.connection.Go(e,Rb(t,r),s,o,u))).catch((o=>{throw o.name==="FirebaseError"?(o.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new de(se.UNKNOWN,o.toString())}))}Ho(e,t,r,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Ho(e,Rb(t,r),s,u,h,o))).catch((u=>{throw u.name==="FirebaseError"?(u.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new de(se.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class eH{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Jt(t),this.aa=!1):pe("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ol="RemoteStore";class tH{constructor(e,t,r,s,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((u=>{r.enqueueAndForget((async()=>{po(this)&&(pe(Ol,"Restarting streams for network reachability change."),await(async function(d){const f=be(d);f.Ea.add(4),await Wc(f),f.Ra.set("Unknown"),f.Ea.delete(4),await np(f)})(this))}))})),this.Ra=new eH(r,s)}}async function np(n){if(po(n))for(const e of n.da)await e(!0)}async function Wc(n){for(const e of n.da)await e(!1)}function Hy(n,e){const t=be(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),A0(t)?S0(t):Yc(t).O_()&&T0(t,e))}function Ac(n,e){const t=be(n),r=Yc(t);t.Ia.delete(e),r.O_()&&i2(t,e),t.Ia.size===0&&(r.O_()?r.L_():po(t)&&t.Ra.set("Unknown"))}function T0(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Yc(n).Y_(e)}function i2(n,e){n.Va.Ue(e),Yc(n).Z_(e)}function S0(n){n.Va=new Y8({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Yc(n).start(),n.Ra.ua()}function A0(n){return po(n)&&!Yc(n).x_()&&n.Ia.size>0}function po(n){return be(n).Ea.size===0}function s2(n){n.Va=void 0}async function nH(n){n.Ra.set("Online")}async function rH(n){n.Ia.forEach(((e,t)=>{T0(n,e)}))}async function iH(n,e){s2(n),A0(n)?(n.Ra.ha(e),S0(n)):n.Ra.set("Unknown")}async function sH(n,e,t){if(n.Ra.set("Online"),e instanceof yN&&e.state===2&&e.cause)try{await(async function(s,o){const u=o.cause;for(const h of o.targetIds)s.Ia.has(h)&&(await s.remoteSyncer.rejectListen(h,u),s.Ia.delete(h),s.Va.removeTarget(h))})(n,e)}catch(r){pe(Ol,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Hg(n,r)}else if(e instanceof ug?n.Va.Ze(e):e instanceof gN?n.Va.st(e):n.Va.tt(e),!t.isEqual(Ie.min()))try{const r=await KN(n.localStore);t.compareTo(r)>=0&&await(function(o,u){const h=o.Va.Tt(u);return h.targetChanges.forEach(((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const g=o.Ia.get(f);g&&o.Ia.set(f,g.withResumeToken(d.resumeToken,u))}})),h.targetMismatches.forEach(((d,f)=>{const g=o.Ia.get(d);if(!g)return;o.Ia.set(d,g.withResumeToken(jt.EMPTY_BYTE_STRING,g.snapshotVersion)),i2(o,d);const _=new Ps(g.target,d,f,g.sequenceNumber);T0(o,_)})),o.remoteSyncer.applyRemoteEvent(h)})(n,t)}catch(r){pe(Ol,"Failed to raise snapshot:",r),await Hg(n,r)}}async function Hg(n,e,t){if(!ho(e))throw e;n.Ea.add(1),await Wc(n),n.Ra.set("Offline"),t||(t=()=>KN(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{pe(Ol,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await np(n)}))}function a2(n,e){return e().catch((t=>Hg(n,t,e)))}async function Qc(n){const e=be(n),t=ro(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ha;for(;aH(e);)try{const s=await z7(e.localStore,r);if(s===null){e.Ta.length===0&&t.L_();break}r=s.batchId,oH(e,s)}catch(s){await Hg(e,s)}o2(e)&&l2(e)}function aH(n){return po(n)&&n.Ta.length<10}function oH(n,e){n.Ta.push(e);const t=ro(n);t.O_()&&t.X_&&t.ea(e.mutations)}function o2(n){return po(n)&&!ro(n).x_()&&n.Ta.length>0}function l2(n){ro(n).start()}async function lH(n){ro(n).ra()}async function uH(n){const e=ro(n);for(const t of n.Ta)e.ea(t.mutations)}async function cH(n,e,t){const r=n.Ta.shift(),s=l0.from(r,e,t);await a2(n,(()=>n.remoteSyncer.applySuccessfulWrite(s))),await Qc(n)}async function hH(n,e){e&&ro(n).X_&&await(async function(r,s){if((function(u){return dN(u)&&u!==se.ABORTED})(s.code)){const o=r.Ta.shift();ro(r).B_(),await a2(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s))),await Qc(r)}})(n,e),o2(n)&&l2(n)}async function PC(n,e){const t=be(n);t.asyncQueue.verifyOperationInProgress(),pe(Ol,"RemoteStore received new credentials");const r=po(t);t.Ea.add(3),await Wc(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await np(t)}async function Mb(n,e){const t=be(n);e?(t.Ea.delete(2),await np(t)):e||(t.Ea.add(2),await Wc(t),t.Ra.set("Unknown"))}function Yc(n){return n.ma||(n.ma=(function(t,r,s){const o=be(t);return o.sa(),new Y7(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(n.datastore,n.asyncQueue,{Xo:nH.bind(null,n),t_:rH.bind(null,n),r_:iH.bind(null,n),H_:sH.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),A0(n)?S0(n):n.Ra.set("Unknown")):(await n.ma.stop(),s2(n))}))),n.ma}function ro(n){return n.fa||(n.fa=(function(t,r,s){const o=be(t);return o.sa(),new X7(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:lH.bind(null,n),r_:hH.bind(null,n),ta:uH.bind(null,n),na:cH.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await Qc(n)):(await n.fa.stop(),n.Ta.length>0&&(pe(Ol,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e,t,r,s,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new Vn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,o){const u=Date.now()+r,h=new I0(e,t,u,s,o);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xc(n,e){if(Jt("AsyncQueue",`${e}: ${n}`),ho(n))return new de(se.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{static emptySet(e){return new nc(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ee.comparator(t.key,r.key):(t,r)=>Ee.comparator(t.key,r.key),this.keyedMap=kf(),this.sortedSet=new bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof nc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new nc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(){this.ga=new bt(Ee.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Te(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class Ic{constructor(e,t,r,s,o,u,h,d,f){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(e,t,r,s,o){const u=[];return t.forEach((h=>{u.push({type:0,doc:h})})),new Ic(e,t,nc.emptySet(t),u,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fH{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class dH{constructor(){this.queries=OC(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const s=be(t),o=s.queries;s.queries=OC(),o.forEach(((u,h)=>{for(const d of h.Sa)d.onError(r)}))})(this,new de(se.ABORTED,"Firestore shutting down"))}}function OC(){return new Hs((n=>ZD(n)),Yd)}async function R0(n,e){const t=be(n);let r=3;const s=e.query;let o=t.queries.get(s);o?!o.ba()&&e.Da()&&(r=2):(o=new fH,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await t.onListen(s,!0);break;case 1:o.wa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(u){const h=Xc(u,`Initialization of query '${qu(e.query)}' failed`);return void e.onError(h)}t.queries.set(s,o),o.Sa.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&P0(t)}async function C0(n,e){const t=be(n),r=e.query;let s=3;const o=t.queries.get(r);if(o){const u=o.Sa.indexOf(e);u>=0&&(o.Sa.splice(u,1),o.Sa.length===0?s=e.Da()?0:1:!o.ba()&&e.Da()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function pH(n,e){const t=be(n);let r=!1;for(const s of e){const o=s.query,u=t.queries.get(o);if(u){for(const h of u.Sa)h.Fa(s)&&(r=!0);u.wa=s}}r&&P0(t)}function mH(n,e,t){const r=be(n),s=r.queries.get(e);if(s)for(const o of s.Sa)o.onError(t);r.queries.delete(e)}function P0(n){n.Ca.forEach((e=>{e.next()}))}var Vb,DC;(DC=Vb||(Vb={})).Ma="default",DC.Cache="cache";class x0{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ic(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Ic.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Vb.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gH{constructor(e,t){this.Qa=e,this.byteLength=t}$a(){return"metadata"in this.Qa}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e){this.serializer=e}$s(e){return Qi(this.serializer,e)}Us(e){return e.metadata.exists?TN(this.serializer,e.document,!1):St.newNoDocument(this.$s(e.metadata.name),this.Ks(e.metadata.readTime))}Ks(e){return Zt(e)}}class yH{constructor(e,t){this.Ua=e,this.serializer=t,this.Ka=[],this.Wa=[],this.collectionGroups=new Set,this.progress=u2(e)}get queries(){return this.Ka}get documents(){return this.Wa}Ga(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Qa.namedQuery)this.Ka.push(e.Qa.namedQuery);else if(e.Qa.documentMetadata){this.Wa.push({metadata:e.Qa.documentMetadata}),e.Qa.documentMetadata.exists||++t;const r=He.fromString(e.Qa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Qa.document&&(this.Wa[this.Wa.length-1].document=e.Qa.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,{...this.progress}):null}za(e){const t=new Map,r=new NC(this.serializer);for(const s of e)if(s.metadata.queries){const o=r.$s(s.metadata.name);for(const u of s.metadata.queries){const h=(t.get(u)||Le()).add(o);t.set(u,h)}}return t}async ja(e){const t=await q7(e,new NC(this.serializer),this.Wa,this.Ua.id),r=this.za(this.documents);for(const s of this.Ka)await H7(e,s,r.get(s.name));return this.progress.taskState="Success",{progress:this.progress,Ja:this.collectionGroups,Ha:t}}}function u2(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e){this.key=e}}class h2{constructor(e){this.key=e}}class f2{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Le(),this.mutatedKeys=Le(),this.eu=tN(e),this.tu=new nc(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new xC,s=t?t.tu:this.tu;let o=t?t.mutatedKeys:this.mutatedKeys,u=s,h=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,f=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((g,_)=>{const v=s.get(g),T=Xd(this.query,_)?_:null,w=!!v&&this.mutatedKeys.has(v.key),I=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let x=!1;v&&T?v.data.isEqual(T.data)?w!==I&&(r.track({type:3,doc:T}),x=!0):this.su(v,T)||(r.track({type:2,doc:T}),x=!0,(d&&this.eu(T,d)>0||f&&this.eu(T,f)<0)&&(h=!0)):!v&&T?(r.track({type:0,doc:T}),x=!0):v&&!T&&(r.track({type:1,doc:v}),x=!0,(d||f)&&(h=!0)),x&&(T?(u=u.add(T),o=I?o.add(g):o.delete(g)):(u=u.delete(g),o=o.delete(g)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),o=o.delete(g.key),r.track({type:1,doc:g})}return{tu:u,iu:r,Cs:h,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((g,_)=>(function(T,w){const I=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Rt:x})}};return I(T)-I(w)})(g.type,_.type)||this.eu(g.doc,_.doc))),this.ou(r),s=s??!1;const h=t&&!s?this._u():[],d=this.Xa.size===0&&this.current&&!s?1:0,f=d!==this.Za;return this.Za=d,u.length!==0||f?{snapshot:new Ic(this.query,e.tu,o,u,e.mutatedKeys,d===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new xC,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Le(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new h2(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new c2(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=Le();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Ic.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const mo="SyncEngine";class _H{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class vH{constructor(e){this.key=e,this.hu=!1}}class EH{constructor(e,t,r,s,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Hs((h=>ZD(h)),Yd),this.Iu=new Map,this.Eu=new Set,this.du=new bt(Ee.comparator),this.Au=new Map,this.Ru=new m0,this.Vu={},this.mu=new Map,this.fu=xl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function bH(n,e,t=!0){const r=$y(n);let s;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.lu()):s=await d2(r,e,t,!0),s}async function wH(n,e){const t=$y(n);await d2(t,e,!0,!1)}async function d2(n,e,t,r){const s=await Tc(n.localStore,ir(e)),o=s.targetId,u=n.sharedClientState.addLocalQueryTarget(o,t);let h;return r&&(h=await O0(n,e,o,u==="current",s.resumeToken)),n.isPrimaryClient&&t&&Hy(n.remoteStore,s),h}async function O0(n,e,t,r,s){n.pu=(_,v,T)=>(async function(I,x,H,V){let F=x.view.ru(H);F.Cs&&(F=await jg(I.localStore,x.query,!1).then((({documents:N})=>x.view.ru(N,F))));const W=V&&V.targetChanges.get(x.targetId),j=V&&V.targetMismatches.get(x.targetId)!=null,$=x.view.applyChanges(F,I.isPrimaryClient,W,j);return Lb(I,x.targetId,$.au),$.snapshot})(n,_,v,T);const o=await jg(n.localStore,e,!0),u=new f2(e,o.Qs),h=u.ru(o.documents),d=ep.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),f=u.applyChanges(h,n.isPrimaryClient,d);Lb(n,t,f.au);const g=new _H(e,t,u);return n.Tu.set(e,g),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),f.snapshot}async function TH(n,e,t){const r=be(n),s=r.Tu.get(e),o=r.Iu.get(s.targetId);if(o.length>1)return r.Iu.set(s.targetId,o.filter((u=>!Yd(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Sc(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),t&&Ac(r.remoteStore,s.targetId),Rc(r,s.targetId)})).catch(co)):(Rc(r,s.targetId),await Sc(r.localStore,s.targetId,!0))}async function SH(n,e){const t=be(n),r=t.Tu.get(e),s=t.Iu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Ac(t.remoteStore,r.targetId))}async function AH(n,e,t){const r=M0(n);try{const s=await(function(u,h){const d=be(u),f=nt.now(),g=h.reduce(((T,w)=>T.add(w.key)),Le());let _,v;return d.persistence.runTransaction("Locally write mutations","readwrite",(T=>{let w=dr(),I=Le();return d.Ns.getEntries(T,g).next((x=>{w=x,w.forEach(((H,V)=>{V.isValidDocument()||(I=I.add(H))}))})).next((()=>d.localDocuments.getOverlayedDocuments(T,w))).next((x=>{_=x;const H=[];for(const V of h){const F=K8(V,_.get(V.key).overlayedDocument);F!=null&&H.push(new $s(V.key,F,HD(F.value.mapValue),xt.exists(!0)))}return d.mutationQueue.addMutationBatch(T,f,H,h)})).next((x=>{v=x;const H=x.applyToLocalDocumentSet(_,I);return d.documentOverlayCache.saveOverlays(T,x.batchId,H)}))})).then((()=>({batchId:v.batchId,changes:rN(_)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(u,h,d){let f=u.Vu[u.currentUser.toKey()];f||(f=new bt(ke)),f=f.insert(h,d),u.Vu[u.currentUser.toKey()]=f})(r,s.batchId,t),await Gs(r,s.changes),await Qc(r.remoteStore)}catch(s){const o=Xc(s,"Failed to persist write");t.reject(o)}}async function p2(n,e){const t=be(n);try{const r=await j7(t.localStore,e);e.targetChanges.forEach(((s,o)=>{const u=t.Au.get(o);u&&(Ae(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?u.hu=!0:s.modifiedDocuments.size>0?Ae(u.hu,14607):s.removedDocuments.size>0&&(Ae(u.hu,42227),u.hu=!1))})),await Gs(t,r,e)}catch(r){await co(r)}}function kC(n,e,t){const r=be(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.Tu.forEach(((o,u)=>{const h=u.view.va(e);h.snapshot&&s.push(h.snapshot)})),(function(u,h){const d=be(u);d.onlineState=h;let f=!1;d.queries.forEach(((g,_)=>{for(const v of _.Sa)v.va(h)&&(f=!0)})),f&&P0(d)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function IH(n,e,t){const r=be(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Au.get(e),o=s&&s.key;if(o){let u=new bt(Ee.comparator);u=u.insert(o,St.newNoDocument(o,Ie.min()));const h=Le().add(o),d=new Zd(Ie.min(),new Map,new bt(ke),u,h);await p2(r,d),r.du=r.du.remove(o),r.Au.delete(e),k0(r)}else await Sc(r.localStore,e,!1).then((()=>Rc(r,e,t))).catch(co)}async function RH(n,e){const t=be(n),r=e.batch.batchId;try{const s=await F7(t.localStore,e);N0(t,r,null),D0(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Gs(t,s)}catch(s){await co(s)}}async function CH(n,e,t){const r=be(n);try{const s=await(function(u,h){const d=be(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let g;return d.mutationQueue.lookupMutationBatch(f,h).next((_=>(Ae(_!==null,37113),g=_.keys(),d.mutationQueue.removeMutationBatch(f,_)))).next((()=>d.mutationQueue.performConsistencyCheck(f))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(f,g,h))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,g))).next((()=>d.localDocuments.getDocuments(f,g)))}))})(r.localStore,e);N0(r,e,t),D0(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Gs(r,s)}catch(s){await co(s)}}async function PH(n,e){const t=be(n);po(t.remoteStore)||pe(mo,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await(function(u){const h=be(u);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(d=>h.mutationQueue.getHighestUnacknowledgedBatchId(d)))})(t.localStore);if(r===Ha)return void e.resolve();const s=t.mu.get(r)||[];s.push(e),t.mu.set(r,s)}catch(r){const s=Xc(r,"Initialization of waitForPendingWrites() operation failed");e.reject(s)}}function D0(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function N0(n,e,t){const r=be(n);let s=r.Vu[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(t?o.reject(t):o.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function Rc(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||m2(n,r)}))}function m2(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Ac(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),k0(n))}function Lb(n,e,t){for(const r of t)r instanceof c2?(n.Ru.addReference(r.key,e),xH(n,r)):r instanceof h2?(pe(mo,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||m2(n,r.key)):Te(19791,{wu:r})}function xH(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(pe(mo,"New document in limbo: "+t),n.Eu.add(r),k0(n))}function k0(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Ee(He.fromString(e)),r=n.fu.next();n.Au.set(r,new vH(t)),n.du=n.du.insert(t,r),Hy(n.remoteStore,new Ps(ir($c(t.path)),r,"TargetPurposeLimboResolution",hr.ce))}}async function Gs(n,e,t){const r=be(n),s=[],o=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,d)=>{u.push(r.pu(d,e,t).then((f=>{if((f||t)&&r.isPrimaryClient){const g=f?!f.fromCache:t?.targetChanges.get(d.targetId)?.current;r.sharedClientState.updateQueryState(d.targetId,g?"current":"not-current")}if(f){s.push(f);const g=v0.As(d.targetId,f);o.push(g)}})))})),await Promise.all(u),r.Pu.H_(s),await(async function(d,f){const g=be(d);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>X.forEach(f,(v=>X.forEach(v.Es,(T=>g.persistence.referenceDelegate.addReference(_,v.targetId,T))).next((()=>X.forEach(v.ds,(T=>g.persistence.referenceDelegate.removeReference(_,v.targetId,T)))))))))}catch(_){if(!ho(_))throw _;pe(E0,"Failed to update sequence numbers: "+_)}for(const _ of f){const v=_.targetId;if(!_.fromCache){const T=g.Ms.get(v),w=T.snapshotVersion,I=T.withLastLimboFreeSnapshotVersion(w);g.Ms=g.Ms.insert(v,I)}}})(r.localStore,o))}async function OH(n,e){const t=be(n);if(!t.currentUser.isEqual(e)){pe(mo,"User change. New user:",e.toKey());const r=await GN(t.localStore,e);t.currentUser=e,(function(o,u){o.mu.forEach((h=>{h.forEach((d=>{d.reject(new de(se.CANCELLED,u))}))})),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Gs(t,r.Ls)}}function DH(n,e){const t=be(n),r=t.Au.get(e);if(r&&r.hu)return Le().add(r.key);{let s=Le();const o=t.Iu.get(e);if(!o)return s;for(const u of o){const h=t.Tu.get(u);s=s.unionWith(h.view.nu)}return s}}async function NH(n,e){const t=be(n),r=await jg(t.localStore,e.query,!0),s=e.view.cu(r);return t.isPrimaryClient&&Lb(t,e.targetId,s.au),s}async function kH(n,e){const t=be(n);return YN(t.localStore,e).then((r=>Gs(t,r)))}async function MH(n,e,t,r){const s=be(n),o=await(function(h,d){const f=be(h),g=be(f.mutationQueue);return f.persistence.runTransaction("Lookup mutation documents","readonly",(_=>g.er(_,d).next((v=>v?f.localDocuments.getDocuments(_,v):X.resolve(null)))))})(s.localStore,e);o!==null?(t==="pending"?await Qc(s.remoteStore):t==="acknowledged"||t==="rejected"?(N0(s,e,r||null),D0(s,e),(function(h,d){be(be(h).mutationQueue).ir(d)})(s.localStore,e)):Te(6720,"Unknown batchState",{Su:t}),await Gs(s,o)):pe(mo,"Cannot apply mutation batch with id: "+e)}async function VH(n,e){const t=be(n);if($y(t),M0(t),e===!0&&t.gu!==!0){const r=t.sharedClientState.getAllActiveQueryTargets(),s=await MC(t,r.toArray());t.gu=!0,await Mb(t.remoteStore,!0);for(const o of s)Hy(t.remoteStore,o)}else if(e===!1&&t.gu!==!1){const r=[];let s=Promise.resolve();t.Iu.forEach(((o,u)=>{t.sharedClientState.isLocalQueryTarget(u)?r.push(u):s=s.then((()=>(Rc(t,u),Sc(t.localStore,u,!0)))),Ac(t.remoteStore,u)})),await s,await MC(t,r),(function(u){const h=be(u);h.Au.forEach(((d,f)=>{Ac(h.remoteStore,f)})),h.Ru.Jr(),h.Au=new Map,h.du=new bt(Ee.comparator)})(t),t.gu=!1,await Mb(t.remoteStore,!1)}}async function MC(n,e,t){const r=be(n),s=[],o=[];for(const u of e){let h;const d=r.Iu.get(u);if(d&&d.length!==0){h=await Tc(r.localStore,ir(d[0]));for(const f of d){const g=r.Tu.get(f),_=await NH(r,g);_.snapshot&&o.push(_.snapshot)}}else{const f=await QN(r.localStore,u);h=await Tc(r.localStore,f),await O0(r,g2(f),u,!1,h.resumeToken)}s.push(h)}return r.Pu.H_(o),s}function g2(n){return JD(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function LH(n){return(function(t){return be(be(t).persistence).Ts()})(be(n).localStore)}async function UH(n,e,t,r){const s=be(n);if(s.gu)return void pe(mo,"Ignoring unexpected query state notification.");const o=s.Iu.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{const u=await YN(s.localStore,eN(o[0])),h=Zd.createSynthesizedRemoteEventForCurrentChange(e,t==="current",jt.EMPTY_BYTE_STRING);await Gs(s,u,h);break}case"rejected":await Sc(s.localStore,e,!0),Rc(s,e,r);break;default:Te(64155,t)}}async function BH(n,e,t){const r=$y(n);if(r.gu){for(const s of e){if(r.Iu.has(s)&&r.sharedClientState.isActiveQueryTarget(s)){pe(mo,"Adding an already active target "+s);continue}const o=await QN(r.localStore,s),u=await Tc(r.localStore,o);await O0(r,g2(o),u.targetId,!1,u.resumeToken),Hy(r.remoteStore,u)}for(const s of t)r.Iu.has(s)&&await Sc(r.localStore,s,!1).then((()=>{Ac(r.remoteStore,s),Rc(r,s)})).catch(co)}}function $y(n){const e=be(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=p2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=DH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=IH.bind(null,e),e.Pu.H_=pH.bind(null,e.eventManager),e.Pu.yu=mH.bind(null,e.eventManager),e}function M0(n){const e=be(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=RH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=CH.bind(null,e),e}function FH(n,e,t){const r=be(n);(async function(o,u,h){try{const d=await u.getMetadata();if(await(function(T,w){const I=be(T),x=Zt(w.createTime);return I.persistence.runTransaction("hasNewerBundle","readonly",(H=>I.Ii.getBundleMetadata(H,w.id))).then((H=>!!H&&H.createTime.compareTo(x)>=0))})(o.localStore,d))return await u.close(),h._completeWith((function(T){return{taskState:"Success",documentsLoaded:T.totalDocuments,bytesLoaded:T.totalBytes,totalDocuments:T.totalDocuments,totalBytes:T.totalBytes}})(d)),Promise.resolve(new Set);h._updateProgress(u2(d));const f=new yH(d,u.serializer);let g=await u.bu();for(;g;){const v=await f.Ga(g);v&&h._updateProgress(v),g=await u.bu()}const _=await f.ja(o.localStore);return await Gs(o,_.Ha,void 0),await(function(T,w){const I=be(T);return I.persistence.runTransaction("Save bundle","readwrite",(x=>I.Ii.saveBundleMetadata(x,w)))})(o.localStore,d),h._completeWith(_.progress),Promise.resolve(_.Ja)}catch(d){return es(mo,`Loading bundle failed with ${d}`),h._failWith(d),Promise.resolve(new Set)}})(r,e,t).then((s=>{r.sharedClientState.notifyBundleLoaded(s)}))}class Td{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=tp(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return $N(this.persistence,new HN,e.initialUser,this.serializer)}Cu(e){return new g0(qy.mi,this.serializer)}Du(e){return new t2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Td.provider={build:()=>new Td};class jH extends Td{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ae(this.persistence.referenceDelegate instanceof Fg,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new UN(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Hn.withCacheSize(this.cacheSizeBytes):Hn.DEFAULT;return new g0((r=>Fg.mi(r,t)),this.serializer)}}class y2 extends Td{constructor(e,t,r){super(),this.xu=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await M0(this.xu.syncEngine),await Qc(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return $N(this.persistence,new HN,e.initialUser,this.serializer)}Fu(e,t){const r=this.persistence.referenceDelegate.garbageCollector;return new UN(r,e.asyncQueue,t)}Mu(e,t){const r=new Yq(t,this.persistence);return new Qq(e.asyncQueue,r)}Cu(e){const t=_0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Hn.withCacheSize(this.cacheSizeBytes):Hn.DEFAULT;return new y0(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,n2(),hg(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new t2}}class zH extends y2{constructor(e,t){super(e,t,!1),this.xu=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.xu.syncEngine;this.sharedClientState instanceof UE&&(this.sharedClientState.syncEngine={Co:MH.bind(null,t),vo:UH.bind(null,t),Fo:BH.bind(null,t),Ts:LH.bind(null,t),Do:kH.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ji((async r=>{await VH(this.xu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))}Du(e){const t=n2();if(!UE.v(t))throw new de(se.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=_0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new UE(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Sd{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>kC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=OH.bind(null,this.syncEngine),await Mb(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new dH})()}createDatastore(e){const t=tp(e.databaseInfo.databaseId),r=(function(o){return new Q7(o)})(e.databaseInfo);return(function(o,u,h,d){return new Z7(o,u,h,d)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,s,o,u,h){return new tH(r,s,o,u,h)})(this.localStore,this.datastore,e.asyncQueue,(t=>kC(this.syncEngine,t,0)),(function(){return RC.v()?new RC:new $7})())}createSyncEngine(e,t){return(function(s,o,u,h,d,f,g){const _=new EH(s,o,u,h,d,f);return g&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=be(t);pe(Ol,"RemoteStore shutting down."),r.Ea.add(5),await Wc(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Sd.provider={build:()=>new Sd};function VC(n,e=10240){let t=0;return{async read(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Jt("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qH{constructor(e,t){this.Bu=e,this.serializer=t,this.metadata=new Vn,this.buffer=new Uint8Array,this.Lu=(function(){return new TextDecoder("utf-8")})(),this.ku().then((r=>{r&&r.$a()?this.metadata.resolve(r.Qa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r?.Qa)}`))}),(r=>this.metadata.reject(r)))}close(){return this.Bu.cancel()}async getMetadata(){return this.metadata.promise}async bu(){return await this.getMetadata(),this.ku()}async ku(){const e=await this.qu();if(e===null)return null;const t=this.Lu.decode(e),r=Number(t);isNaN(r)&&this.Qu(`length string (${t}) is not valid number`);const s=await this.$u(r);return new gH(JSON.parse(s),e.length+r)}Uu(){return this.buffer.findIndex((e=>e===123))}async qu(){for(;this.Uu()<0&&!await this.Ku(););if(this.buffer.length===0)return null;const e=this.Uu();e<0&&this.Qu("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async $u(e){for(;this.buffer.length<e;)await this.Ku()&&this.Qu("Reached the end of bundle when more is expected.");const t=this.Lu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}Qu(e){throw this.Bu.cancel(),new Error(`Invalid bundle format: ${e}`)}async Ku(){const e=await this.Bu.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HH{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new de(se.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await(async function(s,o){const u=be(s),h={documents:o.map((_=>bd(u.serializer,_)))},d=await u.Ho("BatchGetDocuments",u.serializer.databaseId,He.emptyPath(),h,o.length),f=new Map;d.forEach((_=>{const v=n7(u.serializer,_);f.set(v.key.toString(),v)}));const g=[];return o.forEach((_=>{const v=f.get(_.toString());Ae(!!v,55234,{key:_}),g.push(v)})),g})(this.datastore,e);return t.forEach((r=>this.recordVersion(r))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Kc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((t,r)=>{const s=Ee.fromPath(r);this.mutations.push(new a0(s,this.precondition(s)))})),await(async function(r,s){const o=be(r),u={writes:s.map((h=>wd(o.serializer,h)))};await o.Go("Commit",o.serializer.databaseId,He.emptyPath(),u)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Te(50498,{Gu:e.constructor.name});t=Ie.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new de(se.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ie.min())?xt.exists(!1):xt.updateTime(t):xt.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ie.min()))throw new de(se.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return xt.updateTime(t)}return xt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $H{constructor(e,t,r,s,o){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=s,this.deferred=o,this.zu=r.maxAttempts,this.M_=new w0(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const e=new HH(this.datastore),t=this.Hu(e);t&&t.then((r=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(r)})).catch((s=>{this.Yu(s)}))))})).catch((r=>{this.Yu(r)}))}))}Hu(e){try{const t=this.updateFunction(e);return!Kd(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(e)}Zu(e){if(e?.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!dN(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io="FirestoreClient";class GH{constructor(e,t,r,s,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=An.UNAUTHENTICATED,this.clientId=Gw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async u=>{pe(io,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(pe(io,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Xc(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function FE(n,e){n.asyncQueue.verifyOperationInProgress(),pe(io,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async s=>{r.isEqual(s)||(await GN(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function LC(n,e){n.asyncQueue.verifyOperationInProgress();const t=await V0(n);pe(io,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>PC(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,s)=>PC(e.remoteStore,s))),n._onlineComponents=e}async function V0(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){pe(io,"Using user provided OfflineComponentProvider");try{await FE(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(s){return s.name==="FirebaseError"?s.code===se.FAILED_PRECONDITION||s.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(t))throw t;es("Error using user provided cache. Falling back to memory cache: "+t),await FE(n,new Td)}}else pe(io,"Using default OfflineComponentProvider"),await FE(n,new jH(void 0));return n._offlineComponents}async function Ky(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(pe(io,"Using user provided OnlineComponentProvider"),await LC(n,n._uninitializedComponentsProvider._online)):(pe(io,"Using default OnlineComponentProvider"),await LC(n,new Sd))),n._onlineComponents}function _2(n){return V0(n).then((e=>e.persistence))}function L0(n){return V0(n).then((e=>e.localStore))}function v2(n){return Ky(n).then((e=>e.remoteStore))}function U0(n){return Ky(n).then((e=>e.syncEngine))}function KH(n){return Ky(n).then((e=>e.datastore))}async function Cc(n){const e=await Ky(n),t=e.eventManager;return t.onListen=bH.bind(null,e.syncEngine),t.onUnlisten=TH.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=wH.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=SH.bind(null,e.syncEngine),t}function WH(n){return n.asyncQueue.enqueue((async()=>{const e=await _2(n),t=await v2(n);return e.setNetworkEnabled(!0),(function(s){const o=be(s);return o.Ea.delete(0),np(o)})(t)}))}function QH(n){return n.asyncQueue.enqueue((async()=>{const e=await _2(n),t=await v2(n);return e.setNetworkEnabled(!1),(async function(s){const o=be(s);o.Ea.add(0),await Wc(o),o.Ra.set("Offline")})(t)}))}function YH(n,e){const t=new Vn;return n.asyncQueue.enqueueAndForget((async()=>(async function(s,o,u){try{const h=await(function(f,g){const _=be(f);return _.persistence.runTransaction("read document","readonly",(v=>_.localDocuments.getDocument(v,g)))})(s,o);h.isFoundDocument()?u.resolve(h):h.isNoDocument()?u.resolve(null):u.reject(new de(se.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const d=Xc(h,`Failed to get document '${o} from cache`);u.reject(d)}})(await L0(n),e,t))),t.promise}function E2(n,e,t={}){const r=new Vn;return n.asyncQueue.enqueueAndForget((async()=>(function(o,u,h,d,f){const g=new Gy({next:v=>{g.Nu(),u.enqueueAndForget((()=>C0(o,_)));const T=v.docs.has(h);!T&&v.fromCache?f.reject(new de(se.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&v.fromCache&&d&&d.source==="server"?f.reject(new de(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(v)},error:v=>f.reject(v)}),_=new x0($c(h.path),g,{includeMetadataChanges:!0,qa:!0});return R0(o,_)})(await Cc(n),n.asyncQueue,e,t,r))),r.promise}function XH(n,e){const t=new Vn;return n.asyncQueue.enqueueAndForget((async()=>(async function(s,o,u){try{const h=await jg(s,o,!0),d=new f2(o,h.Qs),f=d.ru(h.documents),g=d.applyChanges(f,!1);u.resolve(g.snapshot)}catch(h){const d=Xc(h,`Failed to execute query '${o} against cache`);u.reject(d)}})(await L0(n),e,t))),t.promise}function b2(n,e,t={}){const r=new Vn;return n.asyncQueue.enqueueAndForget((async()=>(function(o,u,h,d,f){const g=new Gy({next:v=>{g.Nu(),u.enqueueAndForget((()=>C0(o,_))),v.fromCache&&d.source==="server"?f.reject(new de(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(v)},error:v=>f.reject(v)}),_=new x0(h,g,{includeMetadataChanges:!0,qa:!0});return R0(o,_)})(await Cc(n),n.asyncQueue,e,t,r))),r.promise}function JH(n,e){const t=new Gy(e);return n.asyncQueue.enqueueAndForget((async()=>(function(s,o){be(s).Ca.add(o),o.next()})(await Cc(n),t))),()=>{t.Nu(),n.asyncQueue.enqueueAndForget((async()=>(function(s,o){be(s).Ca.delete(o)})(await Cc(n),t)))}}function ZH(n,e,t,r){const s=(function(u,h){let d;return d=typeof u=="string"?mN().encode(u):u,(function(g,_){return new qH(g,_)})((function(g,_){if(g instanceof Uint8Array)return VC(g,_);if(g instanceof ArrayBuffer)return VC(new Uint8Array(g),_);if(g instanceof ReadableStream)return g.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")})(d),h)})(t,tp(e));n.asyncQueue.enqueueAndForget((async()=>{FH(await U0(n),s,r)}))}function e$(n,e){return n.asyncQueue.enqueue((async()=>(function(r,s){const o=be(r);return o.persistence.runTransaction("Get named query","readonly",(u=>o.Ii.getNamedQuery(u,s)))})(await L0(n),e)))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w2(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2="firestore.googleapis.com",BC=!0;class FC{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new de(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=T2,this.ssl=BC}else this.host=e.host,this.ssl=e.ssl??BC;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=kN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<b7)throw new de(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}gD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=w2(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new de(se.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new de(se.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new de(se.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rp{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FC({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FC(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Lq;switch(r.type){case"firstParty":return new jq(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new de(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=UC.get(t);r&&(pe("ComponentProvider","Removing Datastore"),UC.delete(t),r.terminate())})(this),Promise.resolve()}}function t$(n,e,t,r={}){n=Je(n,rp);const s=Uc(e),o=n._getSettings(),u={...o,emulatorOptions:n._getEmulatorOptions()},h=`${e}:${t}`;s&&($x(`https://${h}`),Gx("Firestore",!0)),o.host!==T2&&o.host!==h&&es("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...o,host:h,ssl:s,emulatorOptions:r};if(!Ms(d,u)&&(n._setSettings(d),r.mockUserToken)){let f,g;if(typeof r.mockUserToken=="string")f=r.mockUserToken,g=An.MOCK_USER;else{f=jB(r.mockUserToken,n._app?.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new de(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new An(_)}n._authCredentials=new Uq(new pD(f,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sr=class S2{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new S2(this.firestore,e,this._query)}},Et=class Lf{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $a(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Lf(this.firestore,e,this._key)}toJSON(){return{type:Lf._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Gd(t,Lf._jsonSchema))return new Lf(e,r||null,new Ee(He.fromString(t.referencePath)))}};Et._jsonSchemaVersion="firestore/documentReference/1.0",Et._jsonSchema={type:hn("string",Et._jsonSchemaVersion),referencePath:hn("string")};let $a=class A2 extends sr{constructor(e,t,r){super(e,t,$c(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Et(this.firestore,null,new Ee(e))}withConverter(e){return new A2(this.firestore,e,this._path)}};function I2(n,e,...t){if(n=Pe(n),Kw("collection","path",e),n instanceof rp){const r=He.fromString(e,...t);return C1(r),new $a(n,null,r)}{if(!(n instanceof Et||n instanceof $a))throw new de(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(He.fromString(e,...t));return C1(r),new $a(n.firestore,null,r)}}function n$(n,e){if(n=Je(n,rp),Kw("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new de(se.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new sr(n,null,(function(r){return new qs(He.emptyPath(),r)})(e))}function $g(n,e,...t){if(n=Pe(n),arguments.length===1&&(e=Gw.newId()),Kw("doc","path",e),n instanceof rp){const r=He.fromString(e,...t);return R1(r),new Et(n,null,new Ee(r))}{if(!(n instanceof Et||n instanceof $a))throw new de(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(He.fromString(e,...t));return R1(r),new Et(n.firestore,n instanceof $a?n.converter:null,new Ee(r))}}function R2(n,e){return n=Pe(n),e=Pe(e),(n instanceof Et||n instanceof $a)&&(e instanceof Et||e instanceof $a)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function C2(n,e){return n=Pe(n),e=Pe(e),n instanceof sr&&e instanceof sr&&n.firestore===e.firestore&&Yd(n._query,e._query)&&n.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC="AsyncQueue";class zC{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new w0(this,"async_queue_retry"),this._c=()=>{const r=hg();r&&pe(jC,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=hg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=hg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Vn;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ho(e))throw e;pe(jC,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Jt("INTERNAL UNHANDLED ERROR: ",qC(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=I0.createAndSchedule(this,e,t,r,(o=>this.hc(o)));return this.tc.push(s),s}uc(){this.nc&&Te(47125,{Pc:qC(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function qC(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ub(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const s=t;for(const o of r)if(o in s&&typeof s[o]=="function")return!0;return!1})(n,["next","error","complete"])}class r${constructor(){this._progressObserver={},this._taskCompletionResolver=new Vn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i$=-1;let en=class extends rp{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new zC,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new zC(e),this._firestoreClient=void 0,await e}}};function Wn(n){if(n._terminated)throw new de(se.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||P2(n),n._firestoreClient}function P2(n){const e=n._freezeSettings(),t=(function(s,o,u,h){return new A8(s,o,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,w2(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new GH(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(s){const o=s?._online.build();return{_offline:s?._offline.build(o),_online:o}})(n._componentsProvider))}function s$(n,e){es("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings();return x2(n,Sd.provider,{build:r=>new y2(r,t.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}async function a$(n){es("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings();x2(n,Sd.provider,{build:t=>new zH(t,e.cacheSizeBytes)})}function x2(n,e,t){if((n=Je(n,en))._firestoreClient||n._terminated)throw new de(se.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new de(se.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},P2(n)}function o$(n){if(n._initialized&&!n._terminated)throw new de(se.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Vn;return n._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await(async function(r){if(!Wi.v())return Promise.resolve();const s=r+qN;await Wi.delete(s)})(_0(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}})),e.promise}function l$(n){return(function(t){const r=new Vn;return t.asyncQueue.enqueueAndForget((async()=>PH(await U0(t),r))),r.promise})(Wn(n=Je(n,en)))}function u$(n){return WH(Wn(n=Je(n,en)))}function c$(n){return QH(Wn(n=Je(n,en)))}function h$(n,e){const t=Wn(n=Je(n,en)),r=new r$;return ZH(t,n._databaseId,e,r),r}function f$(n,e){return e$(Wn(n=Je(n,en)),e).then((t=>t?new sr(n,null,t.query):null))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gn(jt.fromBase64String(e))}catch(t){throw new de(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Gn(jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Gn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Gd(e,Gn._jsonSchema))return Gn.fromBase64String(e.bytes)}}Gn._jsonSchemaVersion="firestore/bytes/1.0",Gn._jsonSchema={type:hn("string",Gn._jsonSchemaVersion),bytes:hn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let so=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new de(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vl=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new de(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new de(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:pi._jsonSchemaVersion}}static fromJSON(e){if(Gd(e,pi._jsonSchema))return new pi(e.latitude,e.longitude)}}pi._jsonSchemaVersion="firestore/geoPoint/1.0",pi._jsonSchema={type:hn("string",pi._jsonSchemaVersion),latitude:hn("number"),longitude:hn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Yi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Gd(e,Yi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Yi(e.vectorValues);throw new de(se.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Yi._jsonSchemaVersion="firestore/vectorValue/1.0",Yi._jsonSchema={type:hn("string",Yi._jsonSchemaVersion),vectorValues:hn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d$=/^__.*__$/;class p${constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new $s(e,this.data,this.fieldMask,t,this.fieldTransforms):new Gc(e,this.data,t,this.fieldTransforms)}}class O2{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new $s(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function D2(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ac:n})}}class Wy{constructor(e,t,r,s,o,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Wy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Gg(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(D2(this.Ac)&&d$.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class m${constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||tp(e)}Cc(e,t,r,s=!1){return new Wy({Ac:e,methodName:t,Dc:r,path:Pt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ll(n){const e=n._freezeSettings(),t=tp(n._databaseId);return new m$(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Qy(n,e,t,r,s,o={}){const u=n.Cc(o.merge||o.mergeFields?2:0,e,t,s);$0("Data must be an object, but it was:",u,r);const h=M2(r,u);let d,f;if(o.merge)d=new fr(u.fieldMask),f=u.fieldTransforms;else if(o.mergeFields){const g=[];for(const _ of o.mergeFields){const v=Bb(e,_,t);if(!u.contains(v))throw new de(se.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);L2(g,v)||g.push(v)}d=new fr(g),f=u.fieldTransforms.filter((_=>d.covers(_.field)))}else d=null,f=u.fieldTransforms;return new p$(new Mn(h),d,f)}class ip extends Vl{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ip}}function N2(n,e,t){return new Wy({Ac:3,Dc:e.settings.Dc,methodName:n._methodName,fc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class B0 extends Vl{_toFieldTransform(e){return new Jd(e.path,new Ec)}isEqual(e){return e instanceof B0}}class F0 extends Vl{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=N2(this,e,!0),r=this.vc.map((o=>Ul(o,t))),s=new Il(r);return new Jd(e.path,s)}isEqual(e){return e instanceof F0&&Ms(this.vc,e.vc)}}class j0 extends Vl{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=N2(this,e,!0),r=this.vc.map((o=>Ul(o,t))),s=new Rl(r);return new Jd(e.path,s)}isEqual(e){return e instanceof j0&&Ms(this.vc,e.vc)}}class z0 extends Vl{constructor(e,t){super(e),this.Fc=t}_toFieldTransform(e){const t=new bc(e.serializer,aN(e.serializer,this.Fc));return new Jd(e.path,t)}isEqual(e){return e instanceof z0&&this.Fc===e.Fc}}function q0(n,e,t,r){const s=n.Cc(1,e,t);$0("Data must be an object, but it was:",s,r);const o=[],u=Mn.empty();fo(r,((d,f)=>{const g=G0(e,d,t);f=Pe(f);const _=s.yc(g);if(f instanceof ip)o.push(g);else{const v=Ul(f,_);v!=null&&(o.push(g),u.set(g,v))}}));const h=new fr(o);return new O2(u,h,s.fieldTransforms)}function H0(n,e,t,r,s,o){const u=n.Cc(1,e,t),h=[Bb(e,r,t)],d=[s];if(o.length%2!=0)throw new de(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<o.length;v+=2)h.push(Bb(e,o[v])),d.push(o[v+1]);const f=[],g=Mn.empty();for(let v=h.length-1;v>=0;--v)if(!L2(f,h[v])){const T=h[v];let w=d[v];w=Pe(w);const I=u.yc(T);if(w instanceof ip)f.push(T);else{const x=Ul(w,I);x!=null&&(f.push(T),g.set(T,x))}}const _=new fr(f);return new O2(g,_,u.fieldTransforms)}function k2(n,e,t,r=!1){return Ul(t,n.Cc(r?4:3,e))}function Ul(n,e){if(V2(n=Pe(n)))return $0("Unsupported field value:",e,n),M2(n,e);if(n instanceof Vl)return(function(r,s){if(!D2(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,s){const o=[];let u=0;for(const h of r){let d=Ul(h,s.wc(u));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),u++}return{arrayValue:{values:o}}})(n,e)}return(function(r,s){if((r=Pe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return aN(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=nt.fromDate(r);return{timestampValue:wc(s.serializer,o)}}if(r instanceof nt){const o=new nt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:wc(s.serializer,o)}}if(r instanceof pi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Gn)return{bytesValue:_N(s.serializer,r._byteString)};if(r instanceof Et){const o=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw s.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:h0(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Yi)return(function(u,h){return{mapValue:{fields:{[e0]:{stringValue:t0},[yc]:{arrayValue:{values:u.toArray().map((f=>{if(typeof f!="number")throw h.Sc("VectorValues must only contain numeric values.");return s0(h.serializer,f)}))}}}}}})(r,s);throw s.Sc(`Unsupported field value: ${Oy(r)}`)})(n,e)}function M2(n,e){const t={};return MD(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fo(n,((r,s)=>{const o=Ul(s,e.mc(r));o!=null&&(t[r]=o)})),{mapValue:{fields:t}}}function V2(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof nt||n instanceof pi||n instanceof Gn||n instanceof Et||n instanceof Vl||n instanceof Yi)}function $0(n,e,t){if(!V2(t)||!yD(t)){const r=Oy(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function Bb(n,e,t){if((e=Pe(e))instanceof so)return e._internalPath;if(typeof e=="string")return G0(n,e);throw Gg("Field path arguments must be of type string or ",n,!1,void 0,t)}const g$=new RegExp("[~\\*/\\[\\]]");function G0(n,e,t){if(e.search(g$)>=0)throw Gg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new so(...e.split("."))._internalPath}catch{throw Gg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Gg(n,e,t,r,s){const o=r&&!r.isEmpty(),u=s!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(o||u)&&(d+=" (found",o&&(d+=` in field ${r}`),u&&(d+=` in document ${s}`),d+=")"),new de(se.INVALID_ARGUMENT,h+n+d)}function L2(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,t,r,s,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Et(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new y$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Yy("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class y$ extends Ad{data(){return super.data()}}function Yy(n,e){return typeof e=="string"?G0(n,e):e instanceof so?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U2(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new de(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class K0{}class sp extends K0{}function ka(n,e,...t){let r=[];e instanceof K0&&r.push(e),r=r.concat(t),(function(o){const u=o.filter((d=>d instanceof W0)).length,h=o.filter((d=>d instanceof Xy)).length;if(u>1||u>0&&h>0)throw new de(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)n=s._apply(n);return n}class Xy extends sp{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Xy(e,t,r)}_apply(e){const t=this._parse(e);return F2(e._query,t),new sr(e.firestore,e.converter,Ab(e._query,t))}_parse(e){const t=Ll(e.firestore);return(function(o,u,h,d,f,g,_){let v;if(f.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new de(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){$C(_,g);const w=[];for(const I of _)w.push(HC(d,o,I));v={arrayValue:{values:w}}}else v=HC(d,o,_)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||$C(_,g),v=k2(h,u,_,g==="in"||g==="not-in");return Ge.create(f,g,v)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function _$(n,e,t){const r=e,s=Yy("where",n);return Xy._create(s,r,t)}class W0 extends K0{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new W0(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:lt.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(s,o){let u=s;const h=o.getFlattenedFilters();for(const d of h)F2(u,d),u=Ab(u,d)})(e._query,t),new sr(e.firestore,e.converter,Ab(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Q0 extends sp{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Q0(e,t)}_apply(e){const t=(function(s,o,u){if(s.startAt!==null)throw new de(se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new de(se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ed(o,u)})(e._query,this._field,this._direction);return new sr(e.firestore,e.converter,(function(s,o){const u=s.explicitOrderBy.concat([o]);return new qs(s.path,s.collectionGroup,u,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(e._query,t))}}function v$(n,e="asc"){const t=e,r=Yy("orderBy",n);return Q0._create(r,t)}class Jy extends sp{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Jy(e,t,r)}_apply(e){return new sr(e.firestore,e.converter,Vg(e._query,this._limit,this._limitType))}}function E$(n){return _D("limit",n),Jy._create("limit",n,"F")}function b$(n){return _D("limitToLast",n),Jy._create("limitToLast",n,"L")}class Zy extends sp{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Zy(e,t,r)}_apply(e){const t=B2(e,this.type,this._docOrFields,this._inclusive);return new sr(e.firestore,e.converter,(function(s,o){return new qs(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,o,s.endAt)})(e._query,t))}}function w$(...n){return Zy._create("startAt",n,!0)}function T$(...n){return Zy._create("startAfter",n,!1)}class e_ extends sp{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new e_(e,t,r)}_apply(e){const t=B2(e,this.type,this._docOrFields,this._inclusive);return new sr(e.firestore,e.converter,(function(s,o){return new qs(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,o)})(e._query,t))}}function S$(...n){return e_._create("endBefore",n,!1)}function A$(...n){return e_._create("endAt",n,!0)}function B2(n,e,t,r){if(t[0]=Pe(t[0]),t[0]instanceof Ad)return(function(o,u,h,d,f){if(!d)throw new de(se.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const g=[];for(const _ of tc(o))if(_.field.isKeyField())g.push(Sl(u,d.key));else{const v=d.data.field(_.field);if(Vy(v))throw new de(se.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+_.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(v===null){const T=_.field.canonicalString();throw new de(se.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${T}' (used as the orderBy) does not exist.`)}g.push(v)}return new no(g,f)})(n._query,n.firestore._databaseId,e,t[0]._document,r);{const s=Ll(n.firestore);return(function(u,h,d,f,g,_){const v=u.explicitOrderBy;if(g.length>v.length)throw new de(se.INVALID_ARGUMENT,`Too many arguments provided to ${f}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const T=[];for(let w=0;w<g.length;w++){const I=g[w];if(v[w].field.isKeyField()){if(typeof I!="string")throw new de(se.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${f}(), but got a ${typeof I}`);if(!r0(u)&&I.indexOf("/")!==-1)throw new de(se.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${f}() must be a plain document ID, but '${I}' contains a slash.`);const x=u.path.child(He.fromString(I));if(!Ee.isDocumentKey(x))throw new de(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${f}() must result in a valid document path, but '${x}' is not because it contains an odd number of segments.`);const H=new Ee(x);T.push(Sl(h,H))}else{const x=k2(d,f,I);T.push(x)}}return new no(T,_)})(n._query,n.firestore._databaseId,s,e,t,r)}}function HC(n,e,t){if(typeof(t=Pe(t))=="string"){if(t==="")throw new de(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!r0(e)&&t.indexOf("/")!==-1)throw new de(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(He.fromString(t));if(!Ee.isDocumentKey(r))throw new de(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Sl(n,new Ee(r))}if(t instanceof Et)return Sl(n,t._key);throw new de(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Oy(t)}.`)}function $C(n,e){if(!Array.isArray(n)||n.length===0)throw new de(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function F2(n,e){const t=(function(s,o){for(const u of s)for(const h of u.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new de(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Y0{convertValue(e,t="none"){switch(eo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Bs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return fo(e,((s,o)=>{r[s]=this.convertValue(o,t)})),r}convertVectorValue(e){const t=e.fields?.[yc].arrayValue?.values?.map((r=>Rt(r.doubleValue)));return new Yi(t)}convertGeoPoint(e){return new pi(Rt(e.latitude),Rt(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Ly(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(yd(e));default:return null}}convertTimestamp(e){const t=Us(e);return new nt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=He.fromString(e);Ae(PN(r),9688,{name:e});const s=new Za(r.get(1),r.get(3)),o=new Ee(r.popFirst(5));return s.isEqual(t)||Jt(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t_(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class I$ extends Y0{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Et(this.firestore,null,t)}}class pl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let Yr=class j2 extends Ad{constructor(e,t,r,s,o,u){super(e,t,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Zf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Yy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(se.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=j2._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};Yr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Yr._jsonSchema={type:hn("string",Yr._jsonSchemaVersion),bundleSource:hn("string","DocumentSnapshot"),bundleName:hn("string"),bundle:hn("string")};let Zf=class extends Yr{data(e={}){return super.data(e)}},mi=class z2{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new pl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new Zf(this._firestore,this._userDataWriter,r.key,r,new pl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new de(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(s,o){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map((h=>{const d=new Zf(s._firestore,s._userDataWriter,h.doc.key,h.doc,new pl(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}}))}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const d=new Zf(s._firestore,s._userDataWriter,h.doc.key,h.doc,new pl(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);let f=-1,g=-1;return h.type!==0&&(f=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),g=u.indexOf(h.doc.key)),{type:R$(h.type),doc:d,oldIndex:f,newIndex:g}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(se.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=z2._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Gw.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],s=[];return this.docs.forEach((o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function R$(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:n})}}function q2(n,e){return n instanceof Yr&&e instanceof Yr?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(n._document===null?e._document===null:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof mi&&e instanceof mi&&n._firestore===e._firestore&&C2(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C$(n){n=Je(n,Et);const e=Je(n.firestore,en);return E2(Wn(e),n._key).then((t=>X0(e,n,t)))}mi._jsonSchemaVersion="firestore/querySnapshot/1.0",mi._jsonSchema={type:hn("string",mi._jsonSchemaVersion),bundleSource:hn("string","QuerySnapshot"),bundleName:hn("string"),bundle:hn("string")};class Bl extends Y0{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Et(this.firestore,null,t)}}function P$(n){n=Je(n,Et);const e=Je(n.firestore,en),t=Wn(e),r=new Bl(e);return YH(t,n._key).then((s=>new Yr(e,r,n._key,s,new pl(s!==null&&s.hasLocalMutations,!0),n.converter)))}function x$(n){n=Je(n,Et);const e=Je(n.firestore,en);return E2(Wn(e),n._key,{source:"server"}).then((t=>X0(e,n,t)))}function O$(n){n=Je(n,sr);const e=Je(n.firestore,en),t=Wn(e),r=new Bl(e);return U2(n._query),b2(t,n._query).then((s=>new mi(e,r,n,s)))}function D$(n){n=Je(n,sr);const e=Je(n.firestore,en),t=Wn(e),r=new Bl(e);return XH(t,n._query).then((s=>new mi(e,r,n,s)))}function N$(n){n=Je(n,sr);const e=Je(n.firestore,en),t=Wn(e),r=new Bl(e);return b2(t,n._query,{source:"server"}).then((s=>new mi(e,r,n,s)))}function GC(n,e,t){n=Je(n,Et);const r=Je(n.firestore,en),s=t_(n.converter,e,t);return ap(r,[Qy(Ll(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,xt.none())])}function KC(n,e,t,...r){n=Je(n,Et);const s=Je(n.firestore,en),o=Ll(s);let u;return u=typeof(e=Pe(e))=="string"||e instanceof so?H0(o,"updateDoc",n._key,e,t,r):q0(o,"updateDoc",n._key,e),ap(s,[u.toMutation(n._key,xt.exists(!0))])}function k$(n){return ap(Je(n.firestore,en),[new Kc(n._key,xt.none())])}function M$(n,e){const t=Je(n.firestore,en),r=$g(n),s=t_(n.converter,e);return ap(t,[Qy(Ll(n.firestore),"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,xt.exists(!1))]).then((()=>r))}function H2(n,...e){n=Pe(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Ub(e[r])||(t=e[r++]);const s={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(Ub(e[r])){const d=e[r];e[r]=d.next?.bind(d),e[r+1]=d.error?.bind(d),e[r+2]=d.complete?.bind(d)}let o,u,h;if(n instanceof Et)u=Je(n.firestore,en),h=$c(n._key.path),o={next:d=>{e[r]&&e[r](X0(u,n,d))},error:e[r+1],complete:e[r+2]};else{const d=Je(n,sr);u=Je(d.firestore,en),h=d._query;const f=new Bl(u);o={next:g=>{e[r]&&e[r](new mi(u,f,d,g))},error:e[r+1],complete:e[r+2]},U2(n._query)}return(function(f,g,_,v){const T=new Gy(v),w=new x0(g,T,_);return f.asyncQueue.enqueueAndForget((async()=>R0(await Cc(f),w))),()=>{T.Nu(),f.asyncQueue.enqueueAndForget((async()=>C0(await Cc(f),w)))}})(Wn(u),h,s,o)}function V$(n,e){return JH(Wn(n=Je(n,en)),Ub(e)?e:{next:e})}function ap(n,e){return(function(r,s){const o=new Vn;return r.asyncQueue.enqueueAndForget((async()=>AH(await U0(r),s,o))),o.promise})(Wn(n),e)}function X0(n,e,t){const r=t.docs.get(e._key),s=new Bl(n);return new Yr(n,s,e._key,r,new pl(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L$={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let U$=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Ll(e)}set(e,t,r){this._verifyNotCommitted();const s=Ua(e,this._firestore),o=t_(s.converter,t,r),u=Qy(this._dataReader,"WriteBatch.set",s._key,o,s.converter!==null,r);return this._mutations.push(u.toMutation(s._key,xt.none())),this}update(e,t,r,...s){this._verifyNotCommitted();const o=Ua(e,this._firestore);let u;return u=typeof(t=Pe(t))=="string"||t instanceof so?H0(this._dataReader,"WriteBatch.update",o._key,t,r,s):q0(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(u.toMutation(o._key,xt.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Ua(e,this._firestore);return this._mutations=this._mutations.concat(new Kc(t._key,xt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new de(se.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Ua(n,e){if((n=Pe(n)).firestore!==e)throw new de(se.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B${constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Ll(e)}get(e){const t=Ua(e,this._firestore),r=new I$(this._firestore);return this._transaction.lookup([t._key]).then((s=>{if(!s||s.length!==1)return Te(24041);const o=s[0];if(o.isFoundDocument())return new Ad(this._firestore,r,o.key,o,t.converter);if(o.isNoDocument())return new Ad(this._firestore,r,t._key,null,t.converter);throw Te(18433,{doc:o})}))}set(e,t,r){const s=Ua(e,this._firestore),o=t_(s.converter,t,r),u=Qy(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,r);return this._transaction.set(s._key,u),this}update(e,t,r,...s){const o=Ua(e,this._firestore);let u;return u=typeof(t=Pe(t))=="string"||t instanceof so?H0(this._dataReader,"Transaction.update",o._key,t,r,s):q0(this._dataReader,"Transaction.update",o._key,t),this._transaction.update(o._key,u),this}delete(e){const t=Ua(e,this._firestore);return this._transaction.delete(t._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let F$=class extends B${constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Ua(e,this._firestore),r=new Bl(this._firestore);return super.get(e).then((s=>new Yr(this._firestore,r,t._key,s._document,new pl(!1,!1),t.converter)))}};function j$(n,e,t){n=Je(n,en);const r={...L$,...t};return(function(o){if(o.maxAttempts<1)throw new de(se.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r),(function(o,u,h){const d=new Vn;return o.asyncQueue.enqueueAndForget((async()=>{const f=await KH(o);new $H(o.asyncQueue,f,h,u,d).ju()})),d.promise})(Wn(n),(s=>e(new F$(n,s))),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z$(){return new ip("deleteField")}function q$(){return new B0("serverTimestamp")}function H$(...n){return new F0("arrayUnion",n)}function $$(...n){return new j0("arrayRemove",n)}function G$(n){return new z0("increment",n)}(function(e,t=!0){(function(s){Hc=s})(lo),Ya(new Ji("firestore",((r,{instanceIdentifier:s,options:o})=>{const u=r.getProvider("app").getImmediate(),h=new en(new Bq(r.getProvider("auth-internal")),new zq(u,r.getProvider("app-check-internal")),(function(f,g){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new de(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Za(f.options.projectId,g)})(u,s),u);return o={useFetchStreams:t,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),di(T1,S1,e),di(T1,S1,"esm2020")})();const K$="@firebase/firestore-compat",W$="0.4.2";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J0(n,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new de("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WC(){if(typeof Uint8Array>"u")throw new de("unimplemented","Uint8Arrays are not available in this environment.")}function QC(){if(!T8())throw new de("unimplemented","Blobs are unavailable in Firestore in this environment.")}let $2=class Fb{constructor(e){this._delegate=e}static fromBase64String(e){return QC(),new Fb(Gn.fromBase64String(e))}static fromUint8Array(e){return WC(),new Fb(Gn.fromUint8Array(e))}toBase64(){return QC(),this._delegate.toBase64()}toUint8Array(){return WC(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(n){return Q$(n,["next","error","complete"])}function Q$(n,e){if(typeof n!="object"||n===null)return!1;const t=n;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y${enableIndexedDbPersistence(e,t){return s$(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return a$(e._delegate)}clearIndexedDbPersistence(e){return o$(e._delegate)}}class G2{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Za||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&es("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e={...t,...e},delete e.merge),this._delegate._setSettings(e)}useEmulator(e,t,r={}){t$(this._delegate,e,t,r)}enableNetwork(){return u$(this._delegate)}disableNetwork(){return c$(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,gD("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return l$(this._delegate)}onSnapshotsInSync(e){return V$(this._delegate,e)}get app(){if(!this._appCompat)throw new de("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Pc(this,I2(this._delegate,e))}catch(t){throw nr(t,"collection()","Firestore.collection()")}}doc(e){try{return new Qr(this,$g(this._delegate,e))}catch(t){throw nr(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new tr(this,n$(this._delegate,e))}catch(t){throw nr(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return j$(this._delegate,t=>e(new K2(this,t)))}batch(){return Wn(this._delegate),new W2(new U$(this._delegate,e=>ap(this._delegate,e)))}loadBundle(e){return h$(this._delegate,e)}namedQuery(e){return f$(this._delegate,e).then(t=>t?new tr(this,t):null)}}class n_ extends Y0{constructor(e){super(),this.firestore=e}convertBytes(e){return new $2(new Gn(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Qr.forKey(t,this.firestore,null)}}function X$(n){Mq(n)}class K2{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new n_(e)}get(e){const t=ml(e);return this._delegate.get(t).then(r=>new Id(this._firestore,new Yr(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const s=ml(e);return r?(J0("Transaction.set",r),this._delegate.set(s,t,r)):this._delegate.set(s,t),this}update(e,t,r,...s){const o=ml(e);return arguments.length===2?this._delegate.update(o,t):this._delegate.update(o,t,r,...s),this}delete(e){const t=ml(e);return this._delegate.delete(t),this}}class W2{constructor(e){this._delegate=e}set(e,t,r){const s=ml(e);return r?(J0("WriteBatch.set",r),this._delegate.set(s,t,r)):this._delegate.set(s,t),this}update(e,t,r,...s){const o=ml(e);return arguments.length===2?this._delegate.update(o,t):this._delegate.update(o,t,r,...s),this}delete(e){const t=ml(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Dl{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Zf(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Rd(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Dl.INSTANCES;let s=r.get(e);s||(s=new WeakMap,r.set(e,s));let o=s.get(t);return o||(o=new Dl(e,new n_(e),t),s.set(t,o)),o}}Dl.INSTANCES=new WeakMap;class Qr{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new n_(e)}static forPath(e,t,r){if(e.length%2!==0)throw new de("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Qr(t,new Et(t._delegate,r,new Ee(e)))}static forKey(e,t,r){return new Qr(t,new Et(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Pc(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Pc(this.firestore,I2(this._delegate,e))}catch(t){throw nr(t,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Pe(e),e instanceof Et?R2(this._delegate,e):!1}set(e,t){t=J0("DocumentReference.set",t);try{return t?GC(this._delegate,e,t):GC(this._delegate,e)}catch(r){throw nr(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return arguments.length===1?KC(this._delegate,e):KC(this._delegate,e,t,...r)}catch(s){throw nr(s,"updateDoc()","DocumentReference.update()")}}delete(){return k$(this._delegate)}onSnapshot(...e){const t=Q2(e),r=Y2(e,s=>new Id(this.firestore,new Yr(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)));return H2(this._delegate,t,r)}get(e){let t;return e?.source==="cache"?t=P$(this._delegate):e?.source==="server"?t=x$(this._delegate):t=C$(this._delegate),t.then(r=>new Id(this.firestore,new Yr(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Qr(this.firestore,e?this._delegate.withConverter(Dl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function nr(n,e,t){return n.message=n.message.replace(e,t),n}function Q2(n){for(const e of n)if(typeof e=="object"&&!jb(e))return e;return{}}function Y2(n,e){let t;return jb(n[0])?t=n[0]:jb(n[1])?t=n[1]:typeof n[0]=="function"?t={next:n[0],error:n[1],complete:n[2]}:t={next:n[1],error:n[2],complete:n[3]},{next:r=>{t.next&&t.next(e(r))},error:t.error?.bind(t),complete:t.complete?.bind(t)}}class Id{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Qr(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return q2(this._delegate,e._delegate)}}class Rd extends Id{data(e){const t=this._delegate.data(e);return this._delegate._converter||Vq(t!==void 0,"Document in a QueryDocumentSnapshot should exist"),t}}class tr{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new n_(e)}where(e,t,r){try{return new tr(this.firestore,ka(this._delegate,_$(e,t,r)))}catch(s){throw nr(s,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new tr(this.firestore,ka(this._delegate,v$(e,t)))}catch(r){throw nr(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new tr(this.firestore,ka(this._delegate,E$(e)))}catch(t){throw nr(t,"limit()","Query.limit()")}}limitToLast(e){try{return new tr(this.firestore,ka(this._delegate,b$(e)))}catch(t){throw nr(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new tr(this.firestore,ka(this._delegate,w$(...e)))}catch(t){throw nr(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new tr(this.firestore,ka(this._delegate,T$(...e)))}catch(t){throw nr(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new tr(this.firestore,ka(this._delegate,S$(...e)))}catch(t){throw nr(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new tr(this.firestore,ka(this._delegate,A$(...e)))}catch(t){throw nr(t,"endAt()","Query.endAt()")}}isEqual(e){return C2(this._delegate,e._delegate)}get(e){let t;return e?.source==="cache"?t=D$(this._delegate):e?.source==="server"?t=N$(this._delegate):t=O$(this._delegate),t.then(r=>new zb(this.firestore,new mi(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=Q2(e),r=Y2(e,s=>new zb(this.firestore,new mi(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)));return H2(this._delegate,t,r)}withConverter(e){return new tr(this.firestore,e?this._delegate.withConverter(Dl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class J${constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Rd(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class zb{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new tr(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Rd(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new J$(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Rd(this._firestore,r))})}isEqual(e){return q2(this._delegate,e._delegate)}}class Pc extends tr{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Qr(this.firestore,e):null}doc(e){try{return e===void 0?new Qr(this.firestore,$g(this._delegate)):new Qr(this.firestore,$g(this._delegate,e))}catch(t){throw nr(t,"doc()","CollectionReference.doc()")}}add(e){return M$(this._delegate,e).then(t=>new Qr(this.firestore,t))}isEqual(e){return R2(this._delegate,e._delegate)}withConverter(e){return new Pc(this.firestore,e?this._delegate.withConverter(Dl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function ml(n){return Je(n,Et)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(...e){this._delegate=new so(...e)}static documentId(){return new Z0(Pt.keyField().canonicalString())}isEqual(e){return e=Pe(e),e instanceof so?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{static serverTimestamp(){const e=q$();return e._methodName="FieldValue.serverTimestamp",new ul(e)}static delete(){const e=z$();return e._methodName="FieldValue.delete",new ul(e)}static arrayUnion(...e){const t=H$(...e);return t._methodName="FieldValue.arrayUnion",new ul(t)}static arrayRemove(...e){const t=$$(...e);return t._methodName="FieldValue.arrayRemove",new ul(t)}static increment(e){const t=G$(e);return t._methodName="FieldValue.increment",new ul(t)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z$={Firestore:G2,GeoPoint:pi,Timestamp:nt,Blob:$2,Transaction:K2,WriteBatch:W2,DocumentReference:Qr,DocumentSnapshot:Id,Query:tr,QueryDocumentSnapshot:Rd,QuerySnapshot:zb,CollectionReference:Pc,FieldPath:Z0,FieldValue:ul,setLogLevel:X$,CACHE_SIZE_UNLIMITED:i$};function eG(n,e){n.INTERNAL.registerComponent(new Ji("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),s=t.getProvider("firestore").getImmediate();return e(r,s)},"PUBLIC").setServiceProps({...Z$}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tG(n){eG(n,(e,t)=>new G2(e,t,new Y$)),n.registerVersion(K$,W$)}tG(Fc);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nl(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nG=2e3;async function rG(n,e,t){const{BuildInfo:r}=Nl();gi(e.sessionId,"AuthEvent did not contain a session ID");const s=await lG(e.sessionId),o={};return jd()?o.ibi=r.packageName:Fd()?o.apn=r.packageName:Rn(n,"operation-not-supported-in-this-environment"),r.displayName&&(o.appDisplayName=r.displayName),o.sessionId=s,hb(n,t,e.type,void 0,e.eventId??void 0,o)}async function iG(n){const{BuildInfo:e}=Nl(),t={};jd()?t.iosBundleId=e.packageName:Fd()?t.androidPackageName=e.packageName:Rn(n,"operation-not-supported-in-this-environment"),await iD(n,t)}function sG(n){const{cordova:e}=Nl();return new Promise(t=>{e.plugins.browsertab.isAvailable(r=>{let s=null;r?e.plugins.browsertab.openUrl(n):s=e.InAppBrowser.open(n,z9()?"_blank":"_system","location=yes"),t(s)})})}async function aG(n,e,t){const{cordova:r}=Nl();let s=()=>{};try{await new Promise((o,u)=>{let h=null;function d(){o();const _=r.plugins.browsertab?.close;typeof _=="function"&&_(),typeof t?.close=="function"&&t.close()}function f(){h||(h=window.setTimeout(()=>{u(_n(n,"redirect-cancelled-by-user"))},nG))}function g(){document?.visibilityState==="visible"&&f()}e.addPassiveListener(d),document.addEventListener("resume",f,!1),Fd()&&document.addEventListener("visibilitychange",g,!1),s=()=>{e.removePassiveListener(d),document.removeEventListener("resume",f,!1),document.removeEventListener("visibilitychange",g,!1),h&&window.clearTimeout(h)}})}finally{s()}}function oG(n){const e=Nl();ge(typeof e?.universalLinks?.subscribe=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ge(typeof e?.BuildInfo?.packageName<"u",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ge(typeof e?.cordova?.plugins?.browsertab?.openUrl=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ge(typeof e?.cordova?.plugins?.browsertab?.isAvailable=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ge(typeof e?.cordova?.InAppBrowser?.open=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function lG(n){const e=uG(n),t=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(s=>s.toString(16).padStart(2,"0")).join("")}function uG(n){if(gi(/[0-9a-zA-Z]+/.test(n),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(n);const e=new ArrayBuffer(n.length),t=new Uint8Array(e);for(let r=0;r<n.length;r++)t[r]=n.charCodeAt(r);return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cG=20;class hG extends nD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function fG(n,e,t=null){return{type:e,eventId:t,urlResponse:null,sessionId:mG(),postBody:null,tenantId:n.tenantId,error:_n(n,"no-auth-event")}}function dG(n,e){return qb()._set(Hb(n),e)}async function YC(n){const e=await qb()._get(Hb(n));return e&&await qb()._remove(Hb(n)),e}function pG(n,e){const t=yG(e);if(t.includes("/__/auth/callback")){const r=fg(t),o=(r.firebaseError?gG(decodeURIComponent(r.firebaseError)):null)?.code?.split("auth/")?.[1],u=o?_n(o):null;return u?{type:n.type,eventId:n.eventId,tenantId:n.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:n.type,eventId:n.eventId,tenantId:n.tenantId,sessionId:n.sessionId,urlResponse:t,postBody:null}}return null}function mG(){const n=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let t=0;t<cG;t++){const r=Math.floor(Math.random()*e.length);n.push(e.charAt(r))}return n.join("")}function qb(){return xr(Iy)}function Hb(n){return _l("authEvent",n.config.apiKey,n.name)}function gG(n){try{return JSON.parse(n)}catch{return null}}function yG(n){const e=fg(n),t=e.link?decodeURIComponent(e.link):void 0,r=fg(t).link,s=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return fg(s).link||s||r||t||n}function fg(n){if(!n?.includes("?"))return{};const[e,...t]=n.split("?");return Wu(t.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _G=500;class vG{constructor(){this._redirectPersistence=Xa,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=xy,this._overrideRedirectResult=qw}async _initialize(e){const t=e._key();let r=this.eventManagers.get(t);return r||(r=new hG(e),this.eventManagers.set(t,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){Rn(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,r,s){oG(e);const o=await this._initialize(e);await o.initialized(),o.resetRedirect(),Hz(),await this._originValidation(e);const u=fG(e,r,s);await dG(e,u);const h=await rG(e,u,t),d=await sG(h);return aG(e,o,d)}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=iG(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:r,handleOpenURL:s,BuildInfo:o}=Nl(),u=setTimeout(async()=>{await YC(e),t.onEvent(XC())},_G),h=async g=>{clearTimeout(u);const _=await YC(e);let v=null;_&&g?.url&&(v=pG(_,g.url)),t.onEvent(v||XC())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,h);const d=s,f=`${o.packageName.toLowerCase()}://`;Nl().handleOpenURL=async g=>{if(g.toLowerCase().startsWith(f)&&h({url:g}),typeof d=="function")try{d(g)}catch(_){console.error(_)}}}}const EG=vG;function XC(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:_n("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bG(n,e){Vt(n)._logFramework(e)}var wG="@firebase/auth-compat",TG="0.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SG=1e3;function ed(){return self?.location?.protocol||null}function AG(){return ed()==="http:"||ed()==="https:"}function X2(n=Mt()){return!!((ed()==="file:"||ed()==="ionic:"||ed()==="capacitor:")&&n.toLowerCase().match(/iphone|ipad|ipod|android/))}function IG(){return ww()||yy()}function RG(){return Qx()&&document?.documentMode===11}function CG(n=Mt()){return/Edge\/\d+/.test(n)}function PG(n=Mt()){return RG()||CG(n)}function J2(){try{const n=self.localStorage,e=Hd();if(n)return n.setItem(e,"1"),n.removeItem(e),PG()?ad():!0}catch{return eT()&&ad()}return!1}function eT(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function jE(){return(AG()||Wx()||X2())&&!IG()&&J2()&&!eT()}function Z2(){return X2()&&typeof document<"u"}async function xG(){return Z2()?new Promise(n=>{const e=setTimeout(()=>{n(!1)},SG);document.addEventListener("deviceready",()=>{clearTimeout(e),n(!0)})}):!1}function OG(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cr={LOCAL:"local",NONE:"none",SESSION:"session"},Af=ge,ek="persistence";function DG(n,e){if(Af(Object.values(Cr).includes(e),n,"invalid-persistence-type"),ww()){Af(e!==Cr.SESSION,n,"unsupported-persistence-type");return}if(yy()){Af(e===Cr.NONE,n,"unsupported-persistence-type");return}if(eT()){Af(e===Cr.NONE||e===Cr.LOCAL&&ad(),n,"unsupported-persistence-type");return}Af(e===Cr.NONE||J2(),n,"unsupported-persistence-type")}async function $b(n){await n._initializationPromise;const e=tk(),t=_l(ek,n.config.apiKey,n.name);e&&e.setItem(t,n._getPersistenceType())}function NG(n,e){const t=tk();if(!t)return[];const r=_l(ek,n,e);switch(t.getItem(r)){case Cr.NONE:return[lc];case Cr.LOCAL:return[cc,Xa];case Cr.SESSION:return[Xa];default:return[]}}function tk(){try{return OG()?.sessionStorage||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kG=ge;class Ba{constructor(){this.browserResolver=xr(sD),this.cordovaResolver=xr(EG),this.underlyingResolver=null,this._redirectPersistence=Xa,this._completeRedirectFn=xy,this._overrideRedirectResult=qw}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,r,s){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,r,s)}async _openRedirect(e,t,r,s){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,r,s)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return Z2()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return kG(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await xG();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nk(n){return n.unwrap()}function MG(n){return n.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VG(n){return rk(n)}function LG(n,e){const t=e.customData?._tokenResponse;if(e?.code==="auth/multi-factor-auth-required"){const r=e;r.resolver=new UG(n,sz(n,e))}else if(t){const r=rk(e),s=e;r&&(s.credential=r,s.tenantId=t.tenantId||void 0,s.email=t.email||void 0,s.phoneNumber=t.phoneNumber||void 0)}}function rk(n){const{_tokenResponse:e}=n instanceof rr?n.customData:n;if(!e)return null;if(!(n instanceof rr)&&"temporaryProof"in e&&"phoneNumber"in e)return Tl.credentialFromResult(n);const t=e.providerId;if(!t||t===_f.PASSWORD)return null;let r;switch(t){case _f.GOOGLE:r=ji;break;case _f.FACEBOOK:r=Fi;break;case _f.GITHUB:r=zi;break;case _f.TWITTER:r=qi;break;default:const{oauthIdToken:s,oauthAccessToken:o,oauthTokenSecret:u,pendingToken:h,nonce:d}=e;return!o&&!u&&!s&&!h?null:h?t.startsWith("saml.")?uc._create(t,h):Zi._fromParams({providerId:t,signInMethod:t,pendingToken:h,idToken:s,accessToken:o}):new Zu(t).credential({idToken:s,accessToken:o,rawNonce:d})}return n instanceof rr?r.credentialFromError(n):r.credentialFromResult(n)}function cr(n,e){return e.catch(t=>{throw t instanceof rr&&LG(n,t),t}).then(t=>{const r=t.operationType,s=t.user;return{operationType:r,credential:VG(t),additionalUserInfo:nz(t),user:xs.getOrCreate(s)}})}async function Gb(n,e){const t=await e;return{verificationId:t.verificationId,confirm:r=>cr(n,t.confirm(r))}}class UG{constructor(e,t){this.resolver=t,this.auth=MG(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return cr(nk(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e){this._delegate=e,this.multiFactor=lz(e)}static getOrCreate(e){return xs.USER_MAP.has(e)||xs.USER_MAP.set(e,new xs(e)),xs.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return cr(this.auth,BO(this._delegate,e))}async linkWithPhoneNumber(e,t){return Gb(this.auth,Oz(this._delegate,e,t))}async linkWithPopup(e){return cr(this.auth,Fz(this._delegate,e,Ba))}async linkWithRedirect(e){return await $b(Vt(this.auth)),Qz(this._delegate,e,Ba)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return cr(this.auth,FO(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return Gb(this.auth,Dz(this._delegate,e,t))}reauthenticateWithPopup(e){return cr(this.auth,Bz(this._delegate,e,Ba))}async reauthenticateWithRedirect(e){return await $b(Vt(this.auth)),Kz(this._delegate,e,Ba)}sendEmailVerification(e){return $j(this._delegate,e)}async unlink(e){return await Nj(this._delegate,e),this}updateEmail(e){return Qj(this._delegate,e)}updatePassword(e){return Yj(this._delegate,e)}updatePhoneNumber(e){return Nz(this._delegate,e)}updateProfile(e){return Wj(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return Gj(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}xs.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const If=ge;let Kb=class{constructor(e,t){if(this.app=e,t.isInitialized()){this._delegate=t.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;If(r,"invalid-api-key",{appName:e.name}),If(r,"invalid-api-key",{appName:e.name});const s=typeof window<"u"?Ba:void 0;this._delegate=t.initialize({options:{persistence:BG(r,e.name),popupRedirectResolver:s}}),this._delegate._updateErrorMap(w9),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?xs.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){OO(this._delegate,e,t)}applyActionCode(e){return Uj(this._delegate,e)}checkActionCode(e){return jO(this._delegate,e)}confirmPasswordReset(e,t){return Lj(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return cr(this._delegate,zO(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return Hj(this._delegate,e)}isSignInWithEmailLink(e){return jj(this._delegate,e)}async getRedirectResult(){If(jE(),this._delegate,"operation-not-supported-in-this-environment");const e=await Xz(this._delegate,Ba);return e?cr(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){bG(this._delegate,e)}onAuthStateChanged(e,t,r){const{next:s,error:o,complete:u}=JC(e,t,r);return this._delegate.onAuthStateChanged(s,o,u)}onIdTokenChanged(e,t,r){const{next:s,error:o,complete:u}=JC(e,t,r);return this._delegate.onIdTokenChanged(s,o,u)}sendSignInLinkToEmail(e,t){return Fj(this._delegate,e,t)}sendPasswordResetEmail(e,t){return Vj(this._delegate,e,t||void 0)}async setPersistence(e){DG(this._delegate,e);let t;switch(e){case Cr.SESSION:t=Xa;break;case Cr.LOCAL:t=await xr(cc)._isAvailable()?cc:Iy;break;case Cr.NONE:t=lc;break;default:return Rn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return cr(this._delegate,Dj(this._delegate))}signInWithCredential(e){return cr(this._delegate,Sy(this._delegate,e))}signInWithCustomToken(e){return cr(this._delegate,Mj(this._delegate,e))}signInWithEmailAndPassword(e,t){return cr(this._delegate,qO(this._delegate,e,t))}signInWithEmailLink(e,t){return cr(this._delegate,zj(this._delegate,e,t))}signInWithPhoneNumber(e,t){return Gb(this._delegate,xz(this._delegate,e,t))}async signInWithPopup(e){return If(jE(),this._delegate,"operation-not-supported-in-this-environment"),cr(this._delegate,Uz(this._delegate,e,Ba))}async signInWithRedirect(e){return If(jE(),this._delegate,"operation-not-supported-in-this-environment"),await $b(this._delegate),$z(this._delegate,e,Ba)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return Bj(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}};Kb.Persistence=Cr;function JC(n,e,t){let r=n;typeof n!="function"&&({next:r,error:e,complete:t}=n);const s=r;return{next:u=>s(u&&xs.getOrCreate(u)),error:e,complete:t}}function BG(n,e){const t=NG(n,e);if(typeof self<"u"&&!t.includes(cc)&&t.push(cc),typeof window<"u")for(const r of[Iy,Xa])t.includes(r)||t.push(r);return t.includes(lc)||t.push(lc),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{static credential(e,t){return Tl.credential(e,t)}constructor(){this.providerId="phone",this._delegate=new Tl(nk(Fc.auth()))}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}tT.PHONE_SIGN_IN_METHOD=Tl.PHONE_SIGN_IN_METHOD;tT.PROVIDER_ID=Tl.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FG=ge;class jG{constructor(e,t,r=Fc.app()){FG(r.options?.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new Cz(r.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zG="auth-compat";function qG(n){n.INTERNAL.registerComponent(new Ji(zG,e=>{const t=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new Kb(t,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ku.EMAIL_SIGNIN,PASSWORD_RESET:ku.PASSWORD_RESET,RECOVER_EMAIL:ku.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:ku.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:ku.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:ku.VERIFY_EMAIL}},EmailAuthProvider:uo,FacebookAuthProvider:Fi,GithubAuthProvider:zi,GoogleAuthProvider:ji,OAuthProvider:Zu,SAMLAuthProvider:Ig,PhoneAuthProvider:tT,PhoneMultiFactorGenerator:aD,RecaptchaVerifier:jG,TwitterAuthProvider:qi,Auth:Kb,AuthCredential:zc,Error:rr}).setInstantiationMode("LAZY").setMultipleInstances(!1)),n.registerVersion(wG,TG)}qG(Fc);const HG={apiKey:"AIzaSyBlvT7L4y4FXzw0Cdtd9Qfc9dYWLLNLQtM",authDomain:"clone-e1bfe.firebaseapp.com",projectId:"clone-e1bfe",storageBucket:"clone-e1bfe.firebasestorage.app",messagingSenderId:"280083990947",appId:"1:280083990947:web:51e437e8339ab340493216"},ik=Fc.initializeApp(HG),Kg=Nq(ik),sk=ik.firestore();function $G(){const[{user:n,basket:e}]=Q.useContext(Fs),t=e?.reduce((r,s)=>s.amount+r,0);return z.jsx(z.Fragment,{children:z.jsxs("section",{className:Mi.fixed,children:[z.jsxs("div",{className:Mi.header_container,children:[z.jsxs("div",{className:Mi.logo_container,children:[z.jsx(hi,{to:"/",children:z.jsx("img",{src:"https://pngimg.com/uploads/amazon/amazon_PNG11.png",alt:"amazon log"})}),z.jsxs("div",{className:Mi.delivery,children:[z.jsx("span",{children:z.jsx(IB,{})}),z.jsxs("div",{children:[z.jsx("p",{children:"Delivered to"}),z.jsx("span",{children:"Ethiopia"})]})]})]}),z.jsxs("div",{className:Mi.search,children:[z.jsx("select",{name:"",id:"",children:z.jsx("option",{value:"",children:"All"})}),z.jsx("input",{type:"text",placeholder:"search products"}),z.jsx(CB,{size:38})]}),z.jsxs("div",{className:Mi.order_container,children:[z.jsxs(hi,{className:Mi.language,children:[z.jsx("img",{src:"https://cdn.britannica.com/33/4833-004-828A9A84/Flag-United-States-of-America.jpg",alt:""}),z.jsx("select",{name:"",id:"",children:z.jsx("option",{value:"",children:"EN"})})]}),z.jsx(hi,{to:!n&&"/auth",children:z.jsx("div",{children:z.jsx(z.Fragment,{children:z.jsx("div",{children:n?z.jsxs(z.Fragment,{children:[z.jsxs("p",{children:["Hello ",n?.email?.split("@")[0]]}),z.jsx("span",{onClick:()=>Kg.signOut(),children:"Sign Out"})]}):z.jsxs(z.Fragment,{children:[z.jsx("p",{children:"Hello,Sign In"}),z.jsx("span",{children:"Account & Lists"})]})})})})}),z.jsx(hi,{to:"/orders",children:z.jsxs("div",{children:[z.jsx("p",{children:"returns"}),z.jsx("span",{children:"& Orders"})]})}),z.jsxs(hi,{to:"/cart",className:Mi.cart,children:[z.jsx(PB,{size:35}),z.jsx("span",{children:t})]})]})]}),z.jsx(xB,{})]})})}const Jc=({children:n})=>z.jsxs(z.Fragment,{children:[z.jsx($G,{}),n]}),GG=[{title:"Men's clothing",name:"men's clothing",imgLink:"https://m.media-amazon.com/images/I/4167bKfVXOL._AC_SX425_.jpg"},{title:"Electronics",name:"electronics",imgLink:"https://m.media-amazon.com/images/I/71Y3t3ldYgL._AC_CR0%2C0%2C0%2C0_SX480_SY360_.jpg"},{title:"Jewelery",name:"jewelery",imgLink:"https://m.media-amazon.com/images/I/81ryb4zhPSL._AC_SY500_.jpg"},{title:"Women's clothing",name:"women's clothing",imgLink:"https://m.media-amazon.com/images/I/51sgXt0rDWL._MCnd_AC_UL320_.jpg"}],KG="_category_jl6fp_1",WG="_category_container_jl6fp_63",ak={category:KG,category_container:WG};function QG({data:n}){return z.jsx("div",{className:ak.category,children:z.jsxs(hi,{to:`/category/${n.name}`,children:[z.jsx("span",{children:z.jsx("h2",{children:n?.title})}),z.jsx("img",{src:n?.imgLink,alt:""}),z.jsx("p",{children:"shop now"})]})})}function YG(){return z.jsx("section",{className:ak.category_container,children:GG.map((n,e)=>z.jsx(QG,{data:n},e))})}const XG=()=>z.jsxs(Jc,{children:[z.jsx(qL,{}),z.jsx(YG,{}),z.jsx(uB,{})]}),JG="_login_1iamv_1",ZG="_login_container_1iamv_27",eK="_login_signInButton_1iamv_101",tK="_login_registerButton_1iamv_133",Bm={login:JG,login_container:ZG,login_signInButton:eK,login_registerButton:tK},nK=()=>{const[n,e]=Q.useState(""),[t,r]=Q.useState(""),[s,o]=Q.useState(""),[u,h]=Q.useState({signIn:!1,signUP:!1}),[{user:d},f]=Q.useContext(Fs),g=Qg(),_=oo();console.log(_);const v=async T=>{T.preventDefault(),T.target.name==="signin"?(h({...u,signIn:!0}),qO(Kg,n,t).then(w=>{f({type:Wr.SET_USER,user:w.user}),h({...u,signIn:!1}),g(_?.state?.redirect||"/")}).catch(w=>{o(w.message),h({...u,signIn:!1})})):(h({...u,signUP:!0}),zO(Kg,n,t).then(w=>{f({type:Wr.SET_USER,user:w.user}),h({...u,signUP:!1}),g(_?.state?.redirect||"/")}).catch(w=>{o(w.message),h({...u,signUP:!1})}))};return z.jsxs("section",{className:Bm.login,children:[z.jsx(hi,{to:"/",children:z.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Amazon_logo.svg/2560px-Amazon_logo.svg.png",alt:"amazon logo"})}),z.jsxs("div",{className:Bm.login_container,children:[z.jsx("h1",{children:"Sign In"}),_?.state?.msg&&z.jsx("small",{style:{padding:"5px",textAlign:"center",color:"red",fontWeight:"bold"},children:_?.state?.msg}),z.jsxs("form",{action:"",children:[z.jsxs("div",{children:[z.jsx("label",{htmlFor:"email",children:"Email:"}),z.jsx("input",{value:n,onChange:T=>e(T.target.value),type:"email",id:"email",placeholder:"Enter Email",required:!0})]}),z.jsxs("div",{children:[z.jsx("label",{htmlFor:"password",children:"Password:"}),z.jsx("input",{value:t,onChange:T=>r(T.target.value),type:"password",id:"password",placeholder:"Enter Password",required:!0})]}),z.jsx("button",{type:"submit",onClick:v,name:"signin",className:Bm.login_signInButton,children:u.signIn?z.jsx(sb,{color:"#000",size:15}):"Sign In"})]}),z.jsx("p",{children:"By signing-in you agree to the AMAZON FAKE CLONE condition of use & sale. Please see our Privacy Notice, our Cookies Notice and our Interest-based Ads Notice."}),z.jsx("button",{type:"submit",onClick:v,name:"signup",className:Bm.login_registerButton,children:u.signUP?z.jsx(sb,{color:"#000",size:15}):"Create your Amazon Account"}),s&&z.jsx("small",{style:{paddingTop:"5px",color:"red"},children:s})]})]})},rK="_payment_header_1qyxi_1",iK="_payment_1qyxi_1",sK="_flex_1qyxi_19",aK="_payment_card_container_1qyxi_47",oK="_payment_price_1qyxi_55",lK="_payment_details_1qyxi_73",uK="_loading_1qyxi_101",Is={payment_header:rK,payment:iK,flex:sK,payment_card_container:aK,payment_price:oK,payment_details:lK,loading:uK};function ZC(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function eP(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ZC(Object(t),!0).forEach(function(r){ok(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ZC(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function dg(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?dg=function(e){return typeof e}:dg=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dg(n)}function ok(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function cK(n,e){if(n==null)return{};var t={},r=Object.keys(n),s,o;for(o=0;o<r.length;o++)s=r[o],!(e.indexOf(s)>=0)&&(t[s]=n[s]);return t}function hK(n,e){if(n==null)return{};var t=cK(n,e),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(s=0;s<o.length;s++)r=o[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function lk(n,e){return fK(n)||dK(n,e)||pK(n,e)||mK()}function fK(n){if(Array.isArray(n))return n}function dK(n,e){var t=n&&(typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"]);if(t!=null){var r=[],s=!0,o=!1,u,h;try{for(t=t.call(n);!(s=(u=t.next()).done)&&(r.push(u.value),!(e&&r.length===e));s=!0);}catch(d){o=!0,h=d}finally{try{!s&&t.return!=null&&t.return()}finally{if(o)throw h}}return r}}function pK(n,e){if(n){if(typeof n=="string")return tP(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return tP(n,e)}}function tP(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function mK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var er=function(e,t,r){var s=!!r,o=Qe.useRef(r);Qe.useEffect(function(){o.current=r},[r]),Qe.useEffect(function(){if(!s||!e)return function(){};var u=function(){o.current&&o.current.apply(o,arguments)};return e.on(t,u),function(){e.off(t,u)}},[s,t,e,o])},Wb=function(e){var t=Qe.useRef(e);return Qe.useEffect(function(){t.current=e},[e]),t.current},xc=function(e){return e!==null&&dg(e)==="object"},gK=function(e){return xc(e)&&typeof e.then=="function"},yK=function(e){return xc(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},nP="[object Object]",_K=function n(e,t){if(!xc(e)||!xc(t))return e===t;var r=Array.isArray(e),s=Array.isArray(t);if(r!==s)return!1;var o=Object.prototype.toString.call(e)===nP,u=Object.prototype.toString.call(t)===nP;if(o!==u)return!1;if(!o&&!r)return e===t;var h=Object.keys(e),d=Object.keys(t);if(h.length!==d.length)return!1;for(var f={},g=0;g<h.length;g+=1)f[h[g]]=!0;for(var _=0;_<d.length;_+=1)f[d[_]]=!0;var v=Object.keys(f);if(v.length!==h.length)return!1;var T=e,w=t,I=function(H){return n(T[H],w[H])};return v.every(I)},uk=function(e,t,r){return xc(e)?Object.keys(e).reduce(function(s,o){var u=!xc(t)||!_K(e[o],t[o]);return r.includes(o)?(u&&console.warn("Unsupported prop change: options.".concat(o," is not a mutable property.")),s):u?eP(eP({},s||{}),{},ok({},o,e[o])):s},null):null},ck="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",rP=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ck;if(e===null||yK(e))return e;throw new Error(t)},vK=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ck;if(gK(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(s){return rP(s,t)})};var r=rP(e,t);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},EK=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"4.0.2"}),e.registerAppInfo({name:"react-stripe-js",version:"4.0.2",url:"https://stripe.com/docs/stripe-js/react"}))},r_=Qe.createContext(null);r_.displayName="ElementsContext";var hk=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},fk=function(e){var t=e.stripe,r=e.options,s=e.children,o=Qe.useMemo(function(){return vK(t)},[t]),u=Qe.useState(function(){return{stripe:o.tag==="sync"?o.stripe:null,elements:o.tag==="sync"?o.stripe.elements(r):null}}),h=lk(u,2),d=h[0],f=h[1];Qe.useEffect(function(){var v=!0,T=function(I){f(function(x){return x.stripe?x:{stripe:I,elements:I.elements(r)}})};return o.tag==="async"&&!d.stripe?o.stripePromise.then(function(w){w&&v&&T(w)}):o.tag==="sync"&&!d.stripe&&T(o.stripe),function(){v=!1}},[o,d,r]);var g=Wb(t);Qe.useEffect(function(){g!==null&&g!==t&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[g,t]);var _=Wb(r);return Qe.useEffect(function(){if(d.elements){var v=uk(r,_,["clientSecret","fonts"]);v&&d.elements.update(v)}},[r,_,d.elements]),Qe.useEffect(function(){EK(d.stripe)},[d.stripe]),Qe.createElement(r_.Provider,{value:d},s)};fk.propTypes={stripe:Tt.any,options:Tt.object};var bK=function(e){var t=Qe.useContext(r_);return hk(t,e)},wK=function(){var e=bK("calls useElements()"),t=e.elements;return t};Tt.func.isRequired;var dk=Qe.createContext(null);dk.displayName="CheckoutContext";Tt.any,Tt.shape({fetchClientSecret:Tt.func.isRequired,elementsOptions:Tt.object}).isRequired;var Qb=function(e){var t=Qe.useContext(dk),r=Qe.useContext(r_);if(t){if(r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return t}else return hk(r,e)},TK=["mode"],SK=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},fn=function(e,t){var r="".concat(SK(e),"Element"),s=function(d){var f=d.id,g=d.className,_=d.options,v=_===void 0?{}:_,T=d.onBlur,w=d.onFocus,I=d.onReady,x=d.onChange,H=d.onEscape,V=d.onClick,F=d.onLoadError,W=d.onLoaderStart,j=d.onNetworksChange,$=d.onConfirm,N=d.onCancel,C=d.onShippingAddressChange,P=d.onShippingRateChange,L=d.onSavedPaymentMethodRemove,O=d.onSavedPaymentMethodUpdate,b=Qb("mounts <".concat(r,">")),R="elements"in b?b.elements:null,G="checkoutState"in b?b.checkoutState:null,M=G?.type==="success"?G.checkout:null,q=Qe.useState(null),J=lk(q,2),ne=J[0],we=J[1],U=Qe.useRef(null),le=Qe.useRef(null);er(ne,"blur",T),er(ne,"focus",w),er(ne,"escape",H),er(ne,"click",V),er(ne,"loaderror",F),er(ne,"loaderstart",W),er(ne,"networkschange",j),er(ne,"confirm",$),er(ne,"cancel",N),er(ne,"shippingaddresschange",C),er(ne,"shippingratechange",P),er(ne,"savedpaymentmethodremove",L),er(ne,"savedpaymentmethodupdate",O),er(ne,"change",x);var me;I&&(e==="expressCheckout"?me=I:me=function(){I(ne)}),er(ne,"ready",me),Qe.useLayoutEffect(function(){if(U.current===null&&le.current!==null&&(R||M)){var ye=null;if(M)switch(e){case"payment":ye=M.createPaymentElement(v);break;case"address":if("mode"in v){var De=v.mode,Ce=hK(v,TK);if(De==="shipping")ye=M.createShippingAddressElement(Ce);else if(De==="billing")ye=M.createBillingAddressElement(Ce);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":ye=M.createExpressCheckoutElement(v);break;case"currencySelector":ye=M.createCurrencySelectorElement();break;case"taxId":ye=M.createTaxIdElement(v);break;default:throw new Error("Invalid Element type ".concat(r,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else R&&(ye=R.create(e,v));U.current=ye,we(ye),ye&&ye.mount(le.current)}},[R,M,v]);var _e=Wb(v);return Qe.useEffect(function(){if(U.current){var ye=uk(v,_e,["paymentRequest"]);ye&&"update"in U.current&&U.current.update(ye)}},[v,_e]),Qe.useLayoutEffect(function(){return function(){if(U.current&&typeof U.current.destroy=="function")try{U.current.destroy(),U.current=null}catch{}}},[]),Qe.createElement("div",{id:f,className:g,ref:le})},o=function(d){Qb("mounts <".concat(r,">"));var f=d.id,g=d.className;return Qe.createElement("div",{id:f,className:g})},u=t?o:s;return u.propTypes={id:Tt.string,className:Tt.string,onChange:Tt.func,onBlur:Tt.func,onFocus:Tt.func,onReady:Tt.func,onEscape:Tt.func,onClick:Tt.func,onLoadError:Tt.func,onLoaderStart:Tt.func,onNetworksChange:Tt.func,onConfirm:Tt.func,onCancel:Tt.func,onShippingAddressChange:Tt.func,onShippingRateChange:Tt.func,onSavedPaymentMethodRemove:Tt.func,onSavedPaymentMethodUpdate:Tt.func,options:Tt.object},u.displayName=r,u.__elementType=e,u},dn=typeof window>"u",AK=Qe.createContext(null);AK.displayName="EmbeddedCheckoutProviderContext";var IK=function(){var e=Qb("calls useStripe()"),t=e.stripe;return t};fn("auBankAccount",dn);var iP=fn("card",dn);fn("cardNumber",dn);fn("cardExpiry",dn);fn("cardCvc",dn);fn("fpxBank",dn);fn("iban",dn);fn("idealBank",dn);fn("p24Bank",dn);fn("epsBank",dn);fn("payment",dn);fn("expressCheckout",dn);fn("paymentRequestButton",dn);fn("linkAuthentication",dn);fn("address",dn);fn("shippingAddress",dn);fn("paymentMethodMessaging",dn);fn("affirmMessage",dn);fn("afterpayClearpayMessage",dn);fn("taxId",dn);const RK=Ot.create({baseURL:"https://amazon-api-backend-q7f9.onrender.com/"});function CK(){const[{user:n,basket:e},t]=Q.useContext(Fs),r=e?.reduce((w,I)=>I.amount+w,0),s=e.reduce((w,I)=>I.price*I.amount+w,0),o=IK(),u=wK(),h=Qg(),[d,f]=Q.useState(null),[g,_]=Q.useState(!1),v=w=>{w?.error?.message?f(w?.error?.message):f("")},T=async w=>{w.preventDefault();try{_(!0);const x=(await RK({method:"POST",url:`/payment/create?total=${s*100}`})).data?.clientSecret,{paymentIntent:H}=await o.confirmCardPayment(x,{payment_method:{card:u.getElement(iP)}});await sk.collection("users").doc(n?.uid).collection("orders").doc(H.id).set({basket:e,amount:H.amount,created:H.created}),t({type:Wr.EMPTY_BASKET}),_(!1),h("/orders",{state:{msg:"You have placed new order"}})}catch(I){console.log(I),_(!1)}};return z.jsxs(Jc,{children:[z.jsxs("div",{className:Is.payment_header,children:["Checkout (",r,") items"]}),z.jsxs("section",{className:Is.payment,children:[z.jsx("div",{children:z.jsxs("div",{className:Is.flex,children:[z.jsx("h3",{children:"Delivery Address"}),z.jsxs("div",{children:[z.jsx("div",{children:n?.email}),z.jsx("div",{children:"123 Delivery Street"}),z.jsx("div",{children:"CityName, IL"})]})]})}),z.jsx("hr",{}),z.jsxs("div",{className:Is.flex,children:[z.jsx("h3",{children:"Review items delivery"}),z.jsx("div",{children:e?.map((w,I)=>z.jsx(Vc,{product:w,flex:!0},I))})]}),z.jsx("hr",{}),z.jsxs("div",{className:Is.flex,children:[z.jsx("h3",{children:"Payment methods"}),z.jsx("div",{className:Is.payment_card_container,children:z.jsx("div",{className:Is.payment_details,children:z.jsxs("form",{onSubmit:T,children:[d&&z.jsx("small",{style:{color:"red"},children:d}),z.jsx(iP,{onChange:v}),z.jsxs("div",{className:Is.payment_price,children:[z.jsx("div",{children:z.jsxs("span",{style:{display:"flex",gap:"10px"},children:["Total Order | ",z.jsx(yw,{amount:s})]})}),z.jsx("button",{type:"submit",children:g?z.jsxs("div",{className:Is.loading,children:[z.jsx(sb,{color:"gray",size:12}),z.jsx("p",{children:"Please Wait..."})]}):"Pay Now"})]})]})})})]})]})]})}const PK="_container_zpjvr_1",xK="_order_container_zpjvr_9",sP={container:PK,order_container:xK};function OK(){const[{user:n},e]=Q.useContext(Fs),[t,r]=Q.useState([]);return Q.useEffect(()=>{n?sk.collection("users").doc(n.uid).collection("orders").orderBy("created","desc").onSnapshot(s=>{r(s.docs.map(o=>({id:o.id,data:o.data()})))}):r([])},[]),z.jsx(Jc,{children:z.jsx("section",{className:sP.container,children:z.jsxs("div",{className:sP.order_container,children:[z.jsx("h2",{children:"Your Orders"}),t?.length==0&&z.jsx("div",{style:{padding:"20px"},children:"you don't have order yet."}),z.jsx("div",{children:t?.map((s,o)=>z.jsxs("div",{children:[z.jsx("hr",{}),z.jsxs("p",{children:["Order ID: ",s?.id]}),s?.data?.basket?.map((u,h)=>z.jsx(Vc,{flex:!0,product:u},u.id))]},o))})]})})})}const DK="_container_ao3jy_1",NK="_cart_container_ao3jy_21",kK="_cart_product_ao3jy_43",MK="_btn_container_ao3jy_51",VK="_btn_ao3jy_51",LK="_subtotal_ao3jy_93",tl={container:DK,cart_container:NK,cart_product:kK,btn_container:MK,btn:VK,subtotal:LK};function UK(n){return Lc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 294.1L383 167c9.4-9.4 24.6-9.4 33.9 0s9.3 24.6 0 34L273 345c-9.1 9.1-23.7 9.3-33.1.7L95 201.1c-4.7-4.7-7-10.9-7-17s2.3-12.3 7-17c9.4-9.4 24.6-9.4 33.9 0l127.1 127z"},child:[]}]})(n)}function BK(n){return Lc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 217.9L383 345c9.4 9.4 24.6 9.4 33.9 0 9.4-9.4 9.3-24.6 0-34L273 167c-9.1-9.1-23.7-9.3-33.1-.7L95 310.9c-4.7 4.7-7 10.9-7 17s2.3 12.3 7 17c9.4 9.4 24.6 9.4 33.9 0l127.1-127z"},child:[]}]})(n)}function FK(){const[{basket:n,user:e},t]=Q.useContext(Fs),r=n.reduce((u,h)=>h.price*h.amount+u,0),s=u=>{t({type:Wr.ADD_TO_BASKET,item:u})},o=u=>{t({type:Wr.REMOVE_FROM_BASKET,id:u})};return z.jsx(Jc,{children:z.jsxs("section",{className:tl.container,children:[z.jsxs("div",{className:tl.cart_container,children:[z.jsx("h2",{children:"Hello"}),z.jsx("h3",{children:"Your Shopping Basket"}),z.jsx("hr",{}),n?.length==0?z.jsx("p",{children:"Opps! No item in your basket"}):n?.map((u,h)=>z.jsxs("section",{className:tl.cart_product,children:[z.jsx(Vc,{product:u,renderDesc:!0,renderAdd:!1,flex:!0}),z.jsxs("div",{className:tl.btn_container,children:[z.jsx("button",{className:tl.btn,onClick:()=>s(u),children:z.jsx(BK,{size:30})}),z.jsx("span",{children:u.amount}),z.jsx("button",{className:tl.btn,onClick:()=>o(u.id),children:z.jsx(UK,{size:30})})]})]},h))]}),n?.length!==0&&z.jsxs("div",{className:tl.subtotal,children:[z.jsxs("div",{children:[z.jsxs("p",{children:["Subtotal: ",n?.length," items "]}),z.jsx(yw,{amount:r})]}),z.jsxs("span",{children:[z.jsx("input",{type:"checkbox"}),z.jsx("small",{children:"this order contain a gift"})]}),z.jsx(hi,{to:"/payments",children:"Continue to checkout"})]})]})})}const jK="_products_container_b5pid_1",zK={products_container:jK},pk="https://fakestoreapi.com";function qK(){const{categoryName:n}=yP(),[e,t]=Q.useState([]),[r,s]=Q.useState(!1);return Q.useEffect(()=>{s(!0),(async()=>{try{const u=await Ot.get(`${pk}/products/category/${n}`);t(u.data),s(!1)}catch(u){console.error(u),s(!1)}})()},[n]),z.jsx(Jc,{children:z.jsxs("section",{children:[z.jsx("h1",{style:{padding:"30px"},children:"Results"}),z.jsxs("p",{style:{padding:"38px"},children:["Category / ",n]}),z.jsx("hr",{}),r?z.jsx(_w,{}):z.jsx("div",{className:zK.products_container,children:e?.map(o=>z.jsx(Vc,{product:o,renderDesc:!1,renderAdd:!0},o.id))})]})})}function HK(){const{productId:n}=yP(),[e,t]=Q.useState(!1),[r,s]=Q.useState();return Q.useEffect(()=>{t(!0),Ot.get(`${pk}/products/${n}`).then(o=>{s(o.data),t(!1)}).catch(o=>{console.log(o),t(!1)})},[]),z.jsx(Jc,{children:e?z.jsx(_w,{}):z.jsx(Vc,{product:r,flex:!0,renderDesc:!0,renderAdd:!0})})}var mk="basil",$K=function(e){return e===3?"v3":e},gk="https://js.stripe.com",GK="".concat(gk,"/").concat(mk,"/stripe.js"),KK=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,WK=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var QK=function(e){return KK.test(e)||WK.test(e)},YK=function(){for(var e=document.querySelectorAll('script[src^="'.concat(gk,'"]')),t=0;t<e.length;t++){var r=e[t];if(QK(r.src))return r}return null},aP=function(e){var t="",r=document.createElement("script");r.src="".concat(GK).concat(t);var s=document.head||document.body;if(!s)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return s.appendChild(r),r},XK=function(e,t){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"7.9.0",startTime:t})},Rf=null,Fm=null,jm=null,JK=function(e){return function(t){e(new Error("Failed to load Stripe.js",{cause:t}))}},ZK=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}},eW=function(e){return Rf!==null?Rf:(Rf=new Promise(function(t,r){if(typeof window>"u"||typeof document>"u"){t(null);return}if(window.Stripe){t(window.Stripe);return}try{var s=YK();if(!(s&&e)){if(!s)s=aP(e);else if(s&&jm!==null&&Fm!==null){var o;s.removeEventListener("load",jm),s.removeEventListener("error",Fm),(o=s.parentNode)===null||o===void 0||o.removeChild(s),s=aP(e)}}jm=ZK(t,r),Fm=JK(r),s.addEventListener("load",jm),s.addEventListener("error",Fm)}catch(u){r(u);return}}),Rf.catch(function(t){return Rf=null,Promise.reject(t)}))},tW=function(e,t,r){if(e===null)return null;var s=t[0],o=s.match(/^pk_test/),u=$K(e.version),h=mk;o&&u!==h&&console.warn("Stripe.js@".concat(u," was loaded on the page, but @stripe/stripe-js@").concat("7.9.0"," expected Stripe.js@").concat(h,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var d=e.apply(void 0,t);return XK(d,r),d},Cf,yk=!1,_k=function(){return Cf||(Cf=eW(null).catch(function(e){return Cf=null,Promise.reject(e)}),Cf)};Promise.resolve().then(function(){return _k()}).catch(function(n){yk||console.warn(n)});var nW=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];yk=!0;var s=Date.now();return _k().then(function(o){return tW(o,t,s)})};function oP({children:n,msg:e,redirect:t}){const r=Qg(),[{user:s},o]=Q.useContext(Fs);return Q.useEffect(()=>{s||r("/auth",{state:{msg:e,redirect:t}})},[s]),n}const rW=nW("pk_test_51SAWG3H3j0dfFl2cbChciXOysjVYDjW4GDfyMuYBxHfu0NlGvhnVDDp0DiqmKPqe6YzkLNyJnut7L3EIPIQc9gaH00zYDZHWqY");function iW(){return z.jsx(mL,{children:z.jsxs(GV,{children:[z.jsx(Ma,{path:"/",element:z.jsx(XG,{})}),z.jsx(Ma,{path:"/auth",element:z.jsx(nK,{})}),z.jsx(Ma,{path:"/payments",element:z.jsx(oP,{msg:"you must log in to pay",redirect:"/payments",children:z.jsx(fk,{stripe:rW,children:z.jsx(CK,{})})})}),z.jsx(Ma,{path:"/orders",element:z.jsx(oP,{msg:"you must login to access your orders",redirect:"/orders",children:z.jsx(OK,{})})}),z.jsx(Ma,{path:"/cart",element:z.jsx(FK,{})}),z.jsx(Ma,{path:"/category/:categoryName",element:z.jsx(qK,{})}),z.jsx(Ma,{path:"/products/:productId",element:z.jsx(HK,{})})]})})}const sW=()=>{const[{user:n},e]=Q.useContext(Fs);return Q.useEffect(()=>{Kg.onAuthStateChanged(t=>{e(t?{type:Wr.SET_USER,user:t}:{type:Wr.SET_USER,user:null})})},[]),z.jsx(z.Fragment,{children:z.jsx(iW,{})})},aW={basket:[],user:null},oW=(n,e)=>{switch(e.type){case Wr.ADD_TO_BASKET:if(n.basket.find(r=>r.id===e.item.id)){const r=n.basket.map(s=>s.id===e.item.id?{...s,amount:s.amount+1}:s);return{...n,basket:r}}else return{...n,basket:[...n.basket,{...e.item,amount:1}]};case Wr.REMOVE_FROM_BASKET:{const t=n.basket.findIndex(s=>s.id===e.id);let r=[...n.basket];return t>=0&&(r[t].amount>1?r[t]={...r[t],amount:r[t].amount-1}:r.splice(t,1)),{...n,basket:r}}case Wr.EMPTY_BASKET:return{...n,basket:[]};case Wr.SET_USER:return{...n,user:e.user};default:return n}};nV.createRoot(document.getElementById("root")).render(z.jsx(Q.StrictMode,{children:z.jsx(nB,{reducer:oW,initialState:aW,children:z.jsx(sW,{})})}));
